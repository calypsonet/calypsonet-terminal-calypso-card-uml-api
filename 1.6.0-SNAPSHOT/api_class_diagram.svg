<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="3083px" preserveAspectRatio="none" style="width:5346px;height:3083px;background:#FFFFFF;" version="1.1" viewBox="0 0 5346 3083" width="5346px" zoomAndPan="magnify"><defs><filter height="1" id="bqala5uraun2h0" width="1" x="0" y="0"><feFlood flood-color="#FFFF00" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="480" x="2426" y="25.1074">Calypsonet - calypsonet-terminal-calypso-java-api - 1.6.+ (2023-01-20)</text><rect fill="#DDDDDD" height="65.8633" id="_legend" rx="7.5" ry="7.5" style="stroke:#000000;stroke-width:1.0;" width="276" x="2528" y="51.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="88" x="2533" y="71.7285">Colors legend</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="2625" y="71.7285">:</text><ellipse cx="2538.5" cy="86.3633" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="189" x="2545" y="90.3496">External public API references</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="2738" y="90.3496">:</text><rect fill="#000000" height="3.5" style="stroke:#000000;stroke-width:0.0;" width="3.5" x="2542" y="102.4844"/><text fill="#000000" filter="url(#bqala5uraun2h0)" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="250" x="2549" y="108.9707">calypsonet-terminal-reader-java-api</text><!--MD5=[7442f3b126ee602ae02566c1a49e158a]
cluster api--><g id="cluster_api"><path d="M8.5,136.498 L231.5,136.498 A3.75,3.75 0 0 1 234,138.998 L241,161.1191 L5336.5,161.1191 A2.5,2.5 0 0 1 5339,163.6191 L5339,3073.998 A2.5,2.5 0 0 1 5336.5,3076.498 L8.5,3076.498 A2.5,2.5 0 0 1 6,3073.998 L6,138.998 A2.5,2.5 0 0 1 8.5,136.498 " fill="#F8F9F9" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="6" x2="241" y1="161.1191" y2="161.1191"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="222" x="10" y="153.6055">org.calypsonet.terminal.calypso</text></g><!--MD5=[f7e0e2453c87923036c1ac2adfb9cbf0]
cluster spi--><g id="cluster_spi"><path d="M4470.5,1472.998 L4492.5,1472.998 A3.75,3.75 0 0 1 4495,1475.498 L4502,1497.6191 L4919.5,1497.6191 A2.5,2.5 0 0 1 4922,1500.1191 L4922,1629.498 A2.5,2.5 0 0 1 4919.5,1631.998 L4470.5,1631.998 A2.5,2.5 0 0 1 4468,1629.498 L4468,1475.498 A2.5,2.5 0 0 1 4470.5,1472.998 " fill="#F2F3F4" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="4468" x2="4502" y1="1497.6191" y2="1497.6191"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="21" x="4472" y="1490.1055">spi</text></g><!--MD5=[fc5f7357635190d92cef7ec8135ac887]
cluster card--><g id="cluster_card"><path d="M32.5,1092.998 L64.5,1092.998 A3.75,3.75 0 0 1 67,1095.498 L74,1117.6191 L1575.5,1117.6191 A2.5,2.5 0 0 1 1578,1120.1191 L1578,3049.998 A2.5,2.5 0 0 1 1575.5,3052.498 L32.5,3052.498 A2.5,2.5 0 0 1 30,3049.998 L30,1095.498 A2.5,2.5 0 0 1 32.5,1092.998 " fill="#F2F3F4" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="30" x2="74" y1="1117.6191" y2="1117.6191"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="31" x="34" y="1110.1055">card</text></g><!--MD5=[98d4fa74a8fc0b7c744d347d810a7562]
cluster sam--><g id="cluster_sam"><path d="M4470.5,2337.498 L4499.5,2337.498 A3.75,3.75 0 0 1 4502,2339.998 L4509,2362.1191 L5312.5,2362.1191 A2.5,2.5 0 0 1 5315,2364.6191 L5315,3003.498 A2.5,2.5 0 0 1 5312.5,3005.998 L4470.5,3005.998 A2.5,2.5 0 0 1 4468,3003.498 L4468,2339.998 A2.5,2.5 0 0 1 4470.5,2337.498 " fill="#F2F3F4" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="4468" x2="4509" y1="2362.1191" y2="2362.1191"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="28" x="4472" y="2354.6055">sam</text></g><!--MD5=[f9c58d90839a0c7c212d8c6553ac9eb7]
cluster transaction--><g id="cluster_transaction"><path d="M1604.5,181.498 L1684.5,181.498 A3.75,3.75 0 0 1 1687,183.998 L1694,206.1191 L4441.5,206.1191 A2.5,2.5 0 0 1 4444,208.6191 L4444,2715.998 A2.5,2.5 0 0 1 4441.5,2718.498 L1604.5,2718.498 A2.5,2.5 0 0 1 1602,2715.998 L1602,183.998 A2.5,2.5 0 0 1 1604.5,181.498 " fill="#F2F3F4" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="1602" x2="1694" y1="206.1191" y2="206.1191"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="79" x="1606" y="198.6055">transaction</text></g><!--MD5=[120218adfd8782b0057db0a1b8294250]
class ApiProperties--><g id="elem_ApiProperties"><rect codeLine="61" fill="#FEFECE" height="66.6211" id="ApiProperties" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="213" x="696.5" y="350.998"/><ellipse cx="711.5" cy="366.998" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M714.2656,362.873 Q714.4219,362.6543 714.6094,362.5449 Q714.7969,362.4355 715.0156,362.4355 Q715.3906,362.4355 715.625,362.7012 Q715.8594,362.9512 715.8594,363.5605 L715.8594,365.0137 Q715.8594,365.623 715.625,365.8887 Q715.3906,366.1543 715.0156,366.1543 Q714.6719,366.1543 714.4688,365.9512 Q714.2656,365.7637 714.1563,365.248 Q714.1094,364.8887 713.9219,364.7012 Q713.5938,364.3262 712.9844,364.1074 Q712.375,363.8887 711.75,363.8887 Q710.9844,363.8887 710.3438,364.2168 Q709.7188,364.5449 709.2188,365.2949 Q708.7344,366.0449 708.7344,367.0762 L708.7344,368.1699 Q708.7344,369.4043 709.625,370.2324 Q710.5156,371.0449 712.1094,371.0449 Q713.0469,371.0449 713.7031,370.7949 Q714.0938,370.6387 714.5156,370.2012 Q714.7813,369.9355 714.9219,369.8574 Q715.0781,369.7793 715.2813,369.7793 Q715.6094,369.7793 715.8594,370.0449 Q716.125,370.2949 716.125,370.6387 Q716.125,370.9824 715.7813,371.3887 Q715.2813,371.9668 714.4844,372.2949 Q713.4063,372.748 712.1094,372.748 Q710.5938,372.748 709.3906,372.123 Q708.4063,371.623 707.7188,370.5605 Q707.0313,369.4824 707.0313,368.2012 L707.0313,367.0449 Q707.0313,365.7168 707.6406,364.5762 Q708.2656,363.4199 709.3594,362.8105 Q710.4531,362.1855 711.6875,362.1855 Q712.4219,362.1855 713.0625,362.3574 Q713.7188,362.5137 714.2656,362.873 Z " fill="#000000"/><ellipse cx="730.5" cy="366.498" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="30" x="736.5" y="372.7949">final</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="770.5" y="372.7949">CalypsoApiProperties</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="697.5" x2="908.5" y1="382.998" y2="382.998"/><ellipse cx="707.5" cy="397.8086" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="30" x="716.5" y="402.1055">final</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="101" x="750.5" y="402.1055">String VERSION</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="697.5" x2="908.5" y1="409.6191" y2="409.6191"/></g><!--MD5=[d40df061e984b253aad79dc56dfef347]
class WriteAccessLevel--><g id="elem_WriteAccessLevel"><rect codeLine="64" fill="#FEFECE" height="103.8633" id="WriteAccessLevel" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="155" x="2627.5" y="2857.998"/><ellipse cx="2642.5" cy="2873.998" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M2641.3594,2874.7949 L2641.3594,2877.2949 L2645.6875,2877.2949 L2645.6875,2876.373 Q2645.6875,2875.7637 2645.9219,2875.498 Q2646.1719,2875.2324 2646.5469,2875.2324 Q2646.9219,2875.2324 2647.1563,2875.498 Q2647.3906,2875.7637 2647.3906,2876.373 L2647.3906,2878.998 L2639.3906,2878.998 Q2638.7656,2878.998 2638.5,2878.7637 Q2638.25,2878.5293 2638.25,2878.1387 Q2638.25,2877.7637 2638.5156,2877.5293 Q2638.7813,2877.2949 2639.3906,2877.2949 L2639.6563,2877.2949 L2639.6563,2870.6387 L2639.3906,2870.6387 Q2638.7656,2870.6387 2638.5,2870.4043 Q2638.25,2870.1699 2638.25,2869.7793 Q2638.25,2869.4043 2638.5,2869.1699 Q2638.7656,2868.9355 2639.3906,2868.9355 L2647.0156,2868.9355 L2647.0156,2871.5293 Q2647.0156,2872.1387 2646.7813,2872.4043 Q2646.5625,2872.6543 2646.1719,2872.6543 Q2645.7969,2872.6543 2645.5625,2872.4043 Q2645.3281,2872.1387 2645.3281,2871.5293 L2645.3281,2870.6387 L2641.3594,2870.6387 L2641.3594,2873.0918 L2642.8438,2873.0918 Q2642.8438,2872.4355 2642.9688,2872.248 Q2643.2344,2871.8418 2643.7031,2871.8418 Q2644.0781,2871.8418 2644.3125,2872.1074 Q2644.5469,2872.3574 2644.5469,2872.9668 L2644.5469,2874.9355 Q2644.5469,2875.4824 2644.4219,2875.6699 Q2644.1563,2876.0605 2643.7031,2876.0605 Q2643.2344,2876.0605 2642.9688,2875.6543 Q2642.8438,2875.4668 2642.8438,2874.7949 L2641.3594,2874.7949 Z " fill="#000000"/><ellipse cx="2661.5" cy="2873.498" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="2667.5" y="2879.7949">WriteAccessLevel</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="2628.5" x2="2781.5" y1="2889.998" y2="2889.998"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="2633.5" y="2909.1055">PERSONALIZATION</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="2633.5" y="2927.7266">LOAD</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="2633.5" y="2946.3477">DEBIT</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="2628.5" x2="2781.5" y1="2953.8613" y2="2953.8613"/></g><!--MD5=[858307e347215d8034d295bce1f15f07]
class SelectFileControl--><g id="elem_SelectFileControl"><rect codeLine="69" fill="#FEFECE" height="103.8633" id="SelectFileControl" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="151" x="1205.5" y="656.998"/><ellipse cx="1220.5" cy="672.998" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1219.3594,673.7949 L1219.3594,676.2949 L1223.6875,676.2949 L1223.6875,675.373 Q1223.6875,674.7637 1223.9219,674.498 Q1224.1719,674.2324 1224.5469,674.2324 Q1224.9219,674.2324 1225.1563,674.498 Q1225.3906,674.7637 1225.3906,675.373 L1225.3906,677.998 L1217.3906,677.998 Q1216.7656,677.998 1216.5,677.7637 Q1216.25,677.5293 1216.25,677.1387 Q1216.25,676.7637 1216.5156,676.5293 Q1216.7813,676.2949 1217.3906,676.2949 L1217.6563,676.2949 L1217.6563,669.6387 L1217.3906,669.6387 Q1216.7656,669.6387 1216.5,669.4043 Q1216.25,669.1699 1216.25,668.7793 Q1216.25,668.4043 1216.5,668.1699 Q1216.7656,667.9355 1217.3906,667.9355 L1225.0156,667.9355 L1225.0156,670.5293 Q1225.0156,671.1387 1224.7813,671.4043 Q1224.5625,671.6543 1224.1719,671.6543 Q1223.7969,671.6543 1223.5625,671.4043 Q1223.3281,671.1387 1223.3281,670.5293 L1223.3281,669.6387 L1219.3594,669.6387 L1219.3594,672.0918 L1220.8438,672.0918 Q1220.8438,671.4355 1220.9688,671.248 Q1221.2344,670.8418 1221.7031,670.8418 Q1222.0781,670.8418 1222.3125,671.1074 Q1222.5469,671.3574 1222.5469,671.9668 L1222.5469,673.9355 Q1222.5469,674.4824 1222.4219,674.6699 Q1222.1563,675.0605 1221.7031,675.0605 Q1221.2344,675.0605 1220.9688,674.6543 Q1220.8438,674.4668 1220.8438,673.7949 L1219.3594,673.7949 Z " fill="#000000"/><ellipse cx="1239.5" cy="672.498" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="1245.5" y="678.7949">SelectFileControl</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1206.5" x2="1355.5" y1="688.998" y2="688.998"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="1211.5" y="708.1055">FIRST_EF</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="1211.5" y="726.7266">NEXT_EF</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="1211.5" y="745.3477">CURRENT_DF</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1206.5" x2="1355.5" y1="752.8613" y2="752.8613"/></g><!--MD5=[97e08845a712c8f45c07bef0bf0d44ef]
class GetDataTag--><g id="elem_GetDataTag"><rect codeLine="74" fill="#FEFECE" height="122.4844" id="GetDataTag" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="211" x="953.5" y="647.998"/><ellipse cx="1010.25" cy="663.998" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1009.1094,664.7949 L1009.1094,667.2949 L1013.4375,667.2949 L1013.4375,666.373 Q1013.4375,665.7637 1013.6719,665.498 Q1013.9219,665.2324 1014.2969,665.2324 Q1014.6719,665.2324 1014.9063,665.498 Q1015.1406,665.7637 1015.1406,666.373 L1015.1406,668.998 L1007.1406,668.998 Q1006.5156,668.998 1006.25,668.7637 Q1006,668.5293 1006,668.1387 Q1006,667.7637 1006.2656,667.5293 Q1006.5313,667.2949 1007.1406,667.2949 L1007.4063,667.2949 L1007.4063,660.6387 L1007.1406,660.6387 Q1006.5156,660.6387 1006.25,660.4043 Q1006,660.1699 1006,659.7793 Q1006,659.4043 1006.25,659.1699 Q1006.5156,658.9355 1007.1406,658.9355 L1014.7656,658.9355 L1014.7656,661.5293 Q1014.7656,662.1387 1014.5313,662.4043 Q1014.3125,662.6543 1013.9219,662.6543 Q1013.5469,662.6543 1013.3125,662.4043 Q1013.0781,662.1387 1013.0781,661.5293 L1013.0781,660.6387 L1009.1094,660.6387 L1009.1094,663.0918 L1010.5938,663.0918 Q1010.5938,662.4355 1010.7188,662.248 Q1010.9844,661.8418 1011.4531,661.8418 Q1011.8281,661.8418 1012.0625,662.1074 Q1012.2969,662.3574 1012.2969,662.9668 L1012.2969,664.9355 Q1012.2969,665.4824 1012.1719,665.6699 Q1011.9063,666.0605 1011.4531,666.0605 Q1010.9844,666.0605 1010.7188,665.6543 Q1010.5938,665.4668 1010.5938,664.7949 L1009.1094,664.7949 Z " fill="#000000"/><ellipse cx="1035.75" cy="663.498" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="1041.75" y="669.7949">GetDataTag</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="954.5" x2="1163.5" y1="679.998" y2="679.998"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177" x="959.5" y="699.1055">FCP_FOR_CURRENT_FILE</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="959.5" y="717.7266">FCI_FOR_CURRENT_DF</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="959.5" y="736.3477">EF_LIST</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="959.5" y="754.9688">TRACEABILITY_INFORMATION</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="954.5" x2="1163.5" y1="762.4824" y2="762.4824"/></g><!--MD5=[e9275a698c945725d635dad2e94a3fa6]
class SamRevocationServiceSpi--><g id="elem_SamRevocationServiceSpi"><rect codeLine="81" fill="#FEFECE" height="85.2422" id="SamRevocationServiceSpi" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="422" x="4484" y="1530.998"/><ellipse cx="4603.25" cy="1546.998" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M4604.2031,1543.6387 L4604.2031,1550.2949 L4605.9219,1550.2949 Q4606.5313,1550.2949 4606.7969,1550.5293 Q4607.0625,1550.7637 4607.0625,1551.1543 Q4607.0625,1551.5293 4606.7969,1551.7637 Q4606.5313,1551.998 4605.9219,1551.998 L4600.7813,1551.998 Q4600.1719,1551.998 4599.9063,1551.7637 Q4599.6406,1551.5293 4599.6406,1551.1387 Q4599.6406,1550.7637 4599.9063,1550.5293 Q4600.1719,1550.2949 4600.7813,1550.2949 L4602.5,1550.2949 L4602.5,1543.6387 L4600.7813,1543.6387 Q4600.1719,1543.6387 4599.9063,1543.4043 Q4599.6406,1543.1699 4599.6406,1542.7793 Q4599.6406,1542.4043 4599.9063,1542.1699 Q4600.1719,1541.9355 4600.7813,1541.9355 L4605.9219,1541.9355 Q4606.5313,1541.9355 4606.7969,1542.1699 Q4607.0625,1542.4043 4607.0625,1542.7793 Q4607.0625,1543.1699 4606.7969,1543.4043 Q4606.5313,1543.6387 4605.9219,1543.6387 L4604.2031,1543.6387 Z " fill="#000000"/><ellipse cx="4628.75" cy="1546.498" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="164" x="4634.75" y="1552.7949">SamRevocationServiceSpi</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="4485" x2="4905" y1="1562.998" y2="1562.998"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="4485" x2="4905" y1="1570.998" y2="1570.998"/><ellipse cx="4495" cy="1585.8086" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="285" x="4504" y="1590.1055">boolean isSamRevoked (byte[] serialNumber)</text><ellipse cx="4495" cy="1604.4297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="396" x="4504" y="1608.7266">boolean isSamRevoked (byte[] serialNumber, int counterValue)</text></g><!--MD5=[dedf7a414a26192be9658079488df692]
class CalypsoCardSelection--><g id="elem_CalypsoCardSelection"><rect codeLine="87" fill="#FEFECE" height="435.6641" id="CalypsoCardSelection" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="619" x="56.5" y="1355.498"/><ellipse cx="286.25" cy="1379.1191" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M287.2031,1375.7598 L287.2031,1382.416 L288.9219,1382.416 Q289.5313,1382.416 289.7969,1382.6504 Q290.0625,1382.8848 290.0625,1383.2754 Q290.0625,1383.6504 289.7969,1383.8848 Q289.5313,1384.1191 288.9219,1384.1191 L283.7813,1384.1191 Q283.1719,1384.1191 282.9063,1383.8848 Q282.6406,1383.6504 282.6406,1383.2598 Q282.6406,1382.8848 282.9063,1382.6504 Q283.1719,1382.416 283.7813,1382.416 L285.5,1382.416 L285.5,1375.7598 L283.7813,1375.7598 Q283.1719,1375.7598 282.9063,1375.5254 Q282.6406,1375.291 282.6406,1374.9004 Q282.6406,1374.5254 282.9063,1374.291 Q283.1719,1374.0566 283.7813,1374.0566 L288.9219,1374.0566 Q289.5313,1374.0566 289.7969,1374.291 Q290.0625,1374.5254 290.0625,1374.9004 Q290.0625,1375.291 289.7969,1375.5254 Q289.5313,1375.7598 288.9219,1375.7598 L287.2031,1375.7598 Z " fill="#000000"/><ellipse cx="311.75" cy="1378.6191" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="16" x="327.25" y="1375.6055">&lt;&lt;</text><text fill="#000000" filter="url(#bqala5uraun2h0)" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="89" x="343.25" y="1375.6055">CardSelection</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="16" x="432.25" y="1375.6055">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="140" x="317.75" y="1394.2266">CalypsoCardSelection</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="57.5" x2="674.5" y1="1402.7402" y2="1402.7402"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="57.5" x2="674.5" y1="1410.7402" y2="1410.7402"/><ellipse cx="67.5" cy="1425.5508" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="405" x="76.5" y="1429.8477">CalypsoCardSelection filterByCardProtocol (String cardProtocol)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="76.5" y="1448.4688"> </text><ellipse cx="67.5" cy="1462.793" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="457" x="76.5" y="1467.0898">CalypsoCardSelection filterByPowerOnData (String powerOnDataRegex)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="76.5" y="1485.7109"> </text><ellipse cx="67.5" cy="1500.0352" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="309" x="76.5" y="1504.332">CalypsoCardSelection filterByDfName (byte[] aid)</text><ellipse cx="67.5" cy="1518.6563" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="311" x="76.5" y="1522.9531">CalypsoCardSelection filterByDfName (String aid)</text><ellipse cx="67.5" cy="1537.2773" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="467" x="76.5" y="1541.5742">CalypsoCardSelection setFileOccurrence (FileOccurrence fileOccurrence)</text><ellipse cx="67.5" cy="1555.8984" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="593" x="76.5" y="1560.1953">CalypsoCardSelection setFileControlInformation (FileControlInformation fileControlInformation)</text><ellipse cx="67.5" cy="1574.5195" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="415" x="76.5" y="1578.8164">CalypsoCardSelection addSuccessfulStatusWord (int statusWord)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="76.5" y="1597.4375"> </text><ellipse cx="67.5" cy="1611.7617" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="299" x="76.5" y="1616.0586">CalypsoCardSelection acceptInvalidatedCard ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="76.5" y="1634.6797"> </text><ellipse cx="67.5" cy="1649.0039" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="323" x="76.5" y="1653.3008">CalypsoCardSelection prepareSelectFile (byte[] lid)</text><ellipse cx="67.5" cy="1667.625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="320" x="76.5" y="1671.9219">CalypsoCardSelection prepareSelectFile (short lid)</text><ellipse cx="67.5" cy="1686.2461" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="465" x="76.5" y="1690.543">CalypsoCardSelection prepareSelectFile (SelectFileControl selectControl)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="76.5" y="1709.1641"> </text><ellipse cx="67.5" cy="1723.4883" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="363" x="76.5" y="1727.7852">CalypsoCardSelection prepareGetData (GetDataTag tag)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="76.5" y="1746.4063"> </text><ellipse cx="67.5" cy="1760.7305" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="473" x="76.5" y="1765.0273">CalypsoCardSelection prepareReadRecordFile (byte sfi, int recordNumber)</text><ellipse cx="67.5" cy="1779.3516" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="450" x="76.5" y="1783.6484">CalypsoCardSelection prepareReadRecord (byte sfi, int recordNumber)</text></g><!--MD5=[986279e3cfc2043660398b1cf71c65a2]
class FileOccurrence--><g id="elem_FileOccurrence"><rect codeLine="109" fill="#FEFECE" height="122.4844" id="FileOccurrence" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="140" x="263" y="2458.998"/><ellipse cx="278" cy="2474.998" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M276.8594,2475.7949 L276.8594,2478.2949 L281.1875,2478.2949 L281.1875,2477.373 Q281.1875,2476.7637 281.4219,2476.498 Q281.6719,2476.2324 282.0469,2476.2324 Q282.4219,2476.2324 282.6563,2476.498 Q282.8906,2476.7637 282.8906,2477.373 L282.8906,2479.998 L274.8906,2479.998 Q274.2656,2479.998 274,2479.7637 Q273.75,2479.5293 273.75,2479.1387 Q273.75,2478.7637 274.0156,2478.5293 Q274.2813,2478.2949 274.8906,2478.2949 L275.1563,2478.2949 L275.1563,2471.6387 L274.8906,2471.6387 Q274.2656,2471.6387 274,2471.4043 Q273.75,2471.1699 273.75,2470.7793 Q273.75,2470.4043 274,2470.1699 Q274.2656,2469.9355 274.8906,2469.9355 L282.5156,2469.9355 L282.5156,2472.5293 Q282.5156,2473.1387 282.2813,2473.4043 Q282.0625,2473.6543 281.6719,2473.6543 Q281.2969,2473.6543 281.0625,2473.4043 Q280.8281,2473.1387 280.8281,2472.5293 L280.8281,2471.6387 L276.8594,2471.6387 L276.8594,2474.0918 L278.3438,2474.0918 Q278.3438,2473.4355 278.4688,2473.248 Q278.7344,2472.8418 279.2031,2472.8418 Q279.5781,2472.8418 279.8125,2473.1074 Q280.0469,2473.3574 280.0469,2473.9668 L280.0469,2475.9355 Q280.0469,2476.4824 279.9219,2476.6699 Q279.6563,2477.0605 279.2031,2477.0605 Q278.7344,2477.0605 278.4688,2476.6543 Q278.3438,2476.4668 278.3438,2475.7949 L276.8594,2475.7949 Z " fill="#000000"/><ellipse cx="297" cy="2474.498" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="303" y="2480.7949">FileOccurrence</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="264" x2="402" y1="2490.998" y2="2490.998"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="269" y="2510.1055">FIRST</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="269" y="2528.7266">LAST</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="269" y="2547.3477">NEXT</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="269" y="2565.9688">PREVIOUS</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="264" x2="402" y1="2573.4824" y2="2573.4824"/></g><!--MD5=[7db03ef0d09735de9c956eac87f10fc3]
class FileControlInformation--><g id="elem_FileControlInformation"><rect codeLine="115" fill="#FEFECE" height="85.2422" id="FileControlInformation" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="182" x="46" y="2477.498"/><ellipse cx="61" cy="2493.498" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M59.8594,2494.2949 L59.8594,2496.7949 L64.1875,2496.7949 L64.1875,2495.873 Q64.1875,2495.2637 64.4219,2494.998 Q64.6719,2494.7324 65.0469,2494.7324 Q65.4219,2494.7324 65.6563,2494.998 Q65.8906,2495.2637 65.8906,2495.873 L65.8906,2498.498 L57.8906,2498.498 Q57.2656,2498.498 57,2498.2637 Q56.75,2498.0293 56.75,2497.6387 Q56.75,2497.2637 57.0156,2497.0293 Q57.2813,2496.7949 57.8906,2496.7949 L58.1563,2496.7949 L58.1563,2490.1387 L57.8906,2490.1387 Q57.2656,2490.1387 57,2489.9043 Q56.75,2489.6699 56.75,2489.2793 Q56.75,2488.9043 57,2488.6699 Q57.2656,2488.4355 57.8906,2488.4355 L65.5156,2488.4355 L65.5156,2491.0293 Q65.5156,2491.6387 65.2813,2491.9043 Q65.0625,2492.1543 64.6719,2492.1543 Q64.2969,2492.1543 64.0625,2491.9043 Q63.8281,2491.6387 63.8281,2491.0293 L63.8281,2490.1387 L59.8594,2490.1387 L59.8594,2492.5918 L61.3438,2492.5918 Q61.3438,2491.9355 61.4688,2491.748 Q61.7344,2491.3418 62.2031,2491.3418 Q62.5781,2491.3418 62.8125,2491.6074 Q63.0469,2491.8574 63.0469,2492.4668 L63.0469,2494.4355 Q63.0469,2494.9824 62.9219,2495.1699 Q62.6563,2495.5605 62.2031,2495.5605 Q61.7344,2495.5605 61.4688,2495.1543 Q61.3438,2494.9668 61.3438,2494.2949 L59.8594,2494.2949 Z " fill="#000000"/><ellipse cx="80" cy="2492.998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="86" y="2499.2949">FileControlInformation</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="47" x2="227" y1="2509.498" y2="2509.498"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="22" x="52" y="2528.6055">FCI</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="52" y="2547.2266">NO_RESPONSE</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="47" x2="227" y1="2554.7402" y2="2554.7402"/></g><!--MD5=[57d9060bfed72118962c04165c3e8b58]
class CalypsoCard--><g id="elem_CalypsoCard"><rect codeLine="119" fill="#FEFECE" height="845.3281" id="CalypsoCard" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="362" x="721" y="1150.998"/><ellipse cx="842.25" cy="1174.6191" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M843.2031,1171.2598 L843.2031,1177.916 L844.9219,1177.916 Q845.5313,1177.916 845.7969,1178.1504 Q846.0625,1178.3848 846.0625,1178.7754 Q846.0625,1179.1504 845.7969,1179.3848 Q845.5313,1179.6191 844.9219,1179.6191 L839.7813,1179.6191 Q839.1719,1179.6191 838.9063,1179.3848 Q838.6406,1179.1504 838.6406,1178.7598 Q838.6406,1178.3848 838.9063,1178.1504 Q839.1719,1177.916 839.7813,1177.916 L841.5,1177.916 L841.5,1171.2598 L839.7813,1171.2598 Q839.1719,1171.2598 838.9063,1171.0254 Q838.6406,1170.791 838.6406,1170.4004 Q838.6406,1170.0254 838.9063,1169.791 Q839.1719,1169.5566 839.7813,1169.5566 L844.9219,1169.5566 Q845.5313,1169.5566 845.7969,1169.791 Q846.0625,1170.0254 846.0625,1170.4004 Q846.0625,1170.791 845.7969,1171.0254 Q845.5313,1171.2598 844.9219,1171.2598 L843.2031,1171.2598 Z " fill="#000000"/><ellipse cx="867.75" cy="1174.1191" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="16" x="873.75" y="1171.1055">&lt;&lt;</text><text fill="#000000" filter="url(#bqala5uraun2h0)" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="68" x="889.75" y="1171.1055">SmartCard</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="16" x="957.75" y="1171.1055">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="82" x="882.75" y="1189.7266">CalypsoCard</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="722" x2="1082" y1="1198.2402" y2="1198.2402"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="722" x2="1082" y1="1206.2402" y2="1206.2402"/><ellipse cx="732" cy="1221.0508" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="200" x="741" y="1225.3477">ProductType getProductType ()</text><ellipse cx="732" cy="1239.6719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="741" y="1243.9688">boolean isHce ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="741" y="1262.5898"> </text><ellipse cx="732" cy="1276.9141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="741" y="1281.2109">boolean isDfInvalidated ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="741" y="1299.832"> </text><ellipse cx="732" cy="1314.1563" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="741" y="1318.4531">byte[] getDfName ()</text><ellipse cx="732" cy="1332.7773" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="227" x="741" y="1337.0742">byte[] getApplicationSerialNumber ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="741" y="1355.6953"> </text><ellipse cx="732" cy="1370.0195" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="741" y="1374.3164">byte[] getStartupInfoRawData ()</text><ellipse cx="732" cy="1388.6406" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="741" y="1392.9375">byte getPlatform ()</text><ellipse cx="732" cy="1407.2617" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166" x="741" y="1411.5586">byte getApplicationType ()</text><ellipse cx="732" cy="1425.8828" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="186" x="741" y="1430.1797">byte getApplicationSubtype ()</text><ellipse cx="732" cy="1444.5039" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158" x="741" y="1448.8008">byte getSoftwareIssuer ()</text><ellipse cx="732" cy="1463.125" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="741" y="1467.4219">byte getSoftwareVersion ()</text><ellipse cx="732" cy="1481.7461" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174" x="741" y="1486.043">byte getSoftwareRevision ()</text><ellipse cx="732" cy="1500.3672" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190" x="741" y="1504.6641">byte getSessionModification ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="741" y="1523.2852"> </text><ellipse cx="732" cy="1537.6094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="216" x="741" y="1541.9063">byte[] getTraceabilityInformation ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="741" y="1560.5273"> </text><ellipse cx="732" cy="1574.8516" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="244" x="741" y="1579.1484">DirectoryHeader getDirectoryHeader ()</text><ellipse cx="732" cy="1593.4727" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="232" x="741" y="1597.7695">ElementaryFile getFileBySfi (byte sfi)</text><ellipse cx="732" cy="1612.0938" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="240" x="741" y="1616.3906">ElementaryFile getFileByLid (short lid)</text><ellipse cx="732" cy="1630.7148" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="256" x="741" y="1635.0117">Map&lt;Byte, ElementaryFile&gt; getAllFiles ()</text><ellipse cx="732" cy="1649.3359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="741" y="1653.6328">Set&lt;ElementaryFile&gt; getFiles ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="741" y="1672.2539"> </text><ellipse cx="732" cy="1686.5781" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="741" y="1690.875">boolean isDfRatified ()</text><ellipse cx="732" cy="1705.1992" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179" x="741" y="1709.4961">int getTransactionCounter ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="741" y="1728.1172"> </text><ellipse cx="732" cy="1742.4414" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="741" y="1746.7383">boolean isPkiModeSupported ()</text><ellipse cx="732" cy="1761.0625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="239" x="741" y="1765.3594">boolean isExtendedModeSupported ()</text><ellipse cx="732" cy="1779.6836" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="289" x="741" y="1783.9805">boolean isRatificationOnDeselectSupported ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="741" y="1802.6016"> </text><ellipse cx="732" cy="1816.9258" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="206" x="741" y="1821.2227">boolean isPinFeatureAvailable ()</text><ellipse cx="732" cy="1835.5469" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="741" y="1839.8438">boolean isPinBlocked ()</text><ellipse cx="732" cy="1854.168" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="188" x="741" y="1858.4648">int getPinAttemptRemaining ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="741" y="1877.0859"> </text><ellipse cx="732" cy="1891.4102" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="202" x="741" y="1895.707">boolean isSvFeatureAvailable ()</text><ellipse cx="732" cy="1910.0313" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="741" y="1914.3281">int getSvBalance ()</text><ellipse cx="732" cy="1928.6523" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="741" y="1932.9492">int getSvLastTNum ()</text><ellipse cx="732" cy="1947.2734" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="274" x="741" y="1951.5703">SvLoadLogRecord getSvLoadLogRecord ()</text><ellipse cx="732" cy="1965.8945" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="303" x="741" y="1970.1914">SvDebitLogRecord getSvDebitLogLastRecord ()</text><ellipse cx="732" cy="1984.5156" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="336" x="741" y="1988.8125">List&lt;SvDebitLogRecord&gt; getSvDebitLogAllRecords ()</text></g><!--MD5=[0b9f931ff20ef873cbf798587ab2189f]
class DirectoryHeader--><g id="elem_DirectoryHeader"><rect codeLine="163" fill="#FEFECE" height="196.9688" id="DirectoryHeader" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="338" x="1027" y="2421.498"/><ellipse cx="1134.25" cy="2437.498" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1135.2031,2434.1387 L1135.2031,2440.7949 L1136.9219,2440.7949 Q1137.5313,2440.7949 1137.7969,2441.0293 Q1138.0625,2441.2637 1138.0625,2441.6543 Q1138.0625,2442.0293 1137.7969,2442.2637 Q1137.5313,2442.498 1136.9219,2442.498 L1131.7813,2442.498 Q1131.1719,2442.498 1130.9063,2442.2637 Q1130.6406,2442.0293 1130.6406,2441.6387 Q1130.6406,2441.2637 1130.9063,2441.0293 Q1131.1719,2440.7949 1131.7813,2440.7949 L1133.5,2440.7949 L1133.5,2434.1387 L1131.7813,2434.1387 Q1131.1719,2434.1387 1130.9063,2433.9043 Q1130.6406,2433.6699 1130.6406,2433.2793 Q1130.6406,2432.9043 1130.9063,2432.6699 Q1131.1719,2432.4355 1131.7813,2432.4355 L1136.9219,2432.4355 Q1137.5313,2432.4355 1137.7969,2432.6699 Q1138.0625,2432.9043 1138.0625,2433.2793 Q1138.0625,2433.6699 1137.7969,2433.9043 Q1137.5313,2434.1387 1136.9219,2434.1387 L1135.2031,2434.1387 Z " fill="#000000"/><ellipse cx="1159.75" cy="2436.998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="104" x="1165.75" y="2443.2949">DirectoryHeader</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1028" x2="1364" y1="2453.498" y2="2453.498"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1028" x2="1364" y1="2461.498" y2="2461.498"/><ellipse cx="1038" cy="2476.3086" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="1047" y="2480.6055">short getLid ()</text><ellipse cx="1038" cy="2494.9297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="1047" y="2499.2266">Byte getDfStatus ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1047" y="2517.8477"> </text><ellipse cx="1038" cy="2532.1719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185" x="1047" y="2536.4688">byte[] getAccessConditions ()</text><ellipse cx="1038" cy="2550.793" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="1047" y="2555.0898">byte[] getKeyIndexes ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1047" y="2573.7109"> </text><ellipse cx="1038" cy="2588.0352" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="305" x="1047" y="2592.332">byte getKif (WriteAccessLevel writeAccessLevel)</text><ellipse cx="1038" cy="2606.6563" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="312" x="1047" y="2610.9531">byte getKvc (WriteAccessLevel writeAccessLevel)</text></g><!--MD5=[96ed275c747ab8e5816af3c7b7a6d739]
class ElementaryFile--><g id="elem_ElementaryFile"><rect codeLine="173" fill="#FEFECE" height="103.8633" id="ElementaryFile" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="179" x="812.5" y="2467.998"/><ellipse cx="846.4" cy="2483.998" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M847.3531,2480.6387 L847.3531,2487.2949 L849.0719,2487.2949 Q849.6813,2487.2949 849.9469,2487.5293 Q850.2125,2487.7637 850.2125,2488.1543 Q850.2125,2488.5293 849.9469,2488.7637 Q849.6813,2488.998 849.0719,2488.998 L843.9313,2488.998 Q843.3219,2488.998 843.0563,2488.7637 Q842.7906,2488.5293 842.7906,2488.1387 Q842.7906,2487.7637 843.0563,2487.5293 Q843.3219,2487.2949 843.9313,2487.2949 L845.65,2487.2949 L845.65,2480.6387 L843.9313,2480.6387 Q843.3219,2480.6387 843.0563,2480.4043 Q842.7906,2480.1699 842.7906,2479.7793 Q842.7906,2479.4043 843.0563,2479.1699 Q843.3219,2478.9355 843.9313,2478.9355 L849.0719,2478.9355 Q849.6813,2478.9355 849.9469,2479.1699 Q850.2125,2479.4043 850.2125,2479.7793 Q850.2125,2480.1699 849.9469,2480.4043 Q849.6813,2480.6387 849.0719,2480.6387 L847.3531,2480.6387 Z " fill="#000000"/><ellipse cx="869.6" cy="2483.498" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="94" x="875.6" y="2489.7949">ElementaryFile</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="813.5" x2="990.5" y1="2499.998" y2="2499.998"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="813.5" x2="990.5" y1="2507.998" y2="2507.998"/><ellipse cx="823.5" cy="2522.8086" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="832.5" y="2527.1055">byte getSfi ()</text><ellipse cx="823.5" cy="2541.4297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="832.5" y="2545.7266">FileHeader getHeader ()</text><ellipse cx="823.5" cy="2560.0508" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="832.5" y="2564.3477">FileData getData ()</text></g><!--MD5=[486f9787c412818ec30cf5d906211656]
class FileHeader--><g id="elem_FileHeader"><rect codeLine="178" fill="#FEFECE" height="252.832" id="FileHeader" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="239" x="486.5" y="2783.498"/><ellipse cx="561.25" cy="2799.498" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M562.2031,2796.1387 L562.2031,2802.7949 L563.9219,2802.7949 Q564.5313,2802.7949 564.7969,2803.0293 Q565.0625,2803.2637 565.0625,2803.6543 Q565.0625,2804.0293 564.7969,2804.2637 Q564.5313,2804.498 563.9219,2804.498 L558.7813,2804.498 Q558.1719,2804.498 557.9063,2804.2637 Q557.6406,2804.0293 557.6406,2803.6387 Q557.6406,2803.2637 557.9063,2803.0293 Q558.1719,2802.7949 558.7813,2802.7949 L560.5,2802.7949 L560.5,2796.1387 L558.7813,2796.1387 Q558.1719,2796.1387 557.9063,2795.9043 Q557.6406,2795.6699 557.6406,2795.2793 Q557.6406,2794.9043 557.9063,2794.6699 Q558.1719,2794.4355 558.7813,2794.4355 L563.9219,2794.4355 Q564.5313,2794.4355 564.7969,2794.6699 Q565.0625,2794.9043 565.0625,2795.2793 Q565.0625,2795.6699 564.7969,2795.9043 Q564.5313,2796.1387 563.9219,2796.1387 L562.2031,2796.1387 Z " fill="#000000"/><ellipse cx="586.75" cy="2798.998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="70" x="592.75" y="2805.2949">FileHeader</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="487.5" x2="724.5" y1="2815.498" y2="2815.498"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="487.5" x2="724.5" y1="2823.498" y2="2823.498"/><ellipse cx="497.5" cy="2838.3086" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="506.5" y="2842.6055">short getLid ()</text><ellipse cx="497.5" cy="2856.9297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="506.5" y="2861.2266">byte getDfStatus ()</text><ellipse cx="497.5" cy="2875.5508" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213" x="506.5" y="2879.8477">ElementaryFile.Type getEfType ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="506.5" y="2898.4688"> </text><ellipse cx="497.5" cy="2912.793" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="506.5" y="2917.0898">int getRecordsNumber ()</text><ellipse cx="497.5" cy="2931.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="506.5" y="2935.7109">int getRecordSize ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="506.5" y="2954.332"> </text><ellipse cx="497.5" cy="2968.6563" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185" x="506.5" y="2972.9531">byte[] getAccessConditions ()</text><ellipse cx="497.5" cy="2987.2773" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="506.5" y="2991.5742">byte[] getKeyIndexes ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="506.5" y="3010.1953"> </text><ellipse cx="497.5" cy="3024.5195" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="184" x="506.5" y="3028.8164">Short getSharedReference ()</text></g><!--MD5=[b2892fca6bf934519171596a14a2d163]
class FileType--><g id="elem_FileType"><rect codeLine="191" fill="#FEFECE" height="141.1055" id="FileType" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="173" x="815.5" y="2839.498"/><ellipse cx="876.25" cy="2855.498" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M875.1094,2856.2949 L875.1094,2858.7949 L879.4375,2858.7949 L879.4375,2857.873 Q879.4375,2857.2637 879.6719,2856.998 Q879.9219,2856.7324 880.2969,2856.7324 Q880.6719,2856.7324 880.9063,2856.998 Q881.1406,2857.2637 881.1406,2857.873 L881.1406,2860.498 L873.1406,2860.498 Q872.5156,2860.498 872.25,2860.2637 Q872,2860.0293 872,2859.6387 Q872,2859.2637 872.2656,2859.0293 Q872.5313,2858.7949 873.1406,2858.7949 L873.4063,2858.7949 L873.4063,2852.1387 L873.1406,2852.1387 Q872.5156,2852.1387 872.25,2851.9043 Q872,2851.6699 872,2851.2793 Q872,2850.9043 872.25,2850.6699 Q872.5156,2850.4355 873.1406,2850.4355 L880.7656,2850.4355 L880.7656,2853.0293 Q880.7656,2853.6387 880.5313,2853.9043 Q880.3125,2854.1543 879.9219,2854.1543 Q879.5469,2854.1543 879.3125,2853.9043 Q879.0781,2853.6387 879.0781,2853.0293 L879.0781,2852.1387 L875.1094,2852.1387 L875.1094,2854.5918 L876.5938,2854.5918 Q876.5938,2853.9355 876.7188,2853.748 Q876.9844,2853.3418 877.4531,2853.3418 Q877.8281,2853.3418 878.0625,2853.6074 Q878.2969,2853.8574 878.2969,2854.4668 L878.2969,2856.4355 Q878.2969,2856.9824 878.1719,2857.1699 Q877.9063,2857.5605 877.4531,2857.5605 Q876.9844,2857.5605 876.7188,2857.1543 Q876.5938,2856.9668 876.5938,2856.2949 L875.1094,2856.2949 Z " fill="#000000"/><ellipse cx="901.75" cy="2854.998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="907.75" y="2861.2949">Type</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="816.5" x2="987.5" y1="2871.498" y2="2871.498"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="821.5" y="2890.6055">LINEAR</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="821.5" y="2909.2266">BINARY</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="821.5" y="2927.8477">CYCLIC</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="821.5" y="2946.4688">COUNTERS</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="821.5" y="2965.0898">SIMULATED_COUNTERS</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="816.5" x2="987.5" y1="2972.6035" y2="2972.6035"/></g><!--MD5=[9e0c9777a80d688403528ae1660d9a4a]
class FileData--><g id="elem_FileData"><rect codeLine="198" fill="#FEFECE" height="178.3477" id="FileData" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="433" x="1023.5" y="2820.998"/><ellipse cx="1203.75" cy="2836.998" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1204.7031,2833.6387 L1204.7031,2840.2949 L1206.4219,2840.2949 Q1207.0313,2840.2949 1207.2969,2840.5293 Q1207.5625,2840.7637 1207.5625,2841.1543 Q1207.5625,2841.5293 1207.2969,2841.7637 Q1207.0313,2841.998 1206.4219,2841.998 L1201.2813,2841.998 Q1200.6719,2841.998 1200.4063,2841.7637 Q1200.1406,2841.5293 1200.1406,2841.1387 Q1200.1406,2840.7637 1200.4063,2840.5293 Q1200.6719,2840.2949 1201.2813,2840.2949 L1203,2840.2949 L1203,2833.6387 L1201.2813,2833.6387 Q1200.6719,2833.6387 1200.4063,2833.4043 Q1200.1406,2833.1699 1200.1406,2832.7793 Q1200.1406,2832.4043 1200.4063,2832.1699 Q1200.6719,2831.9355 1201.2813,2831.9355 L1206.4219,2831.9355 Q1207.0313,2831.9355 1207.2969,2832.1699 Q1207.5625,2832.4043 1207.5625,2832.7793 Q1207.5625,2833.1699 1207.2969,2833.4043 Q1207.0313,2833.6387 1206.4219,2833.6387 L1204.7031,2833.6387 Z " fill="#000000"/><ellipse cx="1229.25" cy="2836.498" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="53" x="1235.25" y="2842.7949">FileData</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1024.5" x2="1455.5" y1="2852.998" y2="2852.998"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1024.5" x2="1455.5" y1="2860.998" y2="2860.998"/><ellipse cx="1034.5" cy="2875.8086" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="1043.5" y="2880.1055">byte[] getContent ()</text><ellipse cx="1034.5" cy="2894.4297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="215" x="1043.5" y="2898.7266">byte[] getContent (int numRecord)</text><ellipse cx="1034.5" cy="2913.0508" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="407" x="1043.5" y="2917.3477">byte[] getContent (int numRecord, int dataOffset, int dataLength)</text><ellipse cx="1034.5" cy="2931.6719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="328" x="1043.5" y="2935.9688">SortedMap&lt;Integer, byte[]&gt; getAllRecordsContent ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1043.5" y="2954.5898"> </text><ellipse cx="1034.5" cy="2968.9141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="332" x="1043.5" y="2973.2109">Integer getContentAsCounterValue (int numCounter)</text><ellipse cx="1034.5" cy="2987.5352" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="328" x="1043.5" y="2991.832">SortedMap&lt;Integer, Integer&gt; getAllCountersValue ()</text></g><!--MD5=[e000c089c172563ba3d8f11f76ec265c]
class CardProductType--><g id="elem_CardProductType"><rect codeLine="207" fill="#FEFECE" height="159.7266" id="CardProductType" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="141" x="636.5" y="2439.998"/><ellipse cx="659.15" cy="2455.998" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M658.0094,2456.7949 L658.0094,2459.2949 L662.3375,2459.2949 L662.3375,2458.373 Q662.3375,2457.7637 662.5719,2457.498 Q662.8219,2457.2324 663.1969,2457.2324 Q663.5719,2457.2324 663.8063,2457.498 Q664.0406,2457.7637 664.0406,2458.373 L664.0406,2460.998 L656.0406,2460.998 Q655.4156,2460.998 655.15,2460.7637 Q654.9,2460.5293 654.9,2460.1387 Q654.9,2459.7637 655.1656,2459.5293 Q655.4313,2459.2949 656.0406,2459.2949 L656.3063,2459.2949 L656.3063,2452.6387 L656.0406,2452.6387 Q655.4156,2452.6387 655.15,2452.4043 Q654.9,2452.1699 654.9,2451.7793 Q654.9,2451.4043 655.15,2451.1699 Q655.4156,2450.9355 656.0406,2450.9355 L663.6656,2450.9355 L663.6656,2453.5293 Q663.6656,2454.1387 663.4313,2454.4043 Q663.2125,2454.6543 662.8219,2454.6543 Q662.4469,2454.6543 662.2125,2454.4043 Q661.9781,2454.1387 661.9781,2453.5293 L661.9781,2452.6387 L658.0094,2452.6387 L658.0094,2455.0918 L659.4938,2455.0918 Q659.4938,2454.4355 659.6188,2454.248 Q659.8844,2453.8418 660.3531,2453.8418 Q660.7281,2453.8418 660.9625,2454.1074 Q661.1969,2454.3574 661.1969,2454.9668 L661.1969,2456.9355 Q661.1969,2457.4824 661.0719,2457.6699 Q660.8063,2458.0605 660.3531,2458.0605 Q659.8844,2458.0605 659.6188,2457.6543 Q659.4938,2457.4668 659.4938,2456.7949 L658.0094,2456.7949 Z " fill="#000000"/><ellipse cx="679.85" cy="2455.498" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="685.85" y="2461.7949">ProductType</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="637.5" x2="776.5" y1="2471.998" y2="2471.998"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="642.5" y="2491.1055">PRIME_REVISION_1</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="642.5" y="2509.7266">PRIME_REVISION_2</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="642.5" y="2528.3477">PRIME_REVISION_3</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="642.5" y="2546.9688">LIGHT</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="642.5" y="2565.5898">BASIC</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="642.5" y="2584.2109">UNKNOWN</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="637.5" x2="776.5" y1="2591.7246" y2="2591.7246"/></g><!--MD5=[c749d7bba5587d09bce06f9a9a7e89ad]
class SvLoadLogRecord--><g id="elem_SvLoadLogRecord"><rect codeLine="215" fill="#FEFECE" height="290.0742" id="SvLoadLogRecord" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="162" x="1400" y="2374.998"/><ellipse cx="1415.9" cy="2390.998" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1416.8531,2387.6387 L1416.8531,2394.2949 L1418.5719,2394.2949 Q1419.1813,2394.2949 1419.4469,2394.5293 Q1419.7125,2394.7637 1419.7125,2395.1543 Q1419.7125,2395.5293 1419.4469,2395.7637 Q1419.1813,2395.998 1418.5719,2395.998 L1413.4313,2395.998 Q1412.8219,2395.998 1412.5563,2395.7637 Q1412.2906,2395.5293 1412.2906,2395.1387 Q1412.2906,2394.7637 1412.5563,2394.5293 Q1412.8219,2394.2949 1413.4313,2394.2949 L1415.15,2394.2949 L1415.15,2387.6387 L1413.4313,2387.6387 Q1412.8219,2387.6387 1412.5563,2387.4043 Q1412.2906,2387.1699 1412.2906,2386.7793 Q1412.2906,2386.4043 1412.5563,2386.1699 Q1412.8219,2385.9355 1413.4313,2385.9355 L1418.5719,2385.9355 Q1419.1813,2385.9355 1419.4469,2386.1699 Q1419.7125,2386.4043 1419.7125,2386.7793 Q1419.7125,2387.1699 1419.4469,2387.4043 Q1419.1813,2387.6387 1418.5719,2387.6387 L1416.8531,2387.6387 Z " fill="#000000"/><ellipse cx="1435.1" cy="2390.498" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="117" x="1441.1" y="2396.7949">SvLoadLogRecord</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1401" x2="1561" y1="2406.998" y2="2406.998"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1401" x2="1561" y1="2414.998" y2="2414.998"/><ellipse cx="1411" cy="2429.8086" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="1420" y="2434.1055">byte[] getRawData ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1420" y="2452.7266"> </text><ellipse cx="1411" cy="2467.0508" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135" x="1420" y="2471.3477">byte[] getLoadDate ()</text><ellipse cx="1411" cy="2485.6719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="1420" y="2489.9688">byte[] getLoadTime ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1420" y="2508.5898"> </text><ellipse cx="1411" cy="2522.9141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="1420" y="2527.2109">int getAmount ()</text><ellipse cx="1411" cy="2541.5352" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="1420" y="2545.832">int getBalance ()</text><ellipse cx="1411" cy="2560.1563" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="1420" y="2564.4531">byte[] getFreeData ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1420" y="2583.0742"> </text><ellipse cx="1411" cy="2597.3984" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="1420" y="2601.6953">byte getKvc ()</text><ellipse cx="1411" cy="2616.0195" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="1420" y="2620.3164">byte[] getSamId ()</text><ellipse cx="1411" cy="2634.6406" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="1420" y="2638.9375">int getSamTNum ()</text><ellipse cx="1411" cy="2653.2617" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="1420" y="2657.5586">int getSvTNum ()</text></g><!--MD5=[f7bb9a4e07bc41a393fc40394d0e062c]
class SvDebitLogRecord--><g id="elem_SvDebitLogRecord"><rect codeLine="230" fill="#FEFECE" height="271.4531" id="SvDebitLogRecord" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="163" x="438.5" y="2384.498"/><ellipse cx="454.4" cy="2400.498" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M455.3531,2397.1387 L455.3531,2403.7949 L457.0719,2403.7949 Q457.6813,2403.7949 457.9469,2404.0293 Q458.2125,2404.2637 458.2125,2404.6543 Q458.2125,2405.0293 457.9469,2405.2637 Q457.6813,2405.498 457.0719,2405.498 L451.9313,2405.498 Q451.3219,2405.498 451.0563,2405.2637 Q450.7906,2405.0293 450.7906,2404.6387 Q450.7906,2404.2637 451.0563,2404.0293 Q451.3219,2403.7949 451.9313,2403.7949 L453.65,2403.7949 L453.65,2397.1387 L451.9313,2397.1387 Q451.3219,2397.1387 451.0563,2396.9043 Q450.7906,2396.6699 450.7906,2396.2793 Q450.7906,2395.9043 451.0563,2395.6699 Q451.3219,2395.4355 451.9313,2395.4355 L457.0719,2395.4355 Q457.6813,2395.4355 457.9469,2395.6699 Q458.2125,2395.9043 458.2125,2396.2793 Q458.2125,2396.6699 457.9469,2396.9043 Q457.6813,2397.1387 457.0719,2397.1387 L455.3531,2397.1387 Z " fill="#000000"/><ellipse cx="473.6" cy="2399.998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="118" x="479.6" y="2406.2949">SvDebitLogRecord</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="439.5" x2="600.5" y1="2416.498" y2="2416.498"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="439.5" x2="600.5" y1="2424.498" y2="2424.498"/><ellipse cx="449.5" cy="2439.3086" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="458.5" y="2443.6055">byte[] getRawData ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="458.5" y="2462.2266"> </text><ellipse cx="449.5" cy="2476.5508" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="458.5" y="2480.8477">byte[] getDebitDate ()</text><ellipse cx="449.5" cy="2495.1719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="458.5" y="2499.4688">byte[] getDebitTime ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="458.5" y="2518.0898"> </text><ellipse cx="449.5" cy="2532.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="458.5" y="2536.7109">int getAmount ()</text><ellipse cx="449.5" cy="2551.0352" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="458.5" y="2555.332">int getBalance ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="458.5" y="2573.9531"> </text><ellipse cx="449.5" cy="2588.2773" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="458.5" y="2592.5742">byte getKvc ()</text><ellipse cx="449.5" cy="2606.8984" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="458.5" y="2611.1953">byte[] getSamId ()</text><ellipse cx="449.5" cy="2625.5195" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="458.5" y="2629.8164">int getSamTNum ()</text><ellipse cx="449.5" cy="2644.1406" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="458.5" y="2648.4375">int getSvTNum ()</text></g><!--MD5=[c337779d2dbd9414fdf26e542ab5c644]
class CalypsoSamSelection--><g id="elem_CalypsoSamSelection"><rect codeLine="246" fill="#FEFECE" height="137.7266" id="CalypsoSamSelection" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="553" x="4484.5" y="2450.998"/><ellipse cx="4682.75" cy="2474.6191" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M4683.7031,2471.2598 L4683.7031,2477.916 L4685.4219,2477.916 Q4686.0313,2477.916 4686.2969,2478.1504 Q4686.5625,2478.3848 4686.5625,2478.7754 Q4686.5625,2479.1504 4686.2969,2479.3848 Q4686.0313,2479.6191 4685.4219,2479.6191 L4680.2813,2479.6191 Q4679.6719,2479.6191 4679.4063,2479.3848 Q4679.1406,2479.1504 4679.1406,2478.7598 Q4679.1406,2478.3848 4679.4063,2478.1504 Q4679.6719,2477.916 4680.2813,2477.916 L4682,2477.916 L4682,2471.2598 L4680.2813,2471.2598 Q4679.6719,2471.2598 4679.4063,2471.0254 Q4679.1406,2470.791 4679.1406,2470.4004 Q4679.1406,2470.0254 4679.4063,2469.791 Q4679.6719,2469.5566 4680.2813,2469.5566 L4685.4219,2469.5566 Q4686.0313,2469.5566 4686.2969,2469.791 Q4686.5625,2470.0254 4686.5625,2470.4004 Q4686.5625,2470.791 4686.2969,2471.0254 Q4686.0313,2471.2598 4685.4219,2471.2598 L4683.7031,2471.2598 Z " fill="#000000"/><ellipse cx="4708.25" cy="2474.1191" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="16" x="4722.25" y="2471.1055">&lt;&lt;</text><text fill="#000000" filter="url(#bqala5uraun2h0)" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="89" x="4738.25" y="2471.1055">CardSelection</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="16" x="4827.25" y="2471.1055">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="137" x="4714.25" y="2489.7266">CalypsoSamSelection</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="4485.5" x2="5036.5" y1="2498.2402" y2="2498.2402"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="4485.5" x2="5036.5" y1="2506.2402" y2="2506.2402"/><ellipse cx="4495.5" cy="2521.0508" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="527" x="4504.5" y="2525.3477">CalypsoSamSelection filterByProductType (CalypsoSam.ProductType productType)</text><ellipse cx="4495.5" cy="2539.6719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="447" x="4504.5" y="2543.9688">CalypsoSamSelection filterBySerialNumber (String serialNumberRegex)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="4504.5" y="2562.5898"> </text><ellipse cx="4495.5" cy="2576.9141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="358" x="4504.5" y="2581.2109">CalypsoSamSelection setUnlockData (String unlockData)</text></g><!--MD5=[f25ff1fa8fa59bbc0543eaadeb7d653a]
class CalypsoSam--><g id="elem_CalypsoSam"><rect codeLine="252" fill="#FEFECE" height="249.4531" id="CalypsoSam" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="226" x="5073" y="2395.498"/><ellipse cx="5126.25" cy="2419.1191" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M5127.2031,2415.7598 L5127.2031,2422.416 L5128.9219,2422.416 Q5129.5313,2422.416 5129.7969,2422.6504 Q5130.0625,2422.8848 5130.0625,2423.2754 Q5130.0625,2423.6504 5129.7969,2423.8848 Q5129.5313,2424.1191 5128.9219,2424.1191 L5123.7813,2424.1191 Q5123.1719,2424.1191 5122.9063,2423.8848 Q5122.6406,2423.6504 5122.6406,2423.2598 Q5122.6406,2422.8848 5122.9063,2422.6504 Q5123.1719,2422.416 5123.7813,2422.416 L5125.5,2422.416 L5125.5,2415.7598 L5123.7813,2415.7598 Q5123.1719,2415.7598 5122.9063,2415.5254 Q5122.6406,2415.291 5122.6406,2414.9004 Q5122.6406,2414.5254 5122.9063,2414.291 Q5123.1719,2414.0566 5123.7813,2414.0566 L5128.9219,2414.0566 Q5129.5313,2414.0566 5129.7969,2414.291 Q5130.0625,2414.5254 5130.0625,2414.9004 Q5130.0625,2415.291 5129.7969,2415.5254 Q5129.5313,2415.7598 5128.9219,2415.7598 L5127.2031,2415.7598 Z " fill="#000000"/><ellipse cx="5151.75" cy="2418.6191" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="16" x="5157.75" y="2415.6055">&lt;&lt;</text><text fill="#000000" filter="url(#bqala5uraun2h0)" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="68" x="5173.75" y="2415.6055">SmartCard</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="16" x="5241.75" y="2415.6055">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="5168.25" y="2434.2266">CalypsoSam</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="5074" x2="5298" y1="2442.7402" y2="2442.7402"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="5074" x2="5298" y1="2450.7402" y2="2450.7402"/><ellipse cx="5084" cy="2465.5508" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="200" x="5093" y="2469.8477">ProductType getProductType ()</text><ellipse cx="5084" cy="2484.1719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="5093" y="2488.4688">String getProductInfo ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="5093" y="2507.0898"> </text><ellipse cx="5084" cy="2521.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158" x="5093" y="2525.7109">byte[] getSerialNumber ()</text><ellipse cx="5084" cy="2540.0352" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="5093" y="2544.332">byte getPlatform ()</text><ellipse cx="5084" cy="2558.6563" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166" x="5093" y="2562.9531">byte getApplicationType ()</text><ellipse cx="5084" cy="2577.2773" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191" x="5093" y="2581.5742">byte getApplicationSubType ()</text><ellipse cx="5084" cy="2595.8984" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158" x="5093" y="2600.1953">byte getSoftwareIssuer ()</text><ellipse cx="5084" cy="2614.5195" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="5093" y="2618.8164">byte getSoftwareVersion ()</text><ellipse cx="5084" cy="2633.1406" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174" x="5093" y="2637.4375">byte getSoftwareRevision ()</text></g><!--MD5=[64db2d10778acf6b7b903aeb76cb16f8]
class SamProductType--><g id="elem_SamProductType"><rect codeLine="264" fill="#FEFECE" height="159.7266" id="SamProductType" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="124" x="5083" y="2829.998"/><ellipse cx="5098" cy="2845.998" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M5096.8594,2846.7949 L5096.8594,2849.2949 L5101.1875,2849.2949 L5101.1875,2848.373 Q5101.1875,2847.7637 5101.4219,2847.498 Q5101.6719,2847.2324 5102.0469,2847.2324 Q5102.4219,2847.2324 5102.6563,2847.498 Q5102.8906,2847.7637 5102.8906,2848.373 L5102.8906,2850.998 L5094.8906,2850.998 Q5094.2656,2850.998 5094,2850.7637 Q5093.75,2850.5293 5093.75,2850.1387 Q5093.75,2849.7637 5094.0156,2849.5293 Q5094.2813,2849.2949 5094.8906,2849.2949 L5095.1563,2849.2949 L5095.1563,2842.6387 L5094.8906,2842.6387 Q5094.2656,2842.6387 5094,2842.4043 Q5093.75,2842.1699 5093.75,2841.7793 Q5093.75,2841.4043 5094,2841.1699 Q5094.2656,2840.9355 5094.8906,2840.9355 L5102.5156,2840.9355 L5102.5156,2843.5293 Q5102.5156,2844.1387 5102.2813,2844.4043 Q5102.0625,2844.6543 5101.6719,2844.6543 Q5101.2969,2844.6543 5101.0625,2844.4043 Q5100.8281,2844.1387 5100.8281,2843.5293 L5100.8281,2842.6387 L5096.8594,2842.6387 L5096.8594,2845.0918 L5098.3438,2845.0918 Q5098.3438,2844.4355 5098.4688,2844.248 Q5098.7344,2843.8418 5099.2031,2843.8418 Q5099.5781,2843.8418 5099.8125,2844.1074 Q5100.0469,2844.3574 5100.0469,2844.9668 L5100.0469,2846.9355 Q5100.0469,2847.4824 5099.9219,2847.6699 Q5099.6563,2848.0605 5099.2031,2848.0605 Q5098.7344,2848.0605 5098.4688,2847.6543 Q5098.3438,2847.4668 5098.3438,2846.7949 L5096.8594,2846.7949 Z " fill="#000000"/><ellipse cx="5117" cy="2845.498" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="5123" y="2851.7949">ProductType</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="5084" x2="5206" y1="2861.998" y2="2861.998"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="5089" y="2881.1055">SAM_C1</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="5089" y="2899.7266">HSM_C1</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="5089" y="2918.3477">SAM_S1E1</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="5089" y="2936.9688">SAM_S1Dx</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="56" x="5089" y="2955.5898">CSAM_F</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="5089" y="2974.2109">UNKNOWN</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="5084" x2="5206" y1="2981.7246" y2="2981.7246"/></g><!--MD5=[da61a391893b692be16caea6f1f8a515]
class CommonTransactionManager--><g id="elem_CommonTransactionManager"><rect codeLine="275" fill="#FEFECE" height="200.8906" id="CommonTransactionManager" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="504" x="2668" y="608.498"/><ellipse cx="2687.95" cy="626.459" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M2688.9031,623.0996 L2688.9031,629.7559 L2690.6219,629.7559 Q2691.2313,629.7559 2691.4969,629.9902 Q2691.7625,630.2246 2691.7625,630.6152 Q2691.7625,630.9902 2691.4969,631.2246 Q2691.2313,631.459 2690.6219,631.459 L2685.4813,631.459 Q2684.8719,631.459 2684.6063,631.2246 Q2684.3406,630.9902 2684.3406,630.5996 Q2684.3406,630.2246 2684.6063,629.9902 Q2684.8719,629.7559 2685.4813,629.7559 L2687.2,629.7559 L2687.2,623.0996 L2685.4813,623.0996 Q2684.8719,623.0996 2684.6063,622.8652 Q2684.3406,622.6309 2684.3406,622.2402 Q2684.3406,621.8652 2684.6063,621.6309 Q2684.8719,621.3965 2685.4813,621.3965 L2690.6219,621.3965 Q2691.2313,621.3965 2691.4969,621.6309 Q2691.7625,621.8652 2691.7625,622.2402 Q2691.7625,622.6309 2691.4969,622.8652 Q2691.2313,623.0996 2690.6219,623.0996 L2688.9031,623.0996 Z " fill="#000000"/><ellipse cx="2708.05" cy="625.959" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="188" x="2714.05" y="632.2559">CommonTransactionManager</text><rect fill="#FFFFFF" height="33.9219" style="stroke:#D4AC0D;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="260" x="2915" y="605.498"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="258" x="2916" y="619.4473">T extends CommonTransactionManager&lt;T, S&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="213" x="2938.5" y="635.4082">S extends CommonSecuritySetting&lt;S&gt;</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="2669" x2="3171" y1="644.4199" y2="644.4199"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="2669" x2="3171" y1="652.4199" y2="652.4199"/><ellipse cx="2679" cy="667.2305" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="142" x="2688" y="671.5273">S getSecuritySetting ()</text><ellipse cx="2679" cy="685.8516" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="248" x="2688" y="690.1484">List&lt;byte[]&gt; getTransactionAuditData ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="2688" y="708.7695"> </text><ellipse cx="2679" cy="723.0938" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="478" x="2688" y="727.3906">T prepareComputeSignature (CommonSignatureComputationData&lt;?&gt; data)</text><ellipse cx="2679" cy="741.7148" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="447" x="2688" y="746.0117">T prepareVerifySignature (CommonSignatureVerificationData&lt;?&gt; data)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="2688" y="764.6328"> </text><ellipse cx="2679" cy="778.957" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#FF0000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="148" x="2688" y="783.2539">T processCommands ()</text><ellipse cx="2679" cy="797.5781" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#008000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="341" x="2688" y="801.875">T processCommands (boolean closePhysicalChannel)</text></g><!--MD5=[c17ae2c2af60537b87d9abee834860c0]
class CommonSignatureComputationData--><g id="elem_CommonSignatureComputationData"><rect codeLine="285" fill="#FEFECE" height="141.1055" id="CommonSignatureComputationData" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="553" x="2490.5" y="313.998"/><ellipse cx="2505.5" cy="329.998" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M2506.4531,326.6387 L2506.4531,333.2949 L2508.1719,333.2949 Q2508.7813,333.2949 2509.0469,333.5293 Q2509.3125,333.7637 2509.3125,334.1543 Q2509.3125,334.5293 2509.0469,334.7637 Q2508.7813,334.998 2508.1719,334.998 L2503.0313,334.998 Q2502.4219,334.998 2502.1563,334.7637 Q2501.8906,334.5293 2501.8906,334.1387 Q2501.8906,333.7637 2502.1563,333.5293 Q2502.4219,333.2949 2503.0313,333.2949 L2504.75,333.2949 L2504.75,326.6387 L2503.0313,326.6387 Q2502.4219,326.6387 2502.1563,326.4043 Q2501.8906,326.1699 2501.8906,325.7793 Q2501.8906,325.4043 2502.1563,325.1699 Q2502.4219,324.9355 2503.0313,324.9355 L2508.1719,324.9355 Q2508.7813,324.9355 2509.0469,325.1699 Q2509.3125,325.4043 2509.3125,325.7793 Q2509.3125,326.1699 2509.0469,326.4043 Q2508.7813,326.6387 2508.1719,326.6387 L2506.4531,326.6387 Z " fill="#000000"/><ellipse cx="2524.5" cy="329.498" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="227" x="2530.5" y="335.7949">CommonSignatureComputationData</text><rect fill="#FFFFFF" height="17.9609" style="stroke:#D4AC0D;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="281" x="2765.5" y="310.998"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="279" x="2766.5" y="324.9473">T extends CommonSignatureComputationData&lt;T&gt;</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="2491.5" x2="3042.5" y1="345.998" y2="345.998"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="2491.5" x2="3042.5" y1="353.998" y2="353.998"/><ellipse cx="2501.5" cy="368.8086" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="256" x="2510.5" y="373.1055">T setData (byte[] data, byte kif, byte kvc)</text><ellipse cx="2501.5" cy="387.4297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176" x="2510.5" y="391.7266">T setSignatureSize (int size)</text><ellipse cx="2501.5" cy="406.0508" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="233" x="2510.5" y="410.3477">T setKeyDiversifier (byte[] diversifier)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="2510.5" y="428.9688"> </text><ellipse cx="2501.5" cy="443.293" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="2510.5" y="447.5898">byte[] getSignature ()</text></g><!--MD5=[c644258d6e85feb715526e24ebfc93b6]
class BasicSignatureComputationData--><g id="elem_BasicSignatureComputationData"><rect codeLine="292" fill="#FEFECE" height="48" id="BasicSignatureComputationData" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="248" x="1618" y="684.998"/><ellipse cx="1633" cy="700.998" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1633.9531,697.6387 L1633.9531,704.2949 L1635.6719,704.2949 Q1636.2813,704.2949 1636.5469,704.5293 Q1636.8125,704.7637 1636.8125,705.1543 Q1636.8125,705.5293 1636.5469,705.7637 Q1636.2813,705.998 1635.6719,705.998 L1630.5313,705.998 Q1629.9219,705.998 1629.6563,705.7637 Q1629.3906,705.5293 1629.3906,705.1387 Q1629.3906,704.7637 1629.6563,704.5293 Q1629.9219,704.2949 1630.5313,704.2949 L1632.25,704.2949 L1632.25,697.6387 L1630.5313,697.6387 Q1629.9219,697.6387 1629.6563,697.4043 Q1629.3906,697.1699 1629.3906,696.7793 Q1629.3906,696.4043 1629.6563,696.1699 Q1629.9219,695.9355 1630.5313,695.9355 L1635.6719,695.9355 Q1636.2813,695.9355 1636.5469,696.1699 Q1636.8125,696.4043 1636.8125,696.7793 Q1636.8125,697.1699 1636.5469,697.4043 Q1636.2813,697.6387 1635.6719,697.6387 L1633.9531,697.6387 Z " fill="#000000"/><ellipse cx="1652" cy="700.498" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="205" x="1658" y="706.7949">BasicSignatureComputationData</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1619" x2="1865" y1="716.998" y2="716.998"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1619" x2="1865" y1="724.998" y2="724.998"/></g><!--MD5=[cdc2fcd8768bdabfe9b56e9f578bd14d]
class TraceableSignatureComputationData--><g id="elem_TraceableSignatureComputationData"><rect codeLine="294" fill="#FEFECE" height="122.4844" id="TraceableSignatureComputationData" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="732" x="1901" y="647.998"/><ellipse cx="2139.75" cy="663.998" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M2140.7031,660.6387 L2140.7031,667.2949 L2142.4219,667.2949 Q2143.0313,667.2949 2143.2969,667.5293 Q2143.5625,667.7637 2143.5625,668.1543 Q2143.5625,668.5293 2143.2969,668.7637 Q2143.0313,668.998 2142.4219,668.998 L2137.2813,668.998 Q2136.6719,668.998 2136.4063,668.7637 Q2136.1406,668.5293 2136.1406,668.1387 Q2136.1406,667.7637 2136.4063,667.5293 Q2136.6719,667.2949 2137.2813,667.2949 L2139,667.2949 L2139,660.6387 L2137.2813,660.6387 Q2136.6719,660.6387 2136.4063,660.4043 Q2136.1406,660.1699 2136.1406,659.7793 Q2136.1406,659.4043 2136.4063,659.1699 Q2136.6719,658.9355 2137.2813,658.9355 L2142.4219,658.9355 Q2143.0313,658.9355 2143.2969,659.1699 Q2143.5625,659.4043 2143.5625,659.7793 Q2143.5625,660.1699 2143.2969,660.4043 Q2143.0313,660.6387 2142.4219,660.6387 L2140.7031,660.6387 Z " fill="#000000"/><ellipse cx="2165.25" cy="663.498" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="235" x="2171.25" y="669.7949">TraceableSignatureComputationData</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1902" x2="2632" y1="679.998" y2="679.998"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1902" x2="2632" y1="687.998" y2="687.998"/><ellipse cx="1912" cy="702.8086" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="706" x="1921" y="707.1055">TraceableSignatureComputationData withSamTraceabilityMode (int offset, boolean usePartialSamSerialNumber)</text><ellipse cx="1912" cy="721.4297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="363" x="1921" y="725.7266">TraceableSignatureComputationData withoutBusyMode ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1921" y="744.3477"> </text><ellipse cx="1912" cy="758.6719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="1921" y="762.9688">byte[] getSignedData ()</text></g><!--MD5=[49815161954875a46b9e77877b8c8585]
class CommonSignatureVerificationData--><g id="elem_CommonSignatureVerificationData"><rect codeLine="300" fill="#FEFECE" height="122.4844" id="CommonSignatureVerificationData" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="533" x="3078.5" y="323.498"/><ellipse cx="3093.5" cy="339.498" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M3094.4531,336.1387 L3094.4531,342.7949 L3096.1719,342.7949 Q3096.7813,342.7949 3097.0469,343.0293 Q3097.3125,343.2637 3097.3125,343.6543 Q3097.3125,344.0293 3097.0469,344.2637 Q3096.7813,344.498 3096.1719,344.498 L3091.0313,344.498 Q3090.4219,344.498 3090.1563,344.2637 Q3089.8906,344.0293 3089.8906,343.6387 Q3089.8906,343.2637 3090.1563,343.0293 Q3090.4219,342.7949 3091.0313,342.7949 L3092.75,342.7949 L3092.75,336.1387 L3091.0313,336.1387 Q3090.4219,336.1387 3090.1563,335.9043 Q3089.8906,335.6699 3089.8906,335.2793 Q3089.8906,334.9043 3090.1563,334.6699 Q3090.4219,334.4355 3091.0313,334.4355 L3096.1719,334.4355 Q3096.7813,334.4355 3097.0469,334.6699 Q3097.3125,334.9043 3097.3125,335.2793 Q3097.3125,335.6699 3097.0469,335.9043 Q3096.7813,336.1387 3096.1719,336.1387 L3094.4531,336.1387 Z " fill="#000000"/><ellipse cx="3112.5" cy="338.998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="217" x="3118.5" y="345.2949">CommonSignatureVerificationData</text><rect fill="#FFFFFF" height="17.9609" style="stroke:#D4AC0D;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="271" x="3343.5" y="320.498"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="269" x="3344.5" y="334.4473">T extends CommonSignatureVerificationData&lt;T&gt;</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="3079.5" x2="3610.5" y1="355.498" y2="355.498"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="3079.5" x2="3610.5" y1="363.498" y2="363.498"/><ellipse cx="3089.5" cy="378.3086" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="362" x="3098.5" y="382.6055">T setData (byte[] data, byte[] signature, byte kif, byte kvc)</text><ellipse cx="3089.5" cy="396.9297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="233" x="3098.5" y="401.2266">T setKeyDiversifier (byte[] diversifier)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="3098.5" y="419.8477"> </text><ellipse cx="3089.5" cy="434.1719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171" x="3098.5" y="438.4688">boolean isSignatureValid ()</text></g><!--MD5=[792b97716737da270761df73939131ae]
class BasicSignatureVerificationData--><g id="elem_BasicSignatureVerificationData"><rect codeLine="306" fill="#FEFECE" height="48" id="BasicSignatureVerificationData" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="238" x="3207" y="684.998"/><ellipse cx="3222" cy="700.998" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M3222.9531,697.6387 L3222.9531,704.2949 L3224.6719,704.2949 Q3225.2813,704.2949 3225.5469,704.5293 Q3225.8125,704.7637 3225.8125,705.1543 Q3225.8125,705.5293 3225.5469,705.7637 Q3225.2813,705.998 3224.6719,705.998 L3219.5313,705.998 Q3218.9219,705.998 3218.6563,705.7637 Q3218.3906,705.5293 3218.3906,705.1387 Q3218.3906,704.7637 3218.6563,704.5293 Q3218.9219,704.2949 3219.5313,704.2949 L3221.25,704.2949 L3221.25,697.6387 L3219.5313,697.6387 Q3218.9219,697.6387 3218.6563,697.4043 Q3218.3906,697.1699 3218.3906,696.7793 Q3218.3906,696.4043 3218.6563,696.1699 Q3218.9219,695.9355 3219.5313,695.9355 L3224.6719,695.9355 Q3225.2813,695.9355 3225.5469,696.1699 Q3225.8125,696.4043 3225.8125,696.7793 Q3225.8125,697.1699 3225.5469,697.4043 Q3225.2813,697.6387 3224.6719,697.6387 L3222.9531,697.6387 Z " fill="#000000"/><ellipse cx="3241" cy="700.498" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="195" x="3247" y="706.7949">BasicSignatureVerificationData</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="3208" x2="3444" y1="716.998" y2="716.998"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="3208" x2="3444" y1="724.998" y2="724.998"/></g><!--MD5=[2fc7953a0035a8aa989ea0d75f9f7d1b]
class TraceableSignatureVerificationData--><g id="elem_TraceableSignatureVerificationData"><rect codeLine="308" fill="#FEFECE" height="85.2422" id="TraceableSignatureVerificationData" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="948" x="3480" y="666.498"/><ellipse cx="3831.75" cy="682.498" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M3832.7031,679.1387 L3832.7031,685.7949 L3834.4219,685.7949 Q3835.0313,685.7949 3835.2969,686.0293 Q3835.5625,686.2637 3835.5625,686.6543 Q3835.5625,687.0293 3835.2969,687.2637 Q3835.0313,687.498 3834.4219,687.498 L3829.2813,687.498 Q3828.6719,687.498 3828.4063,687.2637 Q3828.1406,687.0293 3828.1406,686.6387 Q3828.1406,686.2637 3828.4063,686.0293 Q3828.6719,685.7949 3829.2813,685.7949 L3831,685.7949 L3831,679.1387 L3829.2813,679.1387 Q3828.6719,679.1387 3828.4063,678.9043 Q3828.1406,678.6699 3828.1406,678.2793 Q3828.1406,677.9043 3828.4063,677.6699 Q3828.6719,677.4355 3829.2813,677.4355 L3834.4219,677.4355 Q3835.0313,677.4355 3835.2969,677.6699 Q3835.5625,677.9043 3835.5625,678.2793 Q3835.5625,678.6699 3835.2969,678.9043 Q3835.0313,679.1387 3834.4219,679.1387 L3832.7031,679.1387 Z " fill="#000000"/><ellipse cx="3857.25" cy="681.998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="225" x="3863.25" y="688.2949">TraceableSignatureVerificationData</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="3481" x2="4427" y1="698.498" y2="698.498"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="3481" x2="4427" y1="706.498" y2="706.498"/><ellipse cx="3491" cy="721.3086" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="922" x="3500" y="725.6055">TraceableSignatureVerificationData withSamTraceabilityMode (int offset, boolean isPartialSamSerialNumber, boolean checkSamRevocationStatus)</text><ellipse cx="3491" cy="739.9297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="353" x="3500" y="744.2266">TraceableSignatureVerificationData withoutBusyMode ()</text></g><!--MD5=[27e9236557a0ea65dd842b05562c1db2]
class CommonSecuritySetting--><g id="elem_CommonSecuritySetting"><rect codeLine="312" fill="#FEFECE" height="85.2422" id="CommonSecuritySetting" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="529" x="3016.5" y="1530.998"/><ellipse cx="3087.25" cy="1546.998" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M3088.2031,1543.6387 L3088.2031,1550.2949 L3089.9219,1550.2949 Q3090.5313,1550.2949 3090.7969,1550.5293 Q3091.0625,1550.7637 3091.0625,1551.1543 Q3091.0625,1551.5293 3090.7969,1551.7637 Q3090.5313,1551.998 3089.9219,1551.998 L3084.7813,1551.998 Q3084.1719,1551.998 3083.9063,1551.7637 Q3083.6406,1551.5293 3083.6406,1551.1387 Q3083.6406,1550.7637 3083.9063,1550.5293 Q3084.1719,1550.2949 3084.7813,1550.2949 L3086.5,1550.2949 L3086.5,1543.6387 L3084.7813,1543.6387 Q3084.1719,1543.6387 3083.9063,1543.4043 Q3083.6406,1543.1699 3083.6406,1542.7793 Q3083.6406,1542.4043 3083.9063,1542.1699 Q3084.1719,1541.9355 3084.7813,1541.9355 L3089.9219,1541.9355 Q3090.5313,1541.9355 3090.7969,1542.1699 Q3091.0625,1542.4043 3091.0625,1542.7793 Q3091.0625,1543.1699 3090.7969,1543.4043 Q3090.5313,1543.6387 3089.9219,1543.6387 L3088.2031,1543.6387 Z " fill="#000000"/><ellipse cx="3112.75" cy="1546.498" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="151" x="3118.75" y="1552.7949">CommonSecuritySetting</text><rect fill="#FFFFFF" height="17.9609" style="stroke:#D4AC0D;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="215" x="3333.5" y="1527.998"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="213" x="3334.5" y="1541.9473">S extends CommonSecuritySetting&lt;S&gt;</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="3017.5" x2="3544.5" y1="1562.998" y2="1562.998"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="3017.5" x2="3544.5" y1="1570.998" y2="1570.998"/><ellipse cx="3027.5" cy="1585.8086" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176" x="3036.5" y="1590.1055">S setControlSamResource (</text><text fill="#000000" filter="url(#bqala5uraun2h0)" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="3212.5" y="1590.1055">CardReader</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="245" x="3294.5" y="1590.1055">samReader, CalypsoSam calypsoSam)</text><ellipse cx="3027.5" cy="1604.4297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="427" x="3036.5" y="1608.7266">S setSamRevocationServiceSpi (SamRevocationServiceSpi service)</text></g><!--MD5=[92be3b4089a2693ac3db71f8eb03f488]
class CardTransactionManager--><g id="elem_CardTransactionManager"><rect codeLine="317" fill="#FEFECE" height="1370.0977" id="CardTransactionManager" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="913" x="1618.5" y="888.498"/><ellipse cx="1983.75" cy="904.498" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1984.7031,901.1387 L1984.7031,907.7949 L1986.4219,907.7949 Q1987.0313,907.7949 1987.2969,908.0293 Q1987.5625,908.2637 1987.5625,908.6543 Q1987.5625,909.0293 1987.2969,909.2637 Q1987.0313,909.498 1986.4219,909.498 L1981.2813,909.498 Q1980.6719,909.498 1980.4063,909.2637 Q1980.1406,909.0293 1980.1406,908.6387 Q1980.1406,908.2637 1980.4063,908.0293 Q1980.6719,907.7949 1981.2813,907.7949 L1983,907.7949 L1983,901.1387 L1981.2813,901.1387 Q1980.6719,901.1387 1980.4063,900.9043 Q1980.1406,900.6699 1980.1406,900.2793 Q1980.1406,899.9043 1980.4063,899.6699 Q1980.6719,899.4355 1981.2813,899.4355 L1986.4219,899.4355 Q1987.0313,899.4355 1987.2969,899.6699 Q1987.5625,899.9043 1987.5625,900.2793 Q1987.5625,900.6699 1987.2969,900.9043 Q1987.0313,901.1387 1986.4219,901.1387 L1984.7031,901.1387 Z " fill="#000000"/><ellipse cx="2009.25" cy="903.998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="163" x="2015.25" y="910.2949">CardTransactionManager</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1619.5" x2="2530.5" y1="920.498" y2="920.498"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1619.5" x2="2530.5" y1="928.498" y2="928.498"/><ellipse cx="1629.5" cy="943.3086" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" filter="url(#bqala5uraun2h0)" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="78" x="1638.5" y="947.6055">CardReader</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="112" x="1720.5" y="947.6055">getCardReader ()</text><ellipse cx="1629.5" cy="961.9297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="202" x="1638.5" y="966.2266">CalypsoCard getCalypsoCard ()</text><ellipse cx="1629.5" cy="980.5508" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="290" x="1638.5" y="984.8477">CardSecuritySetting getCardSecuritySetting ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="1003.4688"> </text><ellipse cx="1629.5" cy="1017.793" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="345" x="1638.5" y="1022.0898">CardTransactionManager prepareSelectFile (byte[] lid)</text><ellipse cx="1629.5" cy="1036.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="342" x="1638.5" y="1040.7109">CardTransactionManager prepareSelectFile (short lid)</text><ellipse cx="1629.5" cy="1055.0352" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="510" x="1638.5" y="1059.332">CardTransactionManager prepareSelectFile (SelectFileControl selectFileControl)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="1077.9531"> </text><ellipse cx="1629.5" cy="1092.2773" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="385" x="1638.5" y="1096.5742">CardTransactionManager prepareGetData (GetDataTag tag)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="1115.1953"> </text><ellipse cx="1629.5" cy="1129.5195" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="495" x="1638.5" y="1133.8164">CardTransactionManager prepareReadRecordFile (byte sfi, int recordNumber)</text><ellipse cx="1629.5" cy="1148.1406" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="760" x="1638.5" y="1152.4375">CardTransactionManager prepareReadRecordFile (byte sfi, int firstRecordNumber, int numberOfRecords, int recordSize)</text><ellipse cx="1629.5" cy="1166.7617" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="514" x="1638.5" y="1171.0586">CardTransactionManager prepareReadCounterFile (byte sfi, int countersNumber)</text><ellipse cx="1629.5" cy="1185.3828" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="472" x="1638.5" y="1189.6797">CardTransactionManager prepareReadRecord (byte sfi, int recordNumber)</text><ellipse cx="1629.5" cy="1204.0039" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="740" x="1638.5" y="1208.3008">CardTransactionManager prepareReadRecords (byte sfi, int fromRecordNumber, int toRecordNumber, int recordSize)</text><ellipse cx="1629.5" cy="1222.625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="887" x="1638.5" y="1226.9219">CardTransactionManager prepareReadRecordsPartially (byte sfi, int fromRecordNumber, int toRecordNumber, int offset, int nbBytesToRead)</text><ellipse cx="1629.5" cy="1241.2461" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="540" x="1638.5" y="1245.543">CardTransactionManager prepareReadBinary (byte sfi, int offset, int nbBytesToRead)</text><ellipse cx="1629.5" cy="1259.8672" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="512" x="1638.5" y="1264.1641">CardTransactionManager prepareReadCounter (byte sfi, int nbCountersToRead)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="1282.7852"> </text><ellipse cx="1629.5" cy="1297.1094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="499" x="1638.5" y="1301.4063">CardTransactionManager prepareSearchRecords (SearchCommandData data)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="1320.0273"> </text><ellipse cx="1629.5" cy="1334.3516" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="330" x="1638.5" y="1338.6484">CardTransactionManager prepareCheckPinStatus ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="1357.2695"> </text><ellipse cx="1629.5" cy="1371.5938" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="488" x="1638.5" y="1375.8906">CardTransactionManager prepareAppendRecord (byte sfi, byte[] recordData)</text><ellipse cx="1629.5" cy="1390.2148" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="601" x="1638.5" y="1394.5117">CardTransactionManager prepareUpdateRecord (byte sfi, int recordNumber, byte[] recordData)</text><ellipse cx="1629.5" cy="1408.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="589" x="1638.5" y="1413.1328">CardTransactionManager prepareWriteRecord (byte sfi, int recordNumber, byte[] recordData)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="1431.7539"> </text><ellipse cx="1629.5" cy="1446.0781" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="497" x="1638.5" y="1450.375">CardTransactionManager prepareUpdateBinary (byte sfi, int offset, byte[] data)</text><ellipse cx="1629.5" cy="1464.6992" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="485" x="1638.5" y="1468.9961">CardTransactionManager prepareWriteBinary (byte sfi, int offset, byte[] data)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="1487.6172"> </text><ellipse cx="1629.5" cy="1501.9414" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="585" x="1638.5" y="1506.2383">CardTransactionManager prepareIncreaseCounter (byte sfi, int counterNumber, int incValue)</text><ellipse cx="1629.5" cy="1520.5625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="729" x="1638.5" y="1524.8594">CardTransactionManager prepareIncreaseCounters(byte sfi, Map&lt;Integer, Integer&gt; counterNumberToIncValueMap)</text><ellipse cx="1629.5" cy="1539.1836" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="597" x="1638.5" y="1543.4805">CardTransactionManager prepareDecreaseCounter (byte sfi, int counterNumber, int decValue)</text><ellipse cx="1629.5" cy="1557.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="743" x="1638.5" y="1562.1016">CardTransactionManager prepareDecreaseCounters(byte sfi, Map&lt;Integer, Integer&gt; counterNumberToDecValueMap)</text><ellipse cx="1629.5" cy="1576.4258" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="559" x="1638.5" y="1580.7227">CardTransactionManager prepareSetCounter (byte sfi, int counterNumber, int newValue)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="1599.3438"> </text><ellipse cx="1629.5" cy="1613.668" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="549" x="1638.5" y="1617.9648">CardTransactionManager prepareSvGet (SvOperation svOperation, SvAction svAction)</text><ellipse cx="1629.5" cy="1632.2891" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="577" x="1638.5" y="1636.5859">CardTransactionManager prepareSvReload (int amount, byte[] date, byte[] time, byte[] free)</text><ellipse cx="1629.5" cy="1650.9102" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="357" x="1638.5" y="1655.207">CardTransactionManager prepareSvReload (int amount)</text><ellipse cx="1629.5" cy="1669.5313" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="493" x="1638.5" y="1673.8281">CardTransactionManager prepareSvDebit (int amount, byte[] date, byte[] time)</text><ellipse cx="1629.5" cy="1688.1523" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="345" x="1638.5" y="1692.4492">CardTransactionManager prepareSvDebit (int amount)</text><ellipse cx="1629.5" cy="1706.7734" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="326" x="1638.5" y="1711.0703">CardTransactionManager prepareSvReadAllLogs ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="1729.6914"> </text><ellipse cx="1629.5" cy="1744.0156" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="290" x="1638.5" y="1748.3125">CardTransactionManager prepareInvalidate ()</text><ellipse cx="1629.5" cy="1762.6367" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="305" x="1638.5" y="1766.9336">CardTransactionManager prepareRehabilitate ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="1785.5547"> </text><ellipse cx="1629.5" cy="1799.8789" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="394" x="1638.5" y="1804.1758">CardTransactionManager prepareEarlyMutualAuthentication ()</text><ellipse cx="1629.5" cy="1818.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="347" x="1638.5" y="1822.7969">CardTransactionManager prepareActivateEncryption ()</text><ellipse cx="1629.5" cy="1837.1211" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="364" x="1638.5" y="1841.418">CardTransactionManager prepareDeactivateEncryption ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="1860.0391"> </text><ellipse cx="1629.5" cy="1874.3633" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#FF0000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="366" x="1638.5" y="1878.6602">CardTransactionManager prepareReleaseCardChannel ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="1897.2813"> </text><ellipse cx="1629.5" cy="1911.6055" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="332" x="1638.5" y="1915.9023">CardTransactionManager processCardCommands ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="1934.5234"> </text><ellipse cx="1629.5" cy="1948.8477" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#FF0000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="344" x="1638.5" y="1953.1445">CardTransactionManager processVerifyPin (byte[] pin)</text><ellipse cx="1629.5" cy="1967.4688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#008000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="344" x="1638.5" y="1971.7656">CardTransactionManager prepareVerifyPin (byte[] pin)</text><ellipse cx="1629.5" cy="1986.0898" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#FF0000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="384" x="1638.5" y="1990.3867">CardTransactionManager processChangePin (byte[] newPin)</text><ellipse cx="1629.5" cy="2004.7109" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#008000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="384" x="1638.5" y="2009.0078">CardTransactionManager prepareChangePin (byte[] newPin)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="2027.6289"> </text><ellipse cx="1629.5" cy="2041.9531" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#FF0000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="738" x="1638.5" y="2046.25">CardTransactionManager processChangeKey (int keyIndex, byte newKif, byte newKvc, byte issuerKif, byte issuerKvc)</text><ellipse cx="1629.5" cy="2060.5742" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#008000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="738" x="1638.5" y="2064.8711">CardTransactionManager prepareChangeKey (int keyIndex, byte newKif, byte newKvc, byte issuerKif, byte issuerKvc)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="2083.4922"> </text><ellipse cx="1629.5" cy="2097.8164" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#FF0000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="508" x="1638.5" y="2102.1133">CardTransactionManager processOpening (WriteAccessLevel writeAccessLevel)</text><ellipse cx="1629.5" cy="2116.4375" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#008000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="584" x="1638.5" y="2120.7344">CardTransactionManager prepareOpenSecureSession (WriteAccessLevel writeAccessLevel)</text><ellipse cx="1629.5" cy="2135.0586" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#008000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="754" x="1638.5" y="2139.3555">CardTransactionManager prepareOpenSecureSession (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="2157.9766"> </text><ellipse cx="1629.5" cy="2172.3008" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#FF0000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="277" x="1638.5" y="2176.5977">CardTransactionManager processClosing ()</text><ellipse cx="1629.5" cy="2190.9219" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#008000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="361" x="1638.5" y="2195.2188">CardTransactionManager prepareCloseSecureSession ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="2213.8398"> </text><ellipse cx="1629.5" cy="2228.1641" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#FF0000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="274" x="1638.5" y="2232.4609">CardTransactionManager processCancel ()</text><ellipse cx="1629.5" cy="2246.7852" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#008000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="369" x="1638.5" y="2251.082">CardTransactionManager prepareCancelSecureSession ()</text></g><!--MD5=[80899d8261aafdb2d3733adc7bf0e757]
class SvOperation--><g id="elem_SvOperation"><rect codeLine="390" fill="#FEFECE" height="85.2422" id="SvOperation" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="122" x="2103" y="2477.498"/><ellipse cx="2118" cy="2493.498" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M2116.8594,2494.2949 L2116.8594,2496.7949 L2121.1875,2496.7949 L2121.1875,2495.873 Q2121.1875,2495.2637 2121.4219,2494.998 Q2121.6719,2494.7324 2122.0469,2494.7324 Q2122.4219,2494.7324 2122.6563,2494.998 Q2122.8906,2495.2637 2122.8906,2495.873 L2122.8906,2498.498 L2114.8906,2498.498 Q2114.2656,2498.498 2114,2498.2637 Q2113.75,2498.0293 2113.75,2497.6387 Q2113.75,2497.2637 2114.0156,2497.0293 Q2114.2813,2496.7949 2114.8906,2496.7949 L2115.1563,2496.7949 L2115.1563,2490.1387 L2114.8906,2490.1387 Q2114.2656,2490.1387 2114,2489.9043 Q2113.75,2489.6699 2113.75,2489.2793 Q2113.75,2488.9043 2114,2488.6699 Q2114.2656,2488.4355 2114.8906,2488.4355 L2122.5156,2488.4355 L2122.5156,2491.0293 Q2122.5156,2491.6387 2122.2813,2491.9043 Q2122.0625,2492.1543 2121.6719,2492.1543 Q2121.2969,2492.1543 2121.0625,2491.9043 Q2120.8281,2491.6387 2120.8281,2491.0293 L2120.8281,2490.1387 L2116.8594,2490.1387 L2116.8594,2492.5918 L2118.3438,2492.5918 Q2118.3438,2491.9355 2118.4688,2491.748 Q2118.7344,2491.3418 2119.2031,2491.3418 Q2119.5781,2491.3418 2119.8125,2491.6074 Q2120.0469,2491.8574 2120.0469,2492.4668 L2120.0469,2494.4355 Q2120.0469,2494.9824 2119.9219,2495.1699 Q2119.6563,2495.5605 2119.2031,2495.5605 Q2118.7344,2495.5605 2118.4688,2495.1543 Q2118.3438,2494.9668 2118.3438,2494.2949 L2116.8594,2494.2949 Z " fill="#000000"/><ellipse cx="2137" cy="2492.998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="2143" y="2499.2949">SvOperation</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="2104" x2="2224" y1="2509.498" y2="2509.498"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="2109" y="2528.6055">RELOAD</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="2109" y="2547.2266">DEBIT</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="2104" x2="2224" y1="2554.7402" y2="2554.7402"/></g><!--MD5=[3a20855ad37700d9231151c7156c605b]
class SvAction--><g id="elem_SvAction"><rect codeLine="394" fill="#FEFECE" height="85.2422" id="SvAction" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="98" x="1970" y="2477.498"/><ellipse cx="1985" cy="2493.498" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1983.8594,2494.2949 L1983.8594,2496.7949 L1988.1875,2496.7949 L1988.1875,2495.873 Q1988.1875,2495.2637 1988.4219,2494.998 Q1988.6719,2494.7324 1989.0469,2494.7324 Q1989.4219,2494.7324 1989.6563,2494.998 Q1989.8906,2495.2637 1989.8906,2495.873 L1989.8906,2498.498 L1981.8906,2498.498 Q1981.2656,2498.498 1981,2498.2637 Q1980.75,2498.0293 1980.75,2497.6387 Q1980.75,2497.2637 1981.0156,2497.0293 Q1981.2813,2496.7949 1981.8906,2496.7949 L1982.1563,2496.7949 L1982.1563,2490.1387 L1981.8906,2490.1387 Q1981.2656,2490.1387 1981,2489.9043 Q1980.75,2489.6699 1980.75,2489.2793 Q1980.75,2488.9043 1981,2488.6699 Q1981.2656,2488.4355 1981.8906,2488.4355 L1989.5156,2488.4355 L1989.5156,2491.0293 Q1989.5156,2491.6387 1989.2813,2491.9043 Q1989.0625,2492.1543 1988.6719,2492.1543 Q1988.2969,2492.1543 1988.0625,2491.9043 Q1987.8281,2491.6387 1987.8281,2491.0293 L1987.8281,2490.1387 L1983.8594,2490.1387 L1983.8594,2492.5918 L1985.3438,2492.5918 Q1985.3438,2491.9355 1985.4688,2491.748 Q1985.7344,2491.3418 1986.2031,2491.3418 Q1986.5781,2491.3418 1986.8125,2491.6074 Q1987.0469,2491.8574 1987.0469,2492.4668 L1987.0469,2494.4355 Q1987.0469,2494.9824 1986.9219,2495.1699 Q1986.6563,2495.5605 1986.2031,2495.5605 Q1985.7344,2495.5605 1985.4688,2495.1543 Q1985.3438,2494.9668 1985.3438,2494.2949 L1983.8594,2494.2949 Z " fill="#000000"/><ellipse cx="2004" cy="2492.998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="2010" y="2499.2949">SvAction</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1971" x2="2067" y1="2509.498" y2="2509.498"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="21" x="1976" y="2528.6055">DO</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="1976" y="2547.2266">UNDO</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1971" x2="2067" y1="2554.7402" y2="2554.7402"/></g><!--MD5=[902430ab886935d86a17fe3ee56b883e]
class CardSecuritySetting--><g id="elem_CardSecuritySetting"><rect codeLine="398" fill="#FEFECE" height="364.5586" id="CardSecuritySetting" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="600" x="2405" y="2337.498"/><ellipse cx="2632.25" cy="2353.498" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M2633.2031,2350.1387 L2633.2031,2356.7949 L2634.9219,2356.7949 Q2635.5313,2356.7949 2635.7969,2357.0293 Q2636.0625,2357.2637 2636.0625,2357.6543 Q2636.0625,2358.0293 2635.7969,2358.2637 Q2635.5313,2358.498 2634.9219,2358.498 L2629.7813,2358.498 Q2629.1719,2358.498 2628.9063,2358.2637 Q2628.6406,2358.0293 2628.6406,2357.6387 Q2628.6406,2357.2637 2628.9063,2357.0293 Q2629.1719,2356.7949 2629.7813,2356.7949 L2631.5,2356.7949 L2631.5,2350.1387 L2629.7813,2350.1387 Q2629.1719,2350.1387 2628.9063,2349.9043 Q2628.6406,2349.6699 2628.6406,2349.2793 Q2628.6406,2348.9043 2628.9063,2348.6699 Q2629.1719,2348.4355 2629.7813,2348.4355 L2634.9219,2348.4355 Q2635.5313,2348.4355 2635.7969,2348.6699 Q2636.0625,2348.9043 2636.0625,2349.2793 Q2636.0625,2349.6699 2635.7969,2349.9043 Q2635.5313,2350.1387 2634.9219,2350.1387 L2633.2031,2350.1387 Z " fill="#000000"/><ellipse cx="2657.75" cy="2352.998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="126" x="2663.75" y="2359.2949">CardSecuritySetting</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="2406" x2="3004" y1="2369.498" y2="2369.498"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="2406" x2="3004" y1="2377.498" y2="2377.498"/><ellipse cx="2416" cy="2392.3086" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="247" x="2425" y="2396.6055">CardSecuritySetting setSamResource (</text><text fill="#000000" filter="url(#bqala5uraun2h0)" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="78" x="2672" y="2396.6055">CardReader</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="245" x="2754" y="2396.6055">samReader, CalypsoSam calypsoSam)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="2425" y="2415.2266"> </text><ellipse cx="2416" cy="2429.5508" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="285" x="2425" y="2433.8477">CardSecuritySetting enableMultipleSession ()</text><ellipse cx="2416" cy="2448.1719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="328" x="2425" y="2452.4688">CardSecuritySetting enableRatificationMechanism ()</text><ellipse cx="2416" cy="2466.793" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="322" x="2425" y="2471.0898">CardSecuritySetting enablePinPlainTransmission ()</text><ellipse cx="2416" cy="2485.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="317" x="2425" y="2489.7109">CardSecuritySetting enableSvLoadAndDebitLog ()</text><ellipse cx="2416" cy="2504.0352" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="324" x="2425" y="2508.332">CardSecuritySetting authorizeSvNegativeBalance ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="2425" y="2526.9531"> </text><ellipse cx="2416" cy="2541.2773" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="538" x="2425" y="2545.5742">CardSecuritySetting assignKif (WriteAccessLevel writeAccessLevel, byte kvc, byte kif)</text><ellipse cx="2416" cy="2559.8984" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="523" x="2425" y="2564.1953">CardSecuritySetting assignDefaultKif (WriteAccessLevel writeAccessLevel, byte kif)</text><ellipse cx="2416" cy="2578.5195" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="537" x="2425" y="2582.8164">CardSecuritySetting assignDefaultKvc (WriteAccessLevel writeAccessLevel, byte kvc)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="2425" y="2601.4375"> </text><ellipse cx="2416" cy="2615.7617" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="414" x="2425" y="2620.0586">CardSecuritySetting addAuthorizedSessionKey (byte kif, byte kvc)</text><ellipse cx="2416" cy="2634.3828" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="380" x="2425" y="2638.6797">CardSecuritySetting addAuthorizedSvKey (byte kif, byte kvc)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="2425" y="2657.3008"> </text><ellipse cx="2416" cy="2671.625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="443" x="2425" y="2675.9219">CardSecuritySetting setPinVerificationCipheringKey (byte kif, byte kvc)</text><ellipse cx="2416" cy="2690.2461" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="448" x="2425" y="2694.543">CardSecuritySetting setPinModificationCipheringKey (byte kif, byte kvc)</text></g><!--MD5=[70eb8dcb3e9c6b66ae7b5ebbb5f4f3e9]
class SearchCommandData--><g id="elem_SearchCommandData"><rect codeLine="417" fill="#FEFECE" height="215.5898" id="SearchCommandData" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="379" x="2602.5" y="1465.498"/><ellipse cx="2712.75" cy="1481.498" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M2713.7031,1478.1387 L2713.7031,1484.7949 L2715.4219,1484.7949 Q2716.0313,1484.7949 2716.2969,1485.0293 Q2716.5625,1485.2637 2716.5625,1485.6543 Q2716.5625,1486.0293 2716.2969,1486.2637 Q2716.0313,1486.498 2715.4219,1486.498 L2710.2813,1486.498 Q2709.6719,1486.498 2709.4063,1486.2637 Q2709.1406,1486.0293 2709.1406,1485.6387 Q2709.1406,1485.2637 2709.4063,1485.0293 Q2709.6719,1484.7949 2710.2813,1484.7949 L2712,1484.7949 L2712,1478.1387 L2710.2813,1478.1387 Q2709.6719,1478.1387 2709.4063,1477.9043 Q2709.1406,1477.6699 2709.1406,1477.2793 Q2709.1406,1476.9043 2709.4063,1476.6699 Q2709.6719,1476.4355 2710.2813,1476.4355 L2715.4219,1476.4355 Q2716.0313,1476.4355 2716.2969,1476.6699 Q2716.5625,1476.9043 2716.5625,1477.2793 Q2716.5625,1477.6699 2716.2969,1477.9043 Q2716.0313,1478.1387 2715.4219,1478.1387 L2713.7031,1478.1387 Z " fill="#000000"/><ellipse cx="2738.25" cy="1480.998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="139" x="2744.25" y="1487.2949">SearchCommandData</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="2603.5" x2="2980.5" y1="1497.498" y2="1497.498"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="2603.5" x2="2980.5" y1="1505.498" y2="1505.498"/><ellipse cx="2613.5" cy="1520.3086" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="237" x="2622.5" y="1524.6055">SearchCommandData setSfi (byte sfi)</text><ellipse cx="2613.5" cy="1538.9297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="353" x="2622.5" y="1543.2266">SearchCommandData startAtRecord (int recordNumber)</text><ellipse cx="2613.5" cy="1557.5508" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="268" x="2622.5" y="1561.8477">SearchCommandData setOffset (int offset)</text><ellipse cx="2613.5" cy="1576.1719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="300" x="2622.5" y="1580.4688">SearchCommandData enableRepeatedOffset ()</text><ellipse cx="2613.5" cy="1594.793" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="318" x="2622.5" y="1599.0898">SearchCommandData setSearchData (byte[] data)</text><ellipse cx="2613.5" cy="1613.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="281" x="2622.5" y="1617.7109">SearchCommandData setMask (byte[] mask)</text><ellipse cx="2613.5" cy="1632.0352" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="313" x="2622.5" y="1636.332">SearchCommandData fetchFirstMatchingResult ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="2622.5" y="1654.9531"> </text><ellipse cx="2613.5" cy="1669.2773" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="279" x="2622.5" y="1673.5742">List&lt;Integer&gt; getMatchingRecordNumbers ()</text></g><!--MD5=[693a13ab3a6cdba6037243dfcb574254]
class SamTransactionManager--><g id="elem_SamTransactionManager"><rect codeLine="429" fill="#FEFECE" height="85.2422" id="SamTransactionManager" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="222" x="3581" y="1530.998"/><ellipse cx="3604.55" cy="1546.998" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M3605.5031,1543.6387 L3605.5031,1550.2949 L3607.2219,1550.2949 Q3607.8313,1550.2949 3608.0969,1550.5293 Q3608.3625,1550.7637 3608.3625,1551.1543 Q3608.3625,1551.5293 3608.0969,1551.7637 Q3607.8313,1551.998 3607.2219,1551.998 L3602.0813,1551.998 Q3601.4719,1551.998 3601.2063,1551.7637 Q3600.9406,1551.5293 3600.9406,1551.1387 Q3600.9406,1550.7637 3601.2063,1550.5293 Q3601.4719,1550.2949 3602.0813,1550.2949 L3603.8,1550.2949 L3603.8,1543.6387 L3602.0813,1543.6387 Q3601.4719,1543.6387 3601.2063,1543.4043 Q3600.9406,1543.1699 3600.9406,1542.7793 Q3600.9406,1542.4043 3601.2063,1542.1699 Q3601.4719,1541.9355 3602.0813,1541.9355 L3607.2219,1541.9355 Q3607.8313,1541.9355 3608.0969,1542.1699 Q3608.3625,1542.4043 3608.3625,1542.7793 Q3608.3625,1543.1699 3608.0969,1543.4043 Q3607.8313,1543.6387 3607.2219,1543.6387 L3605.5031,1543.6387 Z " fill="#000000"/><ellipse cx="3625.45" cy="1546.498" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" text-decoration="line-through" textLength="160" x="3631.45" y="1552.7949">SamTransactionManager</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="3582" x2="3802" y1="1562.998" y2="1562.998"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="3582" x2="3802" y1="1570.998" y2="1570.998"/><ellipse cx="3592" cy="1585.8086" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" filter="url(#bqala5uraun2h0)" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="78" x="3601" y="1590.1055">CardReader</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="109" x="3683" y="1590.1055">getSamReader ()</text><ellipse cx="3592" cy="1604.4297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="196" x="3601" y="1608.7266">CalypsoSam getCalypsoSam ()</text></g><!--MD5=[7540f2bc197295eea372683d3e802e43]
class SamSecuritySetting--><g id="elem_SamSecuritySetting"><rect codeLine="433" fill="#FEFECE" height="48" id="SamSecuritySetting" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="166" x="3112" y="2495.998"/><ellipse cx="3127" cy="2511.998" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M3127.9531,2508.6387 L3127.9531,2515.2949 L3129.6719,2515.2949 Q3130.2813,2515.2949 3130.5469,2515.5293 Q3130.8125,2515.7637 3130.8125,2516.1543 Q3130.8125,2516.5293 3130.5469,2516.7637 Q3130.2813,2516.998 3129.6719,2516.998 L3124.5313,2516.998 Q3123.9219,2516.998 3123.6563,2516.7637 Q3123.3906,2516.5293 3123.3906,2516.1387 Q3123.3906,2515.7637 3123.6563,2515.5293 Q3123.9219,2515.2949 3124.5313,2515.2949 L3126.25,2515.2949 L3126.25,2508.6387 L3124.5313,2508.6387 Q3123.9219,2508.6387 3123.6563,2508.4043 Q3123.3906,2508.1699 3123.3906,2507.7793 Q3123.3906,2507.4043 3123.6563,2507.1699 Q3123.9219,2506.9355 3124.5313,2506.9355 L3129.6719,2506.9355 Q3130.2813,2506.9355 3130.5469,2507.1699 Q3130.8125,2507.4043 3130.8125,2507.7793 Q3130.8125,2508.1699 3130.5469,2508.4043 Q3130.2813,2508.6387 3129.6719,2508.6387 L3127.9531,2508.6387 Z " fill="#000000"/><ellipse cx="3146" cy="2511.498" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" text-decoration="line-through" textLength="123" x="3152" y="2517.7949">SamSecuritySetting</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="3113" x2="3277" y1="2527.998" y2="2527.998"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="3113" x2="3277" y1="2535.998" y2="2535.998"/></g><!--MD5=[5c6c7d52e42032554528404b62c1d271]
class RuntimeException--><g id="elem_RuntimeException"><rect codeLine="436" fill="#FEFECE" height="290.0742" id="RuntimeException" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="837" x="1618.5" y="239.498"/><ellipse cx="1962.75" cy="255.498" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1965.5156,251.373 Q1965.6719,251.1543 1965.8594,251.0449 Q1966.0469,250.9355 1966.2656,250.9355 Q1966.6406,250.9355 1966.875,251.2012 Q1967.1094,251.4512 1967.1094,252.0605 L1967.1094,253.5137 Q1967.1094,254.123 1966.875,254.3887 Q1966.6406,254.6543 1966.2656,254.6543 Q1965.9219,254.6543 1965.7188,254.4512 Q1965.5156,254.2637 1965.4063,253.748 Q1965.3594,253.3887 1965.1719,253.2012 Q1964.8438,252.8262 1964.2344,252.6074 Q1963.625,252.3887 1963,252.3887 Q1962.2344,252.3887 1961.5938,252.7168 Q1960.9688,253.0449 1960.4688,253.7949 Q1959.9844,254.5449 1959.9844,255.5762 L1959.9844,256.6699 Q1959.9844,257.9043 1960.875,258.7324 Q1961.7656,259.5449 1963.3594,259.5449 Q1964.2969,259.5449 1964.9531,259.2949 Q1965.3438,259.1387 1965.7656,258.7012 Q1966.0313,258.4355 1966.1719,258.3574 Q1966.3281,258.2793 1966.5313,258.2793 Q1966.8594,258.2793 1967.1094,258.5449 Q1967.375,258.7949 1967.375,259.1387 Q1967.375,259.4824 1967.0313,259.8887 Q1966.5313,260.4668 1965.7344,260.7949 Q1964.6563,261.248 1963.3594,261.248 Q1961.8438,261.248 1960.6406,260.623 Q1959.6563,260.123 1958.9688,259.0605 Q1958.2813,257.9824 1958.2813,256.7012 L1958.2813,255.5449 Q1958.2813,254.2168 1958.8906,253.0762 Q1959.5156,251.9199 1960.6094,251.3105 Q1961.7031,250.6855 1962.9375,250.6855 Q1963.6719,250.6855 1964.3125,250.8574 Q1964.9688,251.0137 1965.5156,251.373 Z " fill="#000000"/><ellipse cx="1988.25" cy="254.998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="1994.25" y="261.2949">«RuntimeException»</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1619.5" x2="2454.5" y1="271.498" y2="271.498"/><ellipse cx="1629.5" cy="286.3086" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="234" x="1638.5" y="290.6055">SessionBufferOverflowException</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="317" x="1872.5" y="290.6055">: Session buffer would overflow for atomic session.</text><ellipse cx="1629.5" cy="304.9297" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="190" x="1638.5" y="309.2266">UnauthorizedKeyException</text><ellipse cx="1629.5" cy="323.5508" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="166" x="1638.5" y="327.8477">CardRevokedException</text><ellipse cx="1629.5" cy="342.1719" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="162" x="1638.5" y="346.4688">SamRevokedException</text><ellipse cx="1629.5" cy="360.793" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="188" x="1638.5" y="365.0898">InconsistentDataException</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="284" x="1826.5" y="365.0898">: Number of R-APDUs != number of C-APDUs</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="15" x="2114.5" y="365.0898">or</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="316" x="2133.5" y="365.0898">data read in session != data read outside session.</text><ellipse cx="1629.5" cy="379.4141" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="185" x="1638.5" y="383.7109">InvalidSignatureException</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="266" x="1823.5" y="383.7109">: R-APDU of PSO Verify Signature = 6988.</text><ellipse cx="1629.5" cy="398.0352" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="218" x="1638.5" y="402.332">InvalidCardSignatureException</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="247" x="1856.5" y="402.332">: R-APDU of DigestAuthenticate = 6988</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="15" x="2107.5" y="402.332">or</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180" x="2126.5" y="402.332">R-APDU of SvCheck = 6988.</text><ellipse cx="1629.5" cy="416.6563" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="262" x="1638.5" y="420.9531">CardSignatureNotVerifiableException</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="450" x="1900.5" y="420.9531">: R-APDU of CloseSecureSession = 9000 but SAM is no more available.</text><ellipse cx="1629.5" cy="435.2773" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="140" x="1638.5" y="439.5742">SelectFileException</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="195" x="1778.5" y="439.5742">: R-APDU of SelectFile = 6A82.</text><ellipse cx="1629.5" cy="453.8984" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="268" x="1638.5" y="458.1953">UnexpectedCommandStatusException</text><ellipse cx="1629.5" cy="472.5195" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="136" x="1638.5" y="476.8164">ReaderIOException</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="373" x="1774.5" y="476.8164">: Card reader and/or SAM reader communication is broken.</text><ellipse cx="1629.5" cy="491.1406" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="118" x="1638.5" y="495.4375">CardIOException</text><ellipse cx="1629.5" cy="509.7617" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="114" x="1638.5" y="514.0586">SamIOException</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1619.5" x2="2454.5" y1="521.5723" y2="521.5723"/></g><!--MD5=[007eb89bfb10701b962958f5b6fc0ebb]
reverse link CommonSignatureComputationData to BasicSignatureComputationData--><g id="link_CommonSignatureComputationData_BasicSignatureComputationData"><path d="M2629.17,464.398 C2581.11,488.798 2525.93,513.458 2473,529.498 C2219.81,606.238 2129.29,511.888 1883,608.498 C1837.82,626.218 1793.35,661.358 1766.79,684.778 " fill="none" id="CommonSignatureComputationData-backto-BasicSignatureComputationData" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="none" points="2626.24,458.038,2647.22,455.078,2632.66,470.478,2626.24,458.038" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[f429252bb447dd4a1aa4e00c09503393]
reverse link CommonSignatureComputationData to TraceableSignatureComputationData--><g id="link_CommonSignatureComputationData_TraceableSignatureComputationData"><path d="M2642.31,465.928 C2554.9,522.298 2439.94,596.458 2360.39,647.758 " fill="none" id="CommonSignatureComputationData-backto-TraceableSignatureComputationData" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="none" points="2638.52,460.038,2659.12,455.078,2646.11,471.798,2638.52,460.038" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[e2b6e3fe5a6a0a5bd0ef8dd67224f7af]
reverse link CommonSignatureVerificationData to BasicSignatureVerificationData--><g id="link_CommonSignatureVerificationData_BasicSignatureVerificationData"><path d="M3340.27,465.788 C3336.01,538.088 3330.02,639.698 3327.36,684.838 " fill="none" id="CommonSignatureVerificationData-backto-BasicSignatureVerificationData" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="none" points="3333.28,465.338,3341.45,445.778,3347.26,466.158,3333.28,465.338" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[e31b41de38b178ddac6d238f38182a2b]
reverse link CommonSignatureVerificationData to TraceableSignatureVerificationData--><g id="link_CommonSignatureVerificationData_TraceableSignatureVerificationData"><path d="M3476.37,455.068 C3597.9,519.418 3774.54,612.968 3875.46,666.408 " fill="none" id="CommonSignatureVerificationData-backto-TraceableSignatureVerificationData" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="none" points="3472.88,461.138,3458.48,445.588,3479.43,448.768,3472.88,461.138" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[d266e6b41118882c59f402da525b718d]
reverse link CommonTransactionManager to CardTransactionManager--><g id="link_CommonTransactionManager_CardTransactionManager"><path d="M2681.87,819.828 C2647.72,840.328 2614.29,863.328 2585,888.498 C2567.02,903.948 2549.3,920.128 2531.88,936.908 " fill="none" id="CommonTransactionManager-backto-CardTransactionManager" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="none" points="2678.43,813.728,2699.22,809.648,2685.51,825.808,2678.43,813.728" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[1db9f822c507b05cc334f36bb90751d1]
reverse link CommonSecuritySetting to CardSecuritySetting--><g id="link_CommonSecuritySetting_CardSecuritySetting"><path d="M3265.88,1635.638 C3232.79,1761.148 3145.01,2053.278 2999,2258.498 C2979.53,2285.864 2956.67,2312.343 2932.44,2337.261 " fill="none" id="CommonSecuritySetting-backto-CardSecuritySetting" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="none" points="3259.11,1633.878,3270.9,1616.268,3272.66,1637.388,3259.11,1633.878" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[d797ff1dc764dc8d6ac7a284e740df54]
reverse link CommonTransactionManager to SamTransactionManager--><g id="link_CommonTransactionManager_SamTransactionManager"><path d="M3191.45,809.638 C3358.99,850.368 3448.54,771.518 3563,888.498 C3740.06,1069.448 3713.71,1412.318 3698.3,1530.908 " fill="none" id="CommonTransactionManager-backto-SamTransactionManager" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="none" points="3189.53,816.368,3172,804.458,3193.13,802.838,3189.53,816.368" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[bebc41ed0d56af7f5f4768b2ae71c54c]
reverse link CommonSecuritySetting to SamSecuritySetting--><g id="link_CommonSecuritySetting_SamSecuritySetting"><path d="M3275.36,1636.468 C3258.35,1823.238 3208.09,2375.232 3197.13,2495.634 " fill="none" id="CommonSecuritySetting-backto-SamSecuritySetting" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="none" points="3268.41,1635.588,3277.19,1616.298,3282.35,1636.858,3268.41,1635.588" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[5ded3e7aaf9ebe62379fb7295320d623]
reverse link CommonSignatureComputationData to CommonTransactionManager--><g id="link_CommonSignatureComputationData_CommonTransactionManager"><path codeLine="456" d="M2802.27,459.848 C2823.18,503.918 2849.95,560.348 2872.68,608.248 " fill="none" id="CommonSignatureComputationData-backto-CommonTransactionManager" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2800.01,455.078,2800.2559,464.9238,2802.1541,459.595,2807.483,461.4932,2800.01,455.078" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="2860.8567,564.6262,2862.0787,574.058,2867.3892,571.5384,2860.8567,564.6262" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="2872" y="574.5264">use</text></g><!--MD5=[550a62ab3e7fd91fb28d5d25f62b233f]
reverse link CommonSignatureVerificationData to CommonTransactionManager--><g id="link_CommonSignatureVerificationData_CommonTransactionManager"><path codeLine="457" d="M3261.29,449.018 C3201.45,494.428 3119.72,556.448 3051.25,608.408 " fill="none" id="CommonSignatureVerificationData-backto-CommonTransactionManager" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="3265.56,445.778,3255.9689,448.0165,3261.572,448.794,3260.7945,454.3972,3265.56,445.778" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="3116.983,566.121,3108.0011,569.2477,3111.5543,573.93,3116.983,566.121" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="3122" y="574.5264">use</text></g><!--MD5=[9517a19e810f159680f934d60c3d203d]
link CommonTransactionManager to CommonSecuritySetting--><g id="link_CommonTransactionManager_CommonSecuritySetting"><path codeLine="458" d="M2964.74,809.878 C2976.05,835.448 2988.08,862.948 2999,888.498 C3100.96,1127.088 3217.59,1415.018 3262.26,1525.878 " fill="none" id="CommonTransactionManager-to-CommonSecuritySetting" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="3264.2,1530.708,3264.5453,1520.8652,3262.3308,1526.0706,3257.1254,1523.856,3264.2,1530.708" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="2991.9186,853.7608,2991.1618,844.2804,2985.7339,846.5359,2991.9186,853.7608" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="2999" y="854.5264">provide</text></g><!--MD5=[9abb0600ea8d250195d8cfb730d979db]
reverse link SamRevocationServiceSpi to CommonSecuritySetting--><g id="link_SamRevocationServiceSpi_CommonSecuritySetting"><path codeLine="460" d="M4692.41,1525.688 C4683.02,1405.518 4639.94,1091.078 4444,959.498 C4281.47,850.348 3727.81,853.828 3563,959.498 C3357.6,1091.188 3299.81,1414.218 3285.36,1530.728 " fill="none" id="SamRevocationServiceSpi-backto-CommonSecuritySetting" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="4692.81,1530.918,4696.1039,1521.6363,4692.4243,1525.9329,4688.1277,1522.2534,4692.81,1530.918" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="4006,849.1256,3996.9444,846.2191,3996.9655,852.097,4006,849.1256" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="4010" y="854.5264">use</text></g><!--MD5=[bf80d0b55d06d679fb8b5551976562e7]
reverse link CalypsoSam to CommonSecuritySetting--><g id="link_CalypsoSam_CommonSecuritySetting"><path codeLine="461" d="M5122,2391.073 C5103.77,2366.599 5081.49,2344.091 5055,2329.498 C5002.79,2300.74 4578.54,2310.246 4519,2307.498 C4465.88,2305.046 3606.42,2289.202 3563,2258.498 C3341.97,2102.209 3293.74,1739.678 3283.6,1616.408 " fill="none" id="CalypsoSam-backto-CommonSecuritySetting" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="5125.12,2395.339,5123.0233,2385.7159,5122.1632,2391.307,5116.5721,2390.4469,5125.12,2395.339" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="4528.6076,2300.0851,4521.4136,2293.8645,4519.1311,2299.2811,4528.6076,2300.0851" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="4533" y="2303.5264">use</text></g><!--MD5=[791e09d4c810c8a1c6008939c8d78a95]
reverse link CalypsoCardSelection to FileOccurrence--><g id="link_CalypsoCardSelection_FileOccurrence"><path codeLine="463" d="M381.885,1806.688 C388.54,1951.128 391.419,2140.522 375,2307.498 C369.926,2359.098 358.049,2416.77 348.215,2458.842 " fill="none" id="CalypsoCardSelection-backto-FileOccurrence" style="stroke:#181818;stroke-width:2.0;"/><ellipse cx="381.5384" cy="1799.5193" fill="#FFFFFF" rx="8" ry="8" style="stroke:#181818;stroke-width:2.0;"/><line style="stroke:#181818;stroke-width:2.0;" x1="381.9117" x2="381.165" y1="1807.5106" y2="1791.528"/><line style="stroke:#181818;stroke-width:2.0;" x1="373.5471" x2="389.5296" y1="1799.8927" y2="1799.146"/></g><!--MD5=[b2f8d5953c89cd71183705a81cb4cd83]
link CalypsoCardSelection to FileOccurrence--><g id="link_CalypsoCardSelection_FileOccurrence"><path codeLine="464" d="M335.962,1791.628 C319.251,1937.408 303.4,2133.853 312,2307.498 C314.438,2356.724 320.049,2412.159 324.858,2453.923 " fill="none" id="CalypsoCardSelection-to-FileOccurrence" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="325.44,2458.947,328.3772,2449.5464,324.8643,2453.9803,320.4304,2450.4674,325.44,2458.947" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="316.9162,2303.1429,320.0063,2294.1483,314.1293,2294.0498,316.9162,2303.1429" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="326" y="2303.5264">provide</text></g><!--MD5=[124899d3a846069039d137320287bb3c]
reverse link CalypsoCardSelection to FileControlInformation--><g id="link_CalypsoCardSelection_FileControlInformation"><path codeLine="465" d="M332.542,1806.488 C308.656,1952.068 272.058,2142.76 223,2307.498 C204.956,2368.091 176.012,2435.281 156.755,2477.326 " fill="none" id="CalypsoCardSelection-backto-FileControlInformation" style="stroke:#181818;stroke-width:2.0;"/><ellipse cx="333.6704" cy="1799.5437" fill="#FFFFFF" rx="8" ry="8" style="stroke:#181818;stroke-width:2.0;"/><line style="stroke:#181818;stroke-width:2.0;" x1="332.3827" x2="334.958" y1="1807.4394" y2="1791.648"/><line style="stroke:#181818;stroke-width:2.0;" x1="325.7747" x2="341.5661" y1="1798.2561" y2="1800.8314"/></g><!--MD5=[d14a378fd0bab8d7334e27ffa02b6b16]
link CalypsoCardSelection to FileControlInformation--><g id="link_CalypsoCardSelection_FileControlInformation"><path codeLine="466" d="M292.251,1791.538 C247.383,1931.768 192.618,2119.052 160,2288.498 C147.861,2351.558 141.917,2425.631 139.162,2472.443 " fill="none" id="CalypsoCardSelection-to-FileControlInformation" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="138.874,2477.45,143.3868,2468.6959,139.1626,2472.4584,135.4001,2468.2342,138.874,2477.45" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="163.9032,2303.0218,168.7547,2294.8417,163.02,2293.5523,163.9032,2303.0218" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="174" y="2303.5264">provide</text></g><!--MD5=[957e52cfabfdeac703e0e4a67a1d654b]
link CardTransactionManager to WriteAccessLevel--><g id="link_CardTransactionManager_WriteAccessLevel"><path codeLine="468" d="M2531.87,2226.982 C2549.11,2238.37 2566.82,2248.919 2585,2258.498 C2659.57,2297.781 3284.59,2227.73 3343,2288.498 C3478.71,2429.684 3420.02,2575.767 3295,2726.498 C3229.72,2805.202 2934.19,2867.937 2787.75,2894.808 " fill="none" id="CardTransactionManager-to-WriteAccessLevel" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2782.61,2895.749,2792.183,2898.0638,2787.5283,2894.8491,2790.743,2890.1945,2782.61,2895.749" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="3427.7889,2524.8126,3427.2971,2515.3147,3421.8083,2517.4178,3427.7889,2524.8126" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="3435" y="2525.5264">use</text></g><!--MD5=[6e3ea62bcea4255f9e0016e7a14d6e55]
link CardTransactionManager to SvOperation--><g id="link_CardTransactionManager_SvOperation"><path codeLine="469" d="M2139.47,2258.722 C2147.95,2348.633 2155.2,2425.609 2159.57,2472.031 " fill="none" id="CardTransactionManager-to-SvOperation" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2160.07,2477.261,2163.2078,2467.9254,2159.6008,2472.2831,2155.2431,2468.6761,2160.07,2477.261" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="2148.4691,2303.1215,2150.5465,2293.8406,2144.6945,2294.392,2148.4691,2303.1215" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="2157" y="2303.5264">use</text></g><!--MD5=[43458ce7ca92b5bf9eba082436bc4f4b]
link CardTransactionManager to SvAction--><g id="link_CardTransactionManager_SvAction"><path codeLine="470" d="M2034.43,2258.722 C2029.1,2348.633 2024.54,2425.609 2021.78,2472.031 " fill="none" id="CardTransactionManager-to-SvAction" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2021.47,2477.261,2025.9969,2468.5142,2021.7666,2472.2699,2018.011,2468.0396,2021.47,2477.261" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="2037.704,2303.1348,2041.1732,2294.2795,2035.3057,2293.9316,2037.704,2303.1348" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="2047" y="2303.5264">use</text></g><!--MD5=[c316da82647688efb33554c922e0ba44]
reverse link SelectFileControl to CardTransactionManager--><g id="link_SelectFileControl_CardTransactionManager"><path codeLine="471" d="M1361.25,747.048 C1424.58,778.778 1512.81,828.758 1578,888.498 C1591.53,900.898 1604.92,913.708 1618.16,926.878 " fill="none" id="SelectFileControl-backto-CardTransactionManager" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1356.74,744.788,1363.0107,752.3827,1361.215,747.0184,1366.5793,745.2227,1356.74,744.788" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="1543.9038,846.2763,1549.6286,853.8709,1552.9992,849.0555,1543.9038,846.2763" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="1557" y="854.5264">use</text></g><!--MD5=[17efe9176b1f62a456b602da9c1703b1]
reverse link GetDataTag to CardTransactionManager--><g id="link_GetDataTag_CardTransactionManager"><path codeLine="472" d="M1070.79,775.048 C1079.8,805.448 1095.57,839.128 1123,858.498 C1205.77,916.948 1489.28,839.548 1578,888.498 C1591.66,896.028 1605.03,904.118 1618.13,912.698 " fill="none" id="GetDataTag-backto-CardTransactionManager" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1069.4,770.198,1068.0187,779.9496,1070.7698,775.0067,1075.7127,777.7578,1069.4,770.198" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="1123.151,847.9241,1131.2061,852.9803,1132.6397,847.28,1123.151,847.9241" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="1137" y="854.5264">use</text></g><!--MD5=[9bda690369adb1dbd55243a6b72e07b6]
link CardTransactionManager to SearchCommandData--><g id="link_CardTransactionManager_SearchCommandData"><path codeLine="473" d="M2531.63,1573.498 C2554.22,1573.498 2576.25,1573.498 2597.32,1573.498 " fill="none" id="CardTransactionManager-to-SearchCommandData" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2602.36,1573.498,2593.36,1569.498,2597.36,1573.498,2593.36,1577.498,2602.36,1573.498" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="2559,1561.1436,2549.9549,1558.2046,2549.9549,1564.0825,2559,1561.1436" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="2563" y="1566.5264">use</text></g><!--MD5=[290add383f9517a2de7babdd84045efc]
link CardTransactionManager to CalypsoCard--><g id="link_CardTransactionManager_CalypsoCard"><path codeLine="474" d="M1618.46,1573.498 C1433.62,1573.498 1230.64,1573.498 1088.08,1573.498 " fill="none" id="CardTransactionManager-to-CalypsoCard" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="1083.03,1573.498,1092.03,1577.498,1088.03,1573.498,1092.03,1569.498,1083.03,1573.498" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="1243.75,1561.1436,1252.7951,1564.0825,1252.7951,1558.2046,1243.75,1561.1436" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="1257.75" y="1566.5264">use and provide up to date content</text></g><!--MD5=[52b5f30b2d37598ca0e4149af55964c4]
link CardTransactionManager to CardSecuritySetting--><g id="link_CardTransactionManager_CardSecuritySetting"><path codeLine="475" d="M2531.39,2258.722 C2548.67,2284.632 2565.24,2309.468 2580.81,2332.808 " fill="none" id="CardTransactionManager-to-CardSecuritySetting" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="2583.7,2337.149,2582.029,2327.443,2580.9235,2332.9908,2575.3757,2331.8853,2583.7,2337.149" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="2560.7746,2302.303,2558.2002,2293.1476,2553.3104,2296.4093,2560.7746,2302.303" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="2567" y="2303.5264">provide</text></g><!--MD5=[e7462c464ac49a3bd10175a329a45036]
link CardSecuritySetting to WriteAccessLevel--><g id="link_CardSecuritySetting_WriteAccessLevel"><path codeLine="477" d="M2705,2702.502 C2705,2756.863 2705,2812.538 2705,2852.359 " fill="none" id="CardSecuritySetting-to-WriteAccessLevel" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2705,2857.625,2709,2848.625,2705,2852.625,2701,2848.625,2705,2857.625" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="2710,2749.1436,2712.9389,2740.0985,2707.0611,2740.0985,2710,2749.1436" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="2719" y="2749.5264">use</text></g><!--MD5=[463830dd6010e96d60bfc26cb85b02c8]
link CalypsoSamSelection to SamProductType--><g id="link_CalypsoSamSelection_SamProductType"><path codeLine="479" d="M4863.16,2589.09 C4930.42,2637.561 5017.15,2707.387 5079,2783.498 C5089.27,2796.137 5098.64,2810.624 5106.89,2825.161 " fill="none" id="CalypsoSamSelection-to-SamProductType" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="5109.41,2829.672,5108.5001,2819.8653,5106.9659,2825.3101,5101.5211,2823.7759,5109.41,2829.672" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="5057.5915,2747.6222,5053.1391,2739.2182,5049.0497,2743.4403,5057.5915,2747.6222" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="5063" y="2749.5264">use</text></g><!--MD5=[bcbf95a248b76879897387f80e494102]
link SamTransactionManager to CalypsoSam--><g id="link_SamTransactionManager_CalypsoSam"><path codeLine="481" d="M3723.45,1616.108 C3819.27,1739.338 4122.22,2103.495 4468,2258.498 C4707.8,2365.994 4830.03,2193.678 5055,2329.498 C5080.41,2344.837 5102.09,2367.207 5120.08,2391.241 " fill="none" id="SamTransactionManager-to-CalypsoSam" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="5123.16,2395.428,5121.0456,2385.8088,5120.1958,2391.4015,5114.6031,2390.5516,5123.16,2395.428" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="5011.3718,2300.5699,5004.8893,2293.6109,5002.0369,2298.7503,5011.3718,2300.5699" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="5016" y="2303.5264">provide</text></g><!--MD5=[486f18c8945b6f05a319b58b427cf92d]
link SamTransactionManager to SamSecuritySetting--><g id="link_SamTransactionManager_SamSecuritySetting"><path codeLine="482" d="M3698,1616.168 C3712.47,1734.238 3736.26,2074.318 3563,2258.498 C3474.74,2352.322 3381.02,2247.112 3282,2329.498 C3231.56,2371.463 3208.93,2448.995 3200.02,2490.696 " fill="none" id="SamTransactionManager-to-SamSecuritySetting" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="3198.95,2495.844,3204.6957,2487.8449,3199.9662,2490.9484,3196.8627,2486.2189,3198.95,2495.844" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="3523.5259,2302.4885,3530.5555,2296.0827,3525.4477,2293.1741,3523.5259,2302.4885" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="3535" y="2303.5264">provide</text></g><!--MD5=[1d7d1f3a59163c759a2873ea24945c0d]
reverse link CalypsoSam to SamProductType--><g id="link_CalypsoSam_SamProductType"><path codeLine="484" d="M5159.79,2659.466 C5155.89,2684.366 5152.39,2710.142 5150,2734.498 C5146.95,2765.565 5145.55,2799.882 5144.96,2829.803 " fill="none" id="CalypsoSam-backto-SamProductType" style="stroke:#181818;stroke-width:2.0;"/><ellipse cx="5160.9225" cy="2652.412" fill="#FFFFFF" rx="8" ry="8" style="stroke:#181818;stroke-width:2.0;"/><line style="stroke:#181818;stroke-width:2.0;" x1="5159.655" x2="5162.19" y1="2660.311" y2="2644.513"/><line style="stroke:#181818;stroke-width:2.0;" x1="5153.0236" x2="5168.8215" y1="2651.1445" y2="2653.6795"/></g><!--MD5=[cf1f36c13265bd4b5b312aa9a8ef60a4]
link CalypsoSam to SamProductType--><g id="link_CalypsoSam_SamProductType"><path codeLine="485" d="M5172.94,2644.564 C5166.73,2703.34 5159.47,2772.098 5153.9,2824.767 " fill="none" id="CalypsoSam-to-SamProductType" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="5153.37,2829.813,5158.2943,2821.2836,5153.8958,2824.8408,5150.3386,2820.4423,5153.37,2829.813" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="5167.4746,2749.1159,5171.3477,2740.4297,5165.5024,2739.8121,5167.4746,2749.1159" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="5177" y="2749.5264">provide</text></g><!--MD5=[3c766b8dbd2d4b637d84ed4972e0a262]
reverse link SelectFileControl to CalypsoCardSelection--><g id="link_SelectFileControl_CalypsoCardSelection"><path codeLine="487" d="M1253.97,765.428 C1234.64,798.558 1205.28,838.068 1167,858.498 C1075.85,907.158 788.928,831.118 703,888.498 C544.334,994.458 457.508,1197.908 411.922,1355.488 " fill="none" id="SelectFileControl-backto-CalypsoCardSelection" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1256.51,761.008,1248.5677,766.8321,1254.0262,765.3475,1255.5108,770.8061,1256.51,761.008" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="1201.0947,846.2742,1192.0007,849.0581,1195.3739,853.8717,1201.0947,846.2742" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="1206" y="854.5264">use</text></g><!--MD5=[ed4b6019252305bc0cd5d3bef0d383d2]
reverse link GetDataTag to CalypsoCardSelection--><g id="link_GetDataTag_CalypsoCardSelection"><path codeLine="488" d="M948.253,744.318 C871.527,772.758 771.289,819.728 703,888.498 C573.691,1018.718 485.607,1208.468 432.019,1355.108 " fill="none" id="GetDataTag-backto-CalypsoCardSelection" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="953.272,742.478,943.4448,741.8252,948.5784,744.2014,946.2022,749.335,953.272,742.478" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="769.2276,845.3248,761.1442,850.3359,765.6334,854.1301,769.2276,845.3248" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="775" y="854.5264">use</text></g><!--MD5=[b9c02494ee2edb3f49e24a11a76ae6d5]
link CalypsoCard to DirectoryHeader--><g id="link_CalypsoCard_DirectoryHeader"><path codeLine="490" d="M1033.31,1996.338 C1081.73,2151.898 1132.45,2314.842 1164.13,2416.607 " fill="none" id="CalypsoCard-to-DirectoryHeader" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="1165.62,2421.406,1166.7717,2411.6248,1164.1376,2416.6309,1159.1315,2413.9967,1165.62,2421.406" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="1131.4861,2302.9176,1131.6039,2293.4078,1125.9916,2295.1547,1131.4861,2302.9176" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="1139" y="2303.5264">provide</text></g><!--MD5=[435a292fec6bd60cef8a6737227e6c35]
link CalypsoCard to ElementaryFile--><g id="link_CalypsoCard_ElementaryFile"><path codeLine="491" d="M902,1996.338 C902,2178.209 902,2370.174 902,2462.661 " fill="none" id="CalypsoCard-to-ElementaryFile" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="902,2467.799,906,2458.799,902,2462.799,898,2458.799,902,2467.799" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="907,2303.1436,909.9389,2294.0985,904.0611,2294.0985,907,2303.1436" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="916" y="2303.5264">provide</text></g><!--MD5=[57dcad9f3791efe87eb3de288cba384a]
reverse link CalypsoCard to CardProductType--><g id="link_CalypsoCard_CardProductType"><path codeLine="492" d="M791.932,2011.158 C771.163,2102.419 750.976,2198.31 735,2288.498 C726.14,2338.512 719.219,2395.132 714.474,2439.739 " fill="none" id="CalypsoCard-backto-CardProductType" style="stroke:#181818;stroke-width:2.0;"/><ellipse cx="793.5543" cy="2004.0569" fill="#FFFFFF" rx="8" ry="8" style="stroke:#181818;stroke-width:2.0;"/><line style="stroke:#181818;stroke-width:2.0;" x1="791.7716" x2="795.337" y1="2011.8557" y2="1996.258"/><line style="stroke:#181818;stroke-width:2.0;" x1="785.7555" x2="801.3532" y1="2002.2742" y2="2005.8396"/></g><!--MD5=[da295e0332042a57370ae8d038ae7841]
link CalypsoCard to CardProductType--><g id="link_CalypsoCard_CardProductType"><path codeLine="493" d="M814.908,1996.338 C780.827,2161.411 745.029,2334.799 724.43,2434.575 " fill="none" id="CalypsoCard-to-CardProductType" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="723.4,2439.565,729.1377,2431.5601,724.4113,2434.6684,721.3031,2429.942,723.4,2439.565" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="758.989,2303.0403,763.6961,2294.7763,757.9397,2293.5878,758.989,2303.0403" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="769" y="2303.5264">provide</text></g><!--MD5=[aba73d32463631a1419cefff8db1a33e]
link CalypsoCard to SvLoadLogRecord--><g id="link_CalypsoCard_SvLoadLogRecord"><path codeLine="494" d="M1083.23,1847.168 C1175.61,1989.188 1287.99,2166.761 1382,2329.498 C1389.59,2342.637 1397.28,2356.411 1404.85,2370.284 " fill="none" id="CalypsoCard-to-SvLoadLogRecord" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="1407.41,2374.991,1406.6182,2365.1741,1405.0185,2370.6,1399.5926,2369.0004,1407.41,2374.991" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="1371.6187,2302.4029,1369.385,2293.1584,1364.3778,2296.2369,1371.6187,2302.4029" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="1378" y="2303.5264">provide</text></g><!--MD5=[0ef7c8472eddb1facc6466acd43af4c7]
link CalypsoCard to SvDebitLogRecord--><g id="link_CalypsoCard_SvDebitLogRecord"><path codeLine="495" d="M810.05,1996.008 C780.426,2086.388 742.106,2178.64 693,2258.498 C669.125,2297.324 646.357,2293.042 619,2329.498 C607.293,2345.099 596.221,2362.279 586.017,2379.733 " fill="none" id="CalypsoCard-to-SvDebitLogRecord" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="583.441,2384.176,591.4162,2378.3972,585.9493,2379.8507,584.4958,2374.3838,583.441,2384.176" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="668.479,2302.4615,675.5775,2296.1321,670.5015,2293.1685,668.479,2302.4615" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="680" y="2303.5264">provide</text></g><!--MD5=[dace07c6424a6284409add909451346a]
link DirectoryHeader to WriteAccessLevel--><g id="link_DirectoryHeader_WriteAccessLevel"><path codeLine="497" d="M1260.9,2618.745 C1292.6,2658.647 1334.24,2701.262 1382,2726.498 C1492.13,2784.69 2349.48,2873.771 2622.08,2900.888 " fill="none" id="DirectoryHeader-to-WriteAccessLevel" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2627.23,2901.4,2618.675,2896.5202,2622.2551,2900.9001,2617.8752,2904.4801,2627.23,2901.4" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="1481.8959,2745.1584,1473.6356,2740.4448,1472.4426,2746.2003,1481.8959,2745.1584" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="1486" y="2749.5264">use</text></g><!--MD5=[cc1c643465d1c05aadfdd3e7e3ee33ff]
reverse link ElementaryFile to FileType--><g id="link_ElementaryFile_FileType"><path codeLine="499" d="M902,2587.333 C902,2657.564 902,2767.94 902,2839.389 " fill="none" id="ElementaryFile-backto-FileType" style="stroke:#181818;stroke-width:2.0;"/><ellipse cx="902" cy="2580.121" fill="#FFFFFF" rx="8" ry="8" style="stroke:#181818;stroke-width:2.0;"/><line style="stroke:#181818;stroke-width:2.0;" x1="902" x2="902" y1="2588.121" y2="2572.121"/><line style="stroke:#181818;stroke-width:2.0;" x1="894" x2="910" y1="2580.121" y2="2580.121"/></g><!--MD5=[78c7db04616214d64a65e1c3389039a2]
link ElementaryFile to FileHeader--><g id="link_ElementaryFile_FileHeader"><path codeLine="500" d="M880.917,2572.223 C861.837,2615.497 831.224,2677.995 795,2726.498 C775.699,2752.342 752.639,2777.834 729.37,2801.196 " fill="none" id="ElementaryFile-to-FileHeader" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="725.634,2804.927,734.8285,2801.3971,729.1717,2801.3937,729.1751,2795.7368,725.634,2804.927" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="789.2404,2748.313,796.6833,2742.3924,791.7818,2739.1483,789.2404,2748.313" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="801" y="2749.5264">provide</text></g><!--MD5=[86b3bd56e99d104172930610ea72020e]
link ElementaryFile to FileData--><g id="link_ElementaryFile_FileData"><path codeLine="501" d="M921.516,2572.297 C939.815,2616.192 970.158,2679.542 1009,2726.498 C1036.47,2759.706 1070.91,2790.838 1104.74,2817.658 " fill="none" id="ElementaryFile-to-FileData" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="1108.86,2820.907,1104.2741,2812.191,1104.9354,2817.8091,1099.3173,2818.4703,1108.86,2820.907" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="1038.9917,2748.1498,1035.9345,2739.144,1031.2249,2742.6609,1038.9917,2748.1498" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="1045" y="2749.5264">provide</text></g><!--MD5=[0277f54c0239137ab686445791bc46fe]
link FileHeader to FileType--><g id="link_FileHeader_FileType"><path codeLine="503" d="M725.541,2909.998 C753.67,2909.998 783.225,2909.998 809.93,2909.998 " fill="none" id="FileHeader-to-FileType" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="815.232,2909.998,806.232,2905.998,810.232,2909.998,806.232,2913.998,815.232,2909.998" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="753,2897.6436,743.9549,2894.7046,743.9549,2900.5825,753,2897.6436" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="757" y="2903.0264">provide</text></g><!--MD5=[c708e7b9e22264fcbee67dce5dcc0437]
@startuml
title
    Calypsonet - calypsonet-terminal-calypso-java-api - 1.6.+ (2023-01-20)
end title

' == THEME ==

'Couleurs issues de : https://htmlcolorcodes.com/fr/tableau-de-couleur/tableau-de-couleur-design-plat/
!define C_GREY1 F8F9F9
!define C_GREY2 F2F3F4
!define C_GREY3 E5E7E9
!define C_GREY4 D7DBDD
!define C_GREY5 CACFD2
!define C_GREY6 BDC3C7
!define C_LINK 3498DB
!define C_USE 27AE60

' - - Styles that don't work with new version of plantuml - -
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
' - - END - -

skinparam ClassBorderThickness 2
skinparam ArrowThickness 2

' Yellow
skinparam ClassBackgroundColor #FEFECE
skinparam ClassBorderColor #D4AC0D
' Red
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
' Purple
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
' blue
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
' Green
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
' Grey
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

' == CONTENT ==

legend top
    __Colors legend__ :
    * __External public API references__ :
    ** <back:yellow>**calypsonet-terminal-reader-java-api**</back>
end legend

package "org.calypsonet.terminal.calypso" as api {

    +class "**final** CalypsoApiProperties" as ApiProperties {
        +{static} **final** String VERSION
    }
    +enum WriteAccessLevel {
        PERSONALIZATION
        LOAD
        DEBIT
    }
    +enum SelectFileControl {
        FIRST_EF
        NEXT_EF
        CURRENT_DF
    }
    +enum GetDataTag {
        FCP_FOR_CURRENT_FILE
        FCI_FOR_CURRENT_DF
        EF_LIST
        TRACEABILITY_INFORMATION
    }
    package spi {
        +interface SamRevocationServiceSpi {
            +boolean isSamRevoked (byte[] serialNumber)
            +boolean isSamRevoked (byte[] serialNumber, int counterValue)
        }
    }
    package card {
        +interface "<<<back:yellow>CardSelection</back>>>\nCalypsoCardSelection" as CalypsoCardSelection {
            +CalypsoCardSelection filterByCardProtocol (String cardProtocol)

            +CalypsoCardSelection filterByPowerOnData (String powerOnDataRegex)

            +CalypsoCardSelection filterByDfName (byte[] aid)
            +CalypsoCardSelection filterByDfName (String aid)
            +CalypsoCardSelection setFileOccurrence (FileOccurrence fileOccurrence)
            +CalypsoCardSelection setFileControlInformation (FileControlInformation fileControlInformation)
            +<s>CalypsoCardSelection addSuccessfulStatusWord (int statusWord)</s>

            +CalypsoCardSelection acceptInvalidatedCard ()

            +<s>CalypsoCardSelection prepareSelectFile (byte[] lid)</s>
            +CalypsoCardSelection prepareSelectFile (short lid)
            +CalypsoCardSelection prepareSelectFile (SelectFileControl selectControl)

            +CalypsoCardSelection prepareGetData (GetDataTag tag)

            +<s>CalypsoCardSelection prepareReadRecordFile (byte sfi, int recordNumber)</s>
            +CalypsoCardSelection prepareReadRecord (byte sfi, int recordNumber)
        }
        +enum FileOccurrence {
            FIRST
            LAST
            NEXT
            PREVIOUS
        }
        +enum FileControlInformation {
            FCI
            NO_RESPONSE
        }
        +interface "<<<back:yellow>SmartCard</back>>>\nCalypsoCard" as CalypsoCard {
            +ProductType getProductType ()
            +boolean isHce ()

            +boolean isDfInvalidated ()

            +byte[] getDfName ()
            +byte[] getApplicationSerialNumber ()

            +byte[] getStartupInfoRawData ()
            +byte getPlatform ()
            +byte getApplicationType ()
            +byte getApplicationSubtype ()
            +byte getSoftwareIssuer ()
            +byte getSoftwareVersion ()
            +byte getSoftwareRevision ()
            +byte getSessionModification ()

            +byte[] getTraceabilityInformation ()

            +DirectoryHeader getDirectoryHeader ()
            +ElementaryFile getFileBySfi (byte sfi)
            +ElementaryFile getFileByLid (short lid)
            +<s>Map<Byte, ElementaryFile> getAllFiles ()</s>
            +Set<ElementaryFile> getFiles ()

            +boolean isDfRatified ()
            +int getTransactionCounter ()

            +boolean isPkiModeSupported ()
            +boolean isExtendedModeSupported ()
            +boolean isRatificationOnDeselectSupported ()

            +boolean isPinFeatureAvailable ()
            +boolean isPinBlocked ()
            +int getPinAttemptRemaining ()

            +boolean isSvFeatureAvailable ()
            +int getSvBalance ()
            +int getSvLastTNum ()
            +SvLoadLogRecord getSvLoadLogRecord ()
            +SvDebitLogRecord getSvDebitLogLastRecord ()
            +List<SvDebitLogRecord> getSvDebitLogAllRecords ()
        }
        +interface DirectoryHeader {
            +short getLid ()
            +Byte getDfStatus ()

            +byte[] getAccessConditions ()
            +byte[] getKeyIndexes ()

            +byte getKif (WriteAccessLevel writeAccessLevel)
            +byte getKvc (WriteAccessLevel writeAccessLevel)
        }
        +interface ElementaryFile {
            +byte getSfi ()
            +FileHeader getHeader ()
            +FileData getData ()
        }
        +interface FileHeader {
            +short getLid ()
            +byte getDfStatus ()
            +ElementaryFile.Type getEfType ()

            +int getRecordsNumber ()
            +int getRecordSize ()

            +byte[] getAccessConditions ()
            +byte[] getKeyIndexes ()

            +Short getSharedReference ()
        }
        +enum "Type" as FileType {
            LINEAR
            BINARY
            CYCLIC
            COUNTERS
            SIMULATED_COUNTERS
        }
        +interface FileData {
            +byte[] getContent ()
            +byte[] getContent (int numRecord)
            +byte[] getContent (int numRecord, int dataOffset, int dataLength)
            +SortedMap<Integer, byte[]> getAllRecordsContent ()

            +Integer getContentAsCounterValue (int numCounter)
            +SortedMap<Integer, Integer> getAllCountersValue ()
        }
        +enum "ProductType" as CardProductType {
            PRIME_REVISION_1
            PRIME_REVISION_2
            PRIME_REVISION_3
            LIGHT
            BASIC
            UNKNOWN
        }
        +interface SvLoadLogRecord {
            +byte[] getRawData ()

            +byte[] getLoadDate ()
            +byte[] getLoadTime ()

            +int getAmount ()
            +int getBalance ()
            +byte[] getFreeData ()

            +byte getKvc ()
            +byte[] getSamId ()
            +int getSamTNum ()
            +int getSvTNum ()
        }
        +interface SvDebitLogRecord {
            +byte[] getRawData ()

            +byte[] getDebitDate ()
            +byte[] getDebitTime ()

            +int getAmount ()
            +int getBalance ()

            +byte getKvc ()
            +byte[] getSamId ()
            +int getSamTNum ()
            +int getSvTNum ()
        }
    }
    package sam {
        +interface "<<<back:yellow>CardSelection</back>>>\nCalypsoSamSelection" as CalypsoSamSelection {
            +CalypsoSamSelection filterByProductType (CalypsoSam.ProductType productType)
            +CalypsoSamSelection filterBySerialNumber (String serialNumberRegex)

            +CalypsoSamSelection setUnlockData (String unlockData)
        }
        +interface "<<<back:yellow>SmartCard</back>>>\nCalypsoSam" as CalypsoSam {
            +ProductType getProductType ()
            +String getProductInfo ()

            +byte[] getSerialNumber ()
            +byte getPlatform ()
            +byte getApplicationType ()
            +byte getApplicationSubType ()
            +byte getSoftwareIssuer ()
            +byte getSoftwareVersion ()
            +byte getSoftwareRevision ()
        }
        +enum "ProductType" as SamProductType {
            SAM_C1
            HSM_C1
            SAM_S1E1
            SAM_S1Dx
            <s>CSAM_F
            UNKNOWN
        }
    }
    package transaction {
        ' Common to Card and SAM
        +interface CommonTransactionManager<T extends CommonTransactionManager<T, S>,\nS extends CommonSecuritySetting<S>> {
            +<s>S getSecuritySetting ()
            +List<byte[]> getTransactionAuditData ()

            +T prepareComputeSignature (CommonSignatureComputationData<?> data)
            +T prepareVerifySignature (CommonSignatureVerificationData<?> data)

            +<s><color:red>T processCommands ()
            +<color:green>T processCommands (boolean closePhysicalChannel)
        }
        +interface CommonSignatureComputationData<T extends CommonSignatureComputationData<T>> {
            +T setData (byte[] data, byte kif, byte kvc)
            +T setSignatureSize (int size)
            +T setKeyDiversifier (byte[] diversifier)

            +byte[] getSignature ()
        }
        +interface BasicSignatureComputationData extends CommonSignatureComputationData {
        }
        +interface TraceableSignatureComputationData extends CommonSignatureComputationData {
            +TraceableSignatureComputationData withSamTraceabilityMode (int offset, boolean usePartialSamSerialNumber)
            +TraceableSignatureComputationData withoutBusyMode ()

            +byte[] getSignedData ()
        }
        +interface CommonSignatureVerificationData<T extends CommonSignatureVerificationData<T>> {
            +T setData (byte[] data, byte[] signature, byte kif, byte kvc)
            +T setKeyDiversifier (byte[] diversifier)

            +boolean isSignatureValid ()
        }
        +interface BasicSignatureVerificationData extends CommonSignatureVerificationData {
        }
        +interface TraceableSignatureVerificationData extends CommonSignatureVerificationData {
            +TraceableSignatureVerificationData withSamTraceabilityMode (int offset, boolean isPartialSamSerialNumber, boolean checkSamRevocationStatus)
            +TraceableSignatureVerificationData withoutBusyMode ()
        }
        +interface CommonSecuritySetting<S extends CommonSecuritySetting<S>> {
            +S setControlSamResource (<back:yellow>CardReader</back> samReader, CalypsoSam calypsoSam)
            +S setSamRevocationServiceSpi (SamRevocationServiceSpi service)
        }
        ' Card
        +interface CardTransactionManager extends CommonTransactionManager {
            +<s><back:yellow>CardReader</back> getCardReader ()
            +<s>CalypsoCard getCalypsoCard ()
            +<s>CardSecuritySetting getCardSecuritySetting ()

            +<s>CardTransactionManager prepareSelectFile (byte[] lid)
            +CardTransactionManager prepareSelectFile (short lid)
            +CardTransactionManager prepareSelectFile (SelectFileControl selectFileControl)

            +CardTransactionManager prepareGetData (GetDataTag tag)

            +<s>CardTransactionManager prepareReadRecordFile (byte sfi, int recordNumber)
            +<s>CardTransactionManager prepareReadRecordFile (byte sfi, int firstRecordNumber, int numberOfRecords, int recordSize)
            +<s>CardTransactionManager prepareReadCounterFile (byte sfi, int countersNumber)
            +CardTransactionManager prepareReadRecord (byte sfi, int recordNumber)
            +CardTransactionManager prepareReadRecords (byte sfi, int fromRecordNumber, int toRecordNumber, int recordSize)
            +CardTransactionManager prepareReadRecordsPartially (byte sfi, int fromRecordNumber, int toRecordNumber, int offset, int nbBytesToRead)
            +CardTransactionManager prepareReadBinary (byte sfi, int offset, int nbBytesToRead)
            +CardTransactionManager prepareReadCounter (byte sfi, int nbCountersToRead)

            +CardTransactionManager prepareSearchRecords (SearchCommandData data)

            +CardTransactionManager prepareCheckPinStatus ()

            +CardTransactionManager prepareAppendRecord (byte sfi, byte[] recordData)
            +CardTransactionManager prepareUpdateRecord (byte sfi, int recordNumber, byte[] recordData)
            +CardTransactionManager prepareWriteRecord (byte sfi, int recordNumber, byte[] recordData)

            +CardTransactionManager prepareUpdateBinary (byte sfi, int offset, byte[] data)
            +CardTransactionManager prepareWriteBinary (byte sfi, int offset, byte[] data)

            +CardTransactionManager prepareIncreaseCounter (byte sfi, int counterNumber, int incValue)
            +CardTransactionManager prepareIncreaseCounters(byte sfi, Map<Integer, Integer> counterNumberToIncValueMap)
            +CardTransactionManager prepareDecreaseCounter (byte sfi, int counterNumber, int decValue)
            +CardTransactionManager prepareDecreaseCounters(byte sfi, Map<Integer, Integer> counterNumberToDecValueMap)
            +CardTransactionManager prepareSetCounter (byte sfi, int counterNumber, int newValue)

            +CardTransactionManager prepareSvGet (SvOperation svOperation, SvAction svAction)
            +CardTransactionManager prepareSvReload (int amount, byte[] date, byte[] time, byte[] free)
            +CardTransactionManager prepareSvReload (int amount)
            +CardTransactionManager prepareSvDebit (int amount, byte[] date, byte[] time)
            +CardTransactionManager prepareSvDebit (int amount)
            +CardTransactionManager prepareSvReadAllLogs ()

            +CardTransactionManager prepareInvalidate ()
            +CardTransactionManager prepareRehabilitate ()

            +CardTransactionManager prepareEarlyMutualAuthentication ()
            +CardTransactionManager prepareActivateEncryption ()
            +CardTransactionManager prepareDeactivateEncryption ()

            +<s><color:red>CardTransactionManager prepareReleaseCardChannel ()

            +<s>CardTransactionManager processCardCommands ()

            +<s><color:red>CardTransactionManager processVerifyPin (byte[] pin)
            +<color:green>CardTransactionManager prepareVerifyPin (byte[] pin)
            +<s><color:red>CardTransactionManager processChangePin (byte[] newPin)
            +<color:green>CardTransactionManager prepareChangePin (byte[] newPin)

            +<s><color:red>CardTransactionManager processChangeKey (int keyIndex, byte newKif, byte newKvc, byte issuerKif, byte issuerKvc)
            +<color:green>CardTransactionManager prepareChangeKey (int keyIndex, byte newKif, byte newKvc, byte issuerKif, byte issuerKvc)

            +<s><color:red>CardTransactionManager processOpening (WriteAccessLevel writeAccessLevel)
            +<color:green>CardTransactionManager prepareOpenSecureSession (WriteAccessLevel writeAccessLevel)
            +<color:green>CardTransactionManager prepareOpenSecureSession (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)

            +<s><color:red>CardTransactionManager processClosing ()
            +<color:green>CardTransactionManager prepareCloseSecureSession ()

            +<s><color:red>CardTransactionManager processCancel ()
            +<color:green>CardTransactionManager prepareCancelSecureSession ()
        }
        +enum SvOperation {
            RELOAD
            DEBIT
        }
        +enum SvAction {
            DO
            UNDO
        }
        +interface CardSecuritySetting extends CommonSecuritySetting {
            +<s>CardSecuritySetting setSamResource (<back:yellow>CardReader</back> samReader, CalypsoSam calypsoSam)

            +CardSecuritySetting enableMultipleSession ()
            +CardSecuritySetting enableRatificationMechanism ()
            +CardSecuritySetting enablePinPlainTransmission ()
            +CardSecuritySetting enableSvLoadAndDebitLog ()
            +CardSecuritySetting authorizeSvNegativeBalance ()

            +CardSecuritySetting assignKif (WriteAccessLevel writeAccessLevel, byte kvc, byte kif)
            +CardSecuritySetting assignDefaultKif (WriteAccessLevel writeAccessLevel, byte kif)
            +CardSecuritySetting assignDefaultKvc (WriteAccessLevel writeAccessLevel, byte kvc)

            +CardSecuritySetting addAuthorizedSessionKey (byte kif, byte kvc)
            +CardSecuritySetting addAuthorizedSvKey (byte kif, byte kvc)

            +CardSecuritySetting setPinVerificationCipheringKey (byte kif, byte kvc)
            +CardSecuritySetting setPinModificationCipheringKey (byte kif, byte kvc)
        }
        +interface SearchCommandData {
            +SearchCommandData setSfi (byte sfi)
            +SearchCommandData startAtRecord (int recordNumber)
            +SearchCommandData setOffset (int offset)
            +SearchCommandData enableRepeatedOffset ()
            +SearchCommandData setSearchData (byte[] data)
            +SearchCommandData setMask (byte[] mask)
            +SearchCommandData fetchFirstMatchingResult ()

            +List<Integer> getMatchingRecordNumbers ()
        }
        ' SAM
        +interface "<s>SamTransactionManager" as SamTransactionManager extends CommonTransactionManager {
            +<s><back:yellow>CardReader</back> getSamReader ()
            +<s>CalypsoSam getCalypsoSam ()
        }
        +interface "<s>SamSecuritySetting" as SamSecuritySetting extends CommonSecuritySetting {
        }
        ' Exceptions
        +class "<<RuntimeException>>" as RuntimeException {
            +**SessionBufferOverflowException**: Session buffer would overflow for atomic session.
            +**UnauthorizedKeyException**
            +**CardRevokedException**
            +**SamRevokedException**
            +**InconsistentDataException**: Number of R-APDUs != number of C-APDUs **or** data read in session != data read outside session.
            +**InvalidSignatureException**: R-APDU of PSO Verify Signature = 6988.
            +**InvalidCardSignatureException**: R-APDU of DigestAuthenticate = 6988 **or** R-APDU of SvCheck = 6988.
            +**CardSignatureNotVerifiableException**: R-APDU of CloseSecureSession = 9000 but SAM is no more available.
            +**SelectFileException**: R-APDU of SelectFile = 6A82.
            +**UnexpectedCommandStatusException**
            +**ReaderIOException**: Card reader and/or SAM reader communication is broken.
            +**CardIOException**
            +**SamIOException**
        }
    }
}

' Associations

CommonTransactionManager .up.> CommonSignatureComputationData #C_USE : use >
CommonTransactionManager .up.> CommonSignatureVerificationData #C_USE : use >
CommonTransactionManager ..> CommonSecuritySetting #C_LINK : provide >

CommonSecuritySetting .left.> SamRevocationServiceSpi #C_USE : use >
CommonSecuritySetting .left.> CalypsoSam #C_USE : use >

CalypsoCardSelection +- - FileOccurrence
CalypsoCardSelection ..> FileOccurrence #C_LINK : provide >
CalypsoCardSelection +- - FileControlInformation
CalypsoCardSelection ..> FileControlInformation #C_LINK : provide >

CardTransactionManager ..> WriteAccessLevel #C_USE : use >
CardTransactionManager ..> SvOperation #C_USE : use >
CardTransactionManager ..> SvAction #C_USE : use >
CardTransactionManager .up.> SelectFileControl #C_USE : use >
CardTransactionManager .up.> GetDataTag #C_USE : use >
CardTransactionManager .right.> SearchCommandData #C_USE : use >
CardTransactionManager .right.> CalypsoCard #C_LINK : use and provide up to date content >
CardTransactionManager ..> CardSecuritySetting #C_LINK : provide >

CardSecuritySetting ..> WriteAccessLevel #C_USE : use >

CalypsoSamSelection ..> SamProductType #C_USE : use >

SamTransactionManager ..> CalypsoSam #C_LINK : provide >
SamTransactionManager ..> SamSecuritySetting #C_LINK : provide >

CalypsoSam +- - SamProductType
CalypsoSam ..> SamProductType #C_LINK : provide >

CalypsoCardSelection .up.> SelectFileControl #C_USE : use >
CalypsoCardSelection .up.> GetDataTag #C_USE : use >

CalypsoCard ..> DirectoryHeader #C_LINK : provide >
CalypsoCard ..> ElementaryFile #C_LINK : provide >
CalypsoCard +- - CardProductType
CalypsoCard ..> CardProductType #C_LINK : provide >
CalypsoCard ..> SvLoadLogRecord #C_LINK : provide >
CalypsoCard ..> SvDebitLogRecord #C_LINK : provide >

DirectoryHeader ..> WriteAccessLevel #C_USE : use >

ElementaryFile +- - FileType
ElementaryFile ..> FileHeader #C_LINK : provide >
ElementaryFile ..> FileData #C_LINK : provide >

FileHeader .right.> FileType #C_LINK : provide >

' == LAYOUT ==

'CommonSignatureComputationData -[hidden]- CommonSignatureVerificationData
'CardSecuritySetting -[hidden]- CalypsoSam
'SamSecuritySetting -[hidden]- CalypsoSam

' == STYLE ==

package api #C_GREY1 {}
package spi #C_GREY2 {}
package card #C_GREY2 {}
package sam #C_GREY2 {}
package transaction #C_GREY2 {}


@enduml

@startuml
title
    Calypsonet - calypsonet-terminal-calypso-java-api - 1.6.+ (2023-01-20)
end title



skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF

skinparam ClassBorderThickness 2
skinparam ArrowThickness 2

skinparam ClassBackgroundColor #FEFECE
skinparam ClassBorderColor #D4AC0D
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype


legend top
    __Colors legend__ :
    * __External public API references__ :
    ** <back:yellow>**calypsonet-terminal-reader-java-api**</back>
end legend

package "org.calypsonet.terminal.calypso" as api {

    +class "**final** CalypsoApiProperties" as ApiProperties {
        +{static} **final** String VERSION
    }
    +enum WriteAccessLevel {
        PERSONALIZATION
        LOAD
        DEBIT
    }
    +enum SelectFileControl {
        FIRST_EF
        NEXT_EF
        CURRENT_DF
    }
    +enum GetDataTag {
        FCP_FOR_CURRENT_FILE
        FCI_FOR_CURRENT_DF
        EF_LIST
        TRACEABILITY_INFORMATION
    }
    package spi {
        +interface SamRevocationServiceSpi {
            +boolean isSamRevoked (byte[] serialNumber)
            +boolean isSamRevoked (byte[] serialNumber, int counterValue)
        }
    }
    package card {
        +interface "<<<back:yellow>CardSelection</back>>>\nCalypsoCardSelection" as CalypsoCardSelection {
            +CalypsoCardSelection filterByCardProtocol (String cardProtocol)

            +CalypsoCardSelection filterByPowerOnData (String powerOnDataRegex)

            +CalypsoCardSelection filterByDfName (byte[] aid)
            +CalypsoCardSelection filterByDfName (String aid)
            +CalypsoCardSelection setFileOccurrence (FileOccurrence fileOccurrence)
            +CalypsoCardSelection setFileControlInformation (FileControlInformation fileControlInformation)
            +<s>CalypsoCardSelection addSuccessfulStatusWord (int statusWord)</s>

            +CalypsoCardSelection acceptInvalidatedCard ()

            +<s>CalypsoCardSelection prepareSelectFile (byte[] lid)</s>
            +CalypsoCardSelection prepareSelectFile (short lid)
            +CalypsoCardSelection prepareSelectFile (SelectFileControl selectControl)

            +CalypsoCardSelection prepareGetData (GetDataTag tag)

            +<s>CalypsoCardSelection prepareReadRecordFile (byte sfi, int recordNumber)</s>
            +CalypsoCardSelection prepareReadRecord (byte sfi, int recordNumber)
        }
        +enum FileOccurrence {
            FIRST
            LAST
            NEXT
            PREVIOUS
        }
        +enum FileControlInformation {
            FCI
            NO_RESPONSE
        }
        +interface "<<<back:yellow>SmartCard</back>>>\nCalypsoCard" as CalypsoCard {
            +ProductType getProductType ()
            +boolean isHce ()

            +boolean isDfInvalidated ()

            +byte[] getDfName ()
            +byte[] getApplicationSerialNumber ()

            +byte[] getStartupInfoRawData ()
            +byte getPlatform ()
            +byte getApplicationType ()
            +byte getApplicationSubtype ()
            +byte getSoftwareIssuer ()
            +byte getSoftwareVersion ()
            +byte getSoftwareRevision ()
            +byte getSessionModification ()

            +byte[] getTraceabilityInformation ()

            +DirectoryHeader getDirectoryHeader ()
            +ElementaryFile getFileBySfi (byte sfi)
            +ElementaryFile getFileByLid (short lid)
            +<s>Map<Byte, ElementaryFile> getAllFiles ()</s>
            +Set<ElementaryFile> getFiles ()

            +boolean isDfRatified ()
            +int getTransactionCounter ()

            +boolean isPkiModeSupported ()
            +boolean isExtendedModeSupported ()
            +boolean isRatificationOnDeselectSupported ()

            +boolean isPinFeatureAvailable ()
            +boolean isPinBlocked ()
            +int getPinAttemptRemaining ()

            +boolean isSvFeatureAvailable ()
            +int getSvBalance ()
            +int getSvLastTNum ()
            +SvLoadLogRecord getSvLoadLogRecord ()
            +SvDebitLogRecord getSvDebitLogLastRecord ()
            +List<SvDebitLogRecord> getSvDebitLogAllRecords ()
        }
        +interface DirectoryHeader {
            +short getLid ()
            +Byte getDfStatus ()

            +byte[] getAccessConditions ()
            +byte[] getKeyIndexes ()

            +byte getKif (WriteAccessLevel writeAccessLevel)
            +byte getKvc (WriteAccessLevel writeAccessLevel)
        }
        +interface ElementaryFile {
            +byte getSfi ()
            +FileHeader getHeader ()
            +FileData getData ()
        }
        +interface FileHeader {
            +short getLid ()
            +byte getDfStatus ()
            +ElementaryFile.Type getEfType ()

            +int getRecordsNumber ()
            +int getRecordSize ()

            +byte[] getAccessConditions ()
            +byte[] getKeyIndexes ()

            +Short getSharedReference ()
        }
        +enum "Type" as FileType {
            LINEAR
            BINARY
            CYCLIC
            COUNTERS
            SIMULATED_COUNTERS
        }
        +interface FileData {
            +byte[] getContent ()
            +byte[] getContent (int numRecord)
            +byte[] getContent (int numRecord, int dataOffset, int dataLength)
            +SortedMap<Integer, byte[]> getAllRecordsContent ()

            +Integer getContentAsCounterValue (int numCounter)
            +SortedMap<Integer, Integer> getAllCountersValue ()
        }
        +enum "ProductType" as CardProductType {
            PRIME_REVISION_1
            PRIME_REVISION_2
            PRIME_REVISION_3
            LIGHT
            BASIC
            UNKNOWN
        }
        +interface SvLoadLogRecord {
            +byte[] getRawData ()

            +byte[] getLoadDate ()
            +byte[] getLoadTime ()

            +int getAmount ()
            +int getBalance ()
            +byte[] getFreeData ()

            +byte getKvc ()
            +byte[] getSamId ()
            +int getSamTNum ()
            +int getSvTNum ()
        }
        +interface SvDebitLogRecord {
            +byte[] getRawData ()

            +byte[] getDebitDate ()
            +byte[] getDebitTime ()

            +int getAmount ()
            +int getBalance ()

            +byte getKvc ()
            +byte[] getSamId ()
            +int getSamTNum ()
            +int getSvTNum ()
        }
    }
    package sam {
        +interface "<<<back:yellow>CardSelection</back>>>\nCalypsoSamSelection" as CalypsoSamSelection {
            +CalypsoSamSelection filterByProductType (CalypsoSam.ProductType productType)
            +CalypsoSamSelection filterBySerialNumber (String serialNumberRegex)

            +CalypsoSamSelection setUnlockData (String unlockData)
        }
        +interface "<<<back:yellow>SmartCard</back>>>\nCalypsoSam" as CalypsoSam {
            +ProductType getProductType ()
            +String getProductInfo ()

            +byte[] getSerialNumber ()
            +byte getPlatform ()
            +byte getApplicationType ()
            +byte getApplicationSubType ()
            +byte getSoftwareIssuer ()
            +byte getSoftwareVersion ()
            +byte getSoftwareRevision ()
        }
        +enum "ProductType" as SamProductType {
            SAM_C1
            HSM_C1
            SAM_S1E1
            SAM_S1Dx
            <s>CSAM_F
            UNKNOWN
        }
    }
    package transaction {
        +interface CommonTransactionManager<T extends CommonTransactionManager<T, S>,\nS extends CommonSecuritySetting<S>> {
            +<s>S getSecuritySetting ()
            +List<byte[]> getTransactionAuditData ()

            +T prepareComputeSignature (CommonSignatureComputationData<?> data)
            +T prepareVerifySignature (CommonSignatureVerificationData<?> data)

            +<s><color:red>T processCommands ()
            +<color:green>T processCommands (boolean closePhysicalChannel)
        }
        +interface CommonSignatureComputationData<T extends CommonSignatureComputationData<T>> {
            +T setData (byte[] data, byte kif, byte kvc)
            +T setSignatureSize (int size)
            +T setKeyDiversifier (byte[] diversifier)

            +byte[] getSignature ()
        }
        +interface BasicSignatureComputationData extends CommonSignatureComputationData {
        }
        +interface TraceableSignatureComputationData extends CommonSignatureComputationData {
            +TraceableSignatureComputationData withSamTraceabilityMode (int offset, boolean usePartialSamSerialNumber)
            +TraceableSignatureComputationData withoutBusyMode ()

            +byte[] getSignedData ()
        }
        +interface CommonSignatureVerificationData<T extends CommonSignatureVerificationData<T>> {
            +T setData (byte[] data, byte[] signature, byte kif, byte kvc)
            +T setKeyDiversifier (byte[] diversifier)

            +boolean isSignatureValid ()
        }
        +interface BasicSignatureVerificationData extends CommonSignatureVerificationData {
        }
        +interface TraceableSignatureVerificationData extends CommonSignatureVerificationData {
            +TraceableSignatureVerificationData withSamTraceabilityMode (int offset, boolean isPartialSamSerialNumber, boolean checkSamRevocationStatus)
            +TraceableSignatureVerificationData withoutBusyMode ()
        }
        +interface CommonSecuritySetting<S extends CommonSecuritySetting<S>> {
            +S setControlSamResource (<back:yellow>CardReader</back> samReader, CalypsoSam calypsoSam)
            +S setSamRevocationServiceSpi (SamRevocationServiceSpi service)
        }
        +interface CardTransactionManager extends CommonTransactionManager {
            +<s><back:yellow>CardReader</back> getCardReader ()
            +<s>CalypsoCard getCalypsoCard ()
            +<s>CardSecuritySetting getCardSecuritySetting ()

            +<s>CardTransactionManager prepareSelectFile (byte[] lid)
            +CardTransactionManager prepareSelectFile (short lid)
            +CardTransactionManager prepareSelectFile (SelectFileControl selectFileControl)

            +CardTransactionManager prepareGetData (GetDataTag tag)

            +<s>CardTransactionManager prepareReadRecordFile (byte sfi, int recordNumber)
            +<s>CardTransactionManager prepareReadRecordFile (byte sfi, int firstRecordNumber, int numberOfRecords, int recordSize)
            +<s>CardTransactionManager prepareReadCounterFile (byte sfi, int countersNumber)
            +CardTransactionManager prepareReadRecord (byte sfi, int recordNumber)
            +CardTransactionManager prepareReadRecords (byte sfi, int fromRecordNumber, int toRecordNumber, int recordSize)
            +CardTransactionManager prepareReadRecordsPartially (byte sfi, int fromRecordNumber, int toRecordNumber, int offset, int nbBytesToRead)
            +CardTransactionManager prepareReadBinary (byte sfi, int offset, int nbBytesToRead)
            +CardTransactionManager prepareReadCounter (byte sfi, int nbCountersToRead)

            +CardTransactionManager prepareSearchRecords (SearchCommandData data)

            +CardTransactionManager prepareCheckPinStatus ()

            +CardTransactionManager prepareAppendRecord (byte sfi, byte[] recordData)
            +CardTransactionManager prepareUpdateRecord (byte sfi, int recordNumber, byte[] recordData)
            +CardTransactionManager prepareWriteRecord (byte sfi, int recordNumber, byte[] recordData)

            +CardTransactionManager prepareUpdateBinary (byte sfi, int offset, byte[] data)
            +CardTransactionManager prepareWriteBinary (byte sfi, int offset, byte[] data)

            +CardTransactionManager prepareIncreaseCounter (byte sfi, int counterNumber, int incValue)
            +CardTransactionManager prepareIncreaseCounters(byte sfi, Map<Integer, Integer> counterNumberToIncValueMap)
            +CardTransactionManager prepareDecreaseCounter (byte sfi, int counterNumber, int decValue)
            +CardTransactionManager prepareDecreaseCounters(byte sfi, Map<Integer, Integer> counterNumberToDecValueMap)
            +CardTransactionManager prepareSetCounter (byte sfi, int counterNumber, int newValue)

            +CardTransactionManager prepareSvGet (SvOperation svOperation, SvAction svAction)
            +CardTransactionManager prepareSvReload (int amount, byte[] date, byte[] time, byte[] free)
            +CardTransactionManager prepareSvReload (int amount)
            +CardTransactionManager prepareSvDebit (int amount, byte[] date, byte[] time)
            +CardTransactionManager prepareSvDebit (int amount)
            +CardTransactionManager prepareSvReadAllLogs ()

            +CardTransactionManager prepareInvalidate ()
            +CardTransactionManager prepareRehabilitate ()

            +CardTransactionManager prepareEarlyMutualAuthentication ()
            +CardTransactionManager prepareActivateEncryption ()
            +CardTransactionManager prepareDeactivateEncryption ()

            +<s><color:red>CardTransactionManager prepareReleaseCardChannel ()

            +<s>CardTransactionManager processCardCommands ()

            +<s><color:red>CardTransactionManager processVerifyPin (byte[] pin)
            +<color:green>CardTransactionManager prepareVerifyPin (byte[] pin)
            +<s><color:red>CardTransactionManager processChangePin (byte[] newPin)
            +<color:green>CardTransactionManager prepareChangePin (byte[] newPin)

            +<s><color:red>CardTransactionManager processChangeKey (int keyIndex, byte newKif, byte newKvc, byte issuerKif, byte issuerKvc)
            +<color:green>CardTransactionManager prepareChangeKey (int keyIndex, byte newKif, byte newKvc, byte issuerKif, byte issuerKvc)

            +<s><color:red>CardTransactionManager processOpening (WriteAccessLevel writeAccessLevel)
            +<color:green>CardTransactionManager prepareOpenSecureSession (WriteAccessLevel writeAccessLevel)
            +<color:green>CardTransactionManager prepareOpenSecureSession (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)

            +<s><color:red>CardTransactionManager processClosing ()
            +<color:green>CardTransactionManager prepareCloseSecureSession ()

            +<s><color:red>CardTransactionManager processCancel ()
            +<color:green>CardTransactionManager prepareCancelSecureSession ()
        }
        +enum SvOperation {
            RELOAD
            DEBIT
        }
        +enum SvAction {
            DO
            UNDO
        }
        +interface CardSecuritySetting extends CommonSecuritySetting {
            +<s>CardSecuritySetting setSamResource (<back:yellow>CardReader</back> samReader, CalypsoSam calypsoSam)

            +CardSecuritySetting enableMultipleSession ()
            +CardSecuritySetting enableRatificationMechanism ()
            +CardSecuritySetting enablePinPlainTransmission ()
            +CardSecuritySetting enableSvLoadAndDebitLog ()
            +CardSecuritySetting authorizeSvNegativeBalance ()

            +CardSecuritySetting assignKif (WriteAccessLevel writeAccessLevel, byte kvc, byte kif)
            +CardSecuritySetting assignDefaultKif (WriteAccessLevel writeAccessLevel, byte kif)
            +CardSecuritySetting assignDefaultKvc (WriteAccessLevel writeAccessLevel, byte kvc)

            +CardSecuritySetting addAuthorizedSessionKey (byte kif, byte kvc)
            +CardSecuritySetting addAuthorizedSvKey (byte kif, byte kvc)

            +CardSecuritySetting setPinVerificationCipheringKey (byte kif, byte kvc)
            +CardSecuritySetting setPinModificationCipheringKey (byte kif, byte kvc)
        }
        +interface SearchCommandData {
            +SearchCommandData setSfi (byte sfi)
            +SearchCommandData startAtRecord (int recordNumber)
            +SearchCommandData setOffset (int offset)
            +SearchCommandData enableRepeatedOffset ()
            +SearchCommandData setSearchData (byte[] data)
            +SearchCommandData setMask (byte[] mask)
            +SearchCommandData fetchFirstMatchingResult ()

            +List<Integer> getMatchingRecordNumbers ()
        }
        +interface "<s>SamTransactionManager" as SamTransactionManager extends CommonTransactionManager {
            +<s><back:yellow>CardReader</back> getSamReader ()
            +<s>CalypsoSam getCalypsoSam ()
        }
        +interface "<s>SamSecuritySetting" as SamSecuritySetting extends CommonSecuritySetting {
        }
        +class "<<RuntimeException>>" as RuntimeException {
            +**SessionBufferOverflowException**: Session buffer would overflow for atomic session.
            +**UnauthorizedKeyException**
            +**CardRevokedException**
            +**SamRevokedException**
            +**InconsistentDataException**: Number of R-APDUs != number of C-APDUs **or** data read in session != data read outside session.
            +**InvalidSignatureException**: R-APDU of PSO Verify Signature = 6988.
            +**InvalidCardSignatureException**: R-APDU of DigestAuthenticate = 6988 **or** R-APDU of SvCheck = 6988.
            +**CardSignatureNotVerifiableException**: R-APDU of CloseSecureSession = 9000 but SAM is no more available.
            +**SelectFileException**: R-APDU of SelectFile = 6A82.
            +**UnexpectedCommandStatusException**
            +**ReaderIOException**: Card reader and/or SAM reader communication is broken.
            +**CardIOException**
            +**SamIOException**
        }
    }
}


CommonTransactionManager .up.> CommonSignatureComputationData #27AE60 : use >
CommonTransactionManager .up.> CommonSignatureVerificationData #27AE60 : use >
CommonTransactionManager ..> CommonSecuritySetting #3498DB : provide >

CommonSecuritySetting .left.> SamRevocationServiceSpi #27AE60 : use >
CommonSecuritySetting .left.> CalypsoSam #27AE60 : use >

CalypsoCardSelection +- - FileOccurrence
CalypsoCardSelection ..> FileOccurrence #3498DB : provide >
CalypsoCardSelection +- - FileControlInformation
CalypsoCardSelection ..> FileControlInformation #3498DB : provide >

CardTransactionManager ..> WriteAccessLevel #27AE60 : use >
CardTransactionManager ..> SvOperation #27AE60 : use >
CardTransactionManager ..> SvAction #27AE60 : use >
CardTransactionManager .up.> SelectFileControl #27AE60 : use >
CardTransactionManager .up.> GetDataTag #27AE60 : use >
CardTransactionManager .right.> SearchCommandData #27AE60 : use >
CardTransactionManager .right.> CalypsoCard #3498DB : use and provide up to date content >
CardTransactionManager ..> CardSecuritySetting #3498DB : provide >

CardSecuritySetting ..> WriteAccessLevel #27AE60 : use >

CalypsoSamSelection ..> SamProductType #27AE60 : use >

SamTransactionManager ..> CalypsoSam #3498DB : provide >
SamTransactionManager ..> SamSecuritySetting #3498DB : provide >

CalypsoSam +- - SamProductType
CalypsoSam ..> SamProductType #3498DB : provide >

CalypsoCardSelection .up.> SelectFileControl #27AE60 : use >
CalypsoCardSelection .up.> GetDataTag #27AE60 : use >

CalypsoCard ..> DirectoryHeader #3498DB : provide >
CalypsoCard ..> ElementaryFile #3498DB : provide >
CalypsoCard +- - CardProductType
CalypsoCard ..> CardProductType #3498DB : provide >
CalypsoCard ..> SvLoadLogRecord #3498DB : provide >
CalypsoCard ..> SvDebitLogRecord #3498DB : provide >

DirectoryHeader ..> WriteAccessLevel #27AE60 : use >

ElementaryFile +- - FileType
ElementaryFile ..> FileHeader #3498DB : provide >
ElementaryFile ..> FileData #3498DB : provide >

FileHeader .right.> FileType #3498DB : provide >




package api #F8F9F9 {}
package spi #F2F3F4 {}
package card #F2F3F4 {}
package sam #F2F3F4 {}
package transaction #F2F3F4 {}


@enduml

PlantUML version 1.2022.13(Sat Nov 19 14:22:17 CET 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>