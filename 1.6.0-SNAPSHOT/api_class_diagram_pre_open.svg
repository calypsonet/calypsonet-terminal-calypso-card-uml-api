<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="4179px" preserveAspectRatio="none" style="width:5346px;height:4179px;background:#FFFFFF;" version="1.1" viewBox="0 0 5346 4179" width="5346px" zoomAndPan="magnify"><defs><filter height="1" id="bc1sglkqjo3800" width="1" x="0" y="0"><feFlood flood-color="#FFFF00" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="510" x="2411" y="25.1074">Calypsonet - calypsonet-terminal-calypso-java-api - 1.6.+ (2023-01-20) WIP</text><rect fill="#DDDDDD" height="65.8633" id="_legend" rx="7.5" ry="7.5" style="stroke:#000000;stroke-width:1.0;" width="276" x="2528" y="51.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="88" x="2533" y="71.7285">Colors legend</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="2625" y="71.7285">:</text><ellipse cx="2538.5" cy="86.3633" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="189" x="2545" y="90.3496">External public API references</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="2738" y="90.3496">:</text><rect fill="#000000" height="3.5" style="stroke:#000000;stroke-width:0.0;" width="3.5" x="2542" y="102.4844"/><text fill="#000000" filter="url(#bc1sglkqjo3800)" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="250" x="2549" y="108.9707">calypsonet-terminal-reader-java-api</text><!--MD5=[7442f3b126ee602ae02566c1a49e158a]
cluster api--><g id="cluster_api"><path d="M8.5,136.498 L231.5,136.498 A3.75,3.75 0 0 1 234,138.998 L241,161.1191 L5336.5,161.1191 A2.5,2.5 0 0 1 5339,163.6191 L5339,4169.998 A2.5,2.5 0 0 1 5336.5,4172.498 L8.5,4172.498 A2.5,2.5 0 0 1 6,4169.998 L6,138.998 A2.5,2.5 0 0 1 8.5,136.498 " fill="#F8F9F9" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="6" x2="241" y1="161.1191" y2="161.1191"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="222" x="10" y="153.6055">org.calypsonet.terminal.calypso</text></g><!--MD5=[f7e0e2453c87923036c1ac2adfb9cbf0]
cluster spi--><g id="cluster_spi"><path d="M4470.5,2011.498 L4492.5,2011.498 A3.75,3.75 0 0 1 4495,2013.998 L4502,2036.1191 L4919.5,2036.1191 A2.5,2.5 0 0 1 4922,2038.6191 L4922,2167.998 A2.5,2.5 0 0 1 4919.5,2170.498 L4470.5,2170.498 A2.5,2.5 0 0 1 4468,2167.998 L4468,2013.998 A2.5,2.5 0 0 1 4470.5,2011.498 " fill="#F2F3F4" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="4468" x2="4502" y1="2036.1191" y2="2036.1191"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="21" x="4472" y="2028.6055">spi</text></g><!--MD5=[fc5f7357635190d92cef7ec8135ac887]
cluster card--><g id="cluster_card"><path d="M32.5,1631.498 L64.5,1631.498 A3.75,3.75 0 0 1 67,1633.998 L74,1656.1191 L1575.5,1656.1191 A2.5,2.5 0 0 1 1578,1658.6191 L1578,4145.998 A2.5,2.5 0 0 1 1575.5,4148.498 L32.5,4148.498 A2.5,2.5 0 0 1 30,4145.998 L30,1633.998 A2.5,2.5 0 0 1 32.5,1631.498 " fill="#F2F3F4" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="30" x2="74" y1="1656.1191" y2="1656.1191"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="31" x="34" y="1648.6055">card</text></g><!--MD5=[98d4fa74a8fc0b7c744d347d810a7562]
cluster sam--><g id="cluster_sam"><path d="M4470.5,3433.498 L4499.5,3433.498 A3.75,3.75 0 0 1 4502,3435.998 L4509,3458.1191 L5312.5,3458.1191 A2.5,2.5 0 0 1 5315,3460.6191 L5315,4099.498 A2.5,2.5 0 0 1 5312.5,4101.998 L4470.5,4101.998 A2.5,2.5 0 0 1 4468,4099.498 L4468,3435.998 A2.5,2.5 0 0 1 4470.5,3433.498 " fill="#F2F3F4" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="4468" x2="4509" y1="3458.1191" y2="3458.1191"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="28" x="4472" y="3450.6055">sam</text></g><!--MD5=[f9c58d90839a0c7c212d8c6553ac9eb7]
cluster transaction--><g id="cluster_transaction"><path d="M1604.5,181.498 L1684.5,181.498 A3.75,3.75 0 0 1 1687,183.998 L1694,206.1191 L4441.5,206.1191 A2.5,2.5 0 0 1 4444,208.6191 L4444,3811.998 A2.5,2.5 0 0 1 4441.5,3814.498 L1604.5,3814.498 A2.5,2.5 0 0 1 1602,3811.998 L1602,183.998 A2.5,2.5 0 0 1 1604.5,181.498 " fill="#F2F3F4" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="1602" x2="1694" y1="206.1191" y2="206.1191"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="79" x="1606" y="198.6055">transaction</text></g><!--MD5=[120218adfd8782b0057db0a1b8294250]
class ApiProperties--><g id="elem_ApiProperties"><rect codeLine="61" fill="#FEFECE" height="66.6211" id="ApiProperties" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="213" x="696.5" y="350.998"/><ellipse cx="711.5" cy="366.998" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M714.2656,362.873 Q714.4219,362.6543 714.6094,362.5449 Q714.7969,362.4355 715.0156,362.4355 Q715.3906,362.4355 715.625,362.7012 Q715.8594,362.9512 715.8594,363.5605 L715.8594,365.0137 Q715.8594,365.623 715.625,365.8887 Q715.3906,366.1543 715.0156,366.1543 Q714.6719,366.1543 714.4688,365.9512 Q714.2656,365.7637 714.1563,365.248 Q714.1094,364.8887 713.9219,364.7012 Q713.5938,364.3262 712.9844,364.1074 Q712.375,363.8887 711.75,363.8887 Q710.9844,363.8887 710.3438,364.2168 Q709.7188,364.5449 709.2188,365.2949 Q708.7344,366.0449 708.7344,367.0762 L708.7344,368.1699 Q708.7344,369.4043 709.625,370.2324 Q710.5156,371.0449 712.1094,371.0449 Q713.0469,371.0449 713.7031,370.7949 Q714.0938,370.6387 714.5156,370.2012 Q714.7813,369.9355 714.9219,369.8574 Q715.0781,369.7793 715.2813,369.7793 Q715.6094,369.7793 715.8594,370.0449 Q716.125,370.2949 716.125,370.6387 Q716.125,370.9824 715.7813,371.3887 Q715.2813,371.9668 714.4844,372.2949 Q713.4063,372.748 712.1094,372.748 Q710.5938,372.748 709.3906,372.123 Q708.4063,371.623 707.7188,370.5605 Q707.0313,369.4824 707.0313,368.2012 L707.0313,367.0449 Q707.0313,365.7168 707.6406,364.5762 Q708.2656,363.4199 709.3594,362.8105 Q710.4531,362.1855 711.6875,362.1855 Q712.4219,362.1855 713.0625,362.3574 Q713.7188,362.5137 714.2656,362.873 Z " fill="#000000"/><ellipse cx="730.5" cy="366.498" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="30" x="736.5" y="372.7949">final</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="770.5" y="372.7949">CalypsoApiProperties</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="697.5" x2="908.5" y1="382.998" y2="382.998"/><ellipse cx="707.5" cy="397.8086" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="30" x="716.5" y="402.1055">final</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="101" x="750.5" y="402.1055">String VERSION</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="697.5" x2="908.5" y1="409.6191" y2="409.6191"/></g><!--MD5=[d40df061e984b253aad79dc56dfef347]
class WriteAccessLevel--><g id="elem_WriteAccessLevel"><rect codeLine="64" fill="#FEFECE" height="103.8633" id="WriteAccessLevel" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="155" x="2627.5" y="3953.998"/><ellipse cx="2642.5" cy="3969.998" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M2641.3594,3970.7949 L2641.3594,3973.2949 L2645.6875,3973.2949 L2645.6875,3972.373 Q2645.6875,3971.7637 2645.9219,3971.498 Q2646.1719,3971.2324 2646.5469,3971.2324 Q2646.9219,3971.2324 2647.1563,3971.498 Q2647.3906,3971.7637 2647.3906,3972.373 L2647.3906,3974.998 L2639.3906,3974.998 Q2638.7656,3974.998 2638.5,3974.7637 Q2638.25,3974.5293 2638.25,3974.1387 Q2638.25,3973.7637 2638.5156,3973.5293 Q2638.7813,3973.2949 2639.3906,3973.2949 L2639.6563,3973.2949 L2639.6563,3966.6387 L2639.3906,3966.6387 Q2638.7656,3966.6387 2638.5,3966.4043 Q2638.25,3966.1699 2638.25,3965.7793 Q2638.25,3965.4043 2638.5,3965.1699 Q2638.7656,3964.9355 2639.3906,3964.9355 L2647.0156,3964.9355 L2647.0156,3967.5293 Q2647.0156,3968.1387 2646.7813,3968.4043 Q2646.5625,3968.6543 2646.1719,3968.6543 Q2645.7969,3968.6543 2645.5625,3968.4043 Q2645.3281,3968.1387 2645.3281,3967.5293 L2645.3281,3966.6387 L2641.3594,3966.6387 L2641.3594,3969.0918 L2642.8438,3969.0918 Q2642.8438,3968.4355 2642.9688,3968.248 Q2643.2344,3967.8418 2643.7031,3967.8418 Q2644.0781,3967.8418 2644.3125,3968.1074 Q2644.5469,3968.3574 2644.5469,3968.9668 L2644.5469,3970.9355 Q2644.5469,3971.4824 2644.4219,3971.6699 Q2644.1563,3972.0605 2643.7031,3972.0605 Q2643.2344,3972.0605 2642.9688,3971.6543 Q2642.8438,3971.4668 2642.8438,3970.7949 L2641.3594,3970.7949 Z " fill="#000000"/><ellipse cx="2661.5" cy="3969.498" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="2667.5" y="3975.7949">WriteAccessLevel</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="2628.5" x2="2781.5" y1="3985.998" y2="3985.998"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="2633.5" y="4005.1055">PERSONALIZATION</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="2633.5" y="4023.7266">LOAD</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="2633.5" y="4042.3477">DEBIT</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="2628.5" x2="2781.5" y1="4049.8613" y2="4049.8613"/></g><!--MD5=[858307e347215d8034d295bce1f15f07]
class SelectFileControl--><g id="elem_SelectFileControl"><rect codeLine="69" fill="#FEFECE" height="103.8633" id="SelectFileControl" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="151" x="1223.5" y="647.498"/><ellipse cx="1238.5" cy="663.498" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1237.3594,664.2949 L1237.3594,666.7949 L1241.6875,666.7949 L1241.6875,665.873 Q1241.6875,665.2637 1241.9219,664.998 Q1242.1719,664.7324 1242.5469,664.7324 Q1242.9219,664.7324 1243.1563,664.998 Q1243.3906,665.2637 1243.3906,665.873 L1243.3906,668.498 L1235.3906,668.498 Q1234.7656,668.498 1234.5,668.2637 Q1234.25,668.0293 1234.25,667.6387 Q1234.25,667.2637 1234.5156,667.0293 Q1234.7813,666.7949 1235.3906,666.7949 L1235.6563,666.7949 L1235.6563,660.1387 L1235.3906,660.1387 Q1234.7656,660.1387 1234.5,659.9043 Q1234.25,659.6699 1234.25,659.2793 Q1234.25,658.9043 1234.5,658.6699 Q1234.7656,658.4355 1235.3906,658.4355 L1243.0156,658.4355 L1243.0156,661.0293 Q1243.0156,661.6387 1242.7813,661.9043 Q1242.5625,662.1543 1242.1719,662.1543 Q1241.7969,662.1543 1241.5625,661.9043 Q1241.3281,661.6387 1241.3281,661.0293 L1241.3281,660.1387 L1237.3594,660.1387 L1237.3594,662.5918 L1238.8438,662.5918 Q1238.8438,661.9355 1238.9688,661.748 Q1239.2344,661.3418 1239.7031,661.3418 Q1240.0781,661.3418 1240.3125,661.6074 Q1240.5469,661.8574 1240.5469,662.4668 L1240.5469,664.4355 Q1240.5469,664.9824 1240.4219,665.1699 Q1240.1563,665.5605 1239.7031,665.5605 Q1239.2344,665.5605 1238.9688,665.1543 Q1238.8438,664.9668 1238.8438,664.2949 L1237.3594,664.2949 Z " fill="#000000"/><ellipse cx="1257.5" cy="662.998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="1263.5" y="669.2949">SelectFileControl</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1224.5" x2="1373.5" y1="679.498" y2="679.498"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="1229.5" y="698.6055">FIRST_EF</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="1229.5" y="717.2266">NEXT_EF</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="1229.5" y="735.8477">CURRENT_DF</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1224.5" x2="1373.5" y1="743.3613" y2="743.3613"/></g><!--MD5=[97e08845a712c8f45c07bef0bf0d44ef]
class GetDataTag--><g id="elem_GetDataTag"><rect codeLine="74" fill="#FEFECE" height="122.4844" id="GetDataTag" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="211" x="971.5" y="638.498"/><ellipse cx="1028.25" cy="654.498" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1027.1094,655.2949 L1027.1094,657.7949 L1031.4375,657.7949 L1031.4375,656.873 Q1031.4375,656.2637 1031.6719,655.998 Q1031.9219,655.7324 1032.2969,655.7324 Q1032.6719,655.7324 1032.9063,655.998 Q1033.1406,656.2637 1033.1406,656.873 L1033.1406,659.498 L1025.1406,659.498 Q1024.5156,659.498 1024.25,659.2637 Q1024,659.0293 1024,658.6387 Q1024,658.2637 1024.2656,658.0293 Q1024.5313,657.7949 1025.1406,657.7949 L1025.4063,657.7949 L1025.4063,651.1387 L1025.1406,651.1387 Q1024.5156,651.1387 1024.25,650.9043 Q1024,650.6699 1024,650.2793 Q1024,649.9043 1024.25,649.6699 Q1024.5156,649.4355 1025.1406,649.4355 L1032.7656,649.4355 L1032.7656,652.0293 Q1032.7656,652.6387 1032.5313,652.9043 Q1032.3125,653.1543 1031.9219,653.1543 Q1031.5469,653.1543 1031.3125,652.9043 Q1031.0781,652.6387 1031.0781,652.0293 L1031.0781,651.1387 L1027.1094,651.1387 L1027.1094,653.5918 L1028.5938,653.5918 Q1028.5938,652.9355 1028.7188,652.748 Q1028.9844,652.3418 1029.4531,652.3418 Q1029.8281,652.3418 1030.0625,652.6074 Q1030.2969,652.8574 1030.2969,653.4668 L1030.2969,655.4355 Q1030.2969,655.9824 1030.1719,656.1699 Q1029.9063,656.5605 1029.4531,656.5605 Q1028.9844,656.5605 1028.7188,656.1543 Q1028.5938,655.9668 1028.5938,655.2949 L1027.1094,655.2949 Z " fill="#000000"/><ellipse cx="1053.75" cy="653.998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="1059.75" y="660.2949">GetDataTag</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="972.5" x2="1181.5" y1="670.498" y2="670.498"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177" x="977.5" y="689.6055">FCP_FOR_CURRENT_FILE</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="977.5" y="708.2266">FCI_FOR_CURRENT_DF</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="977.5" y="726.8477">EF_LIST</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="977.5" y="745.4688">TRACEABILITY_INFORMATION</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="972.5" x2="1181.5" y1="752.9824" y2="752.9824"/></g><!--MD5=[e9275a698c945725d635dad2e94a3fa6]
class SamRevocationServiceSpi--><g id="elem_SamRevocationServiceSpi"><rect codeLine="81" fill="#FEFECE" height="85.2422" id="SamRevocationServiceSpi" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="422" x="4484" y="2069.498"/><ellipse cx="4603.25" cy="2085.498" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M4604.2031,2082.1387 L4604.2031,2088.7949 L4605.9219,2088.7949 Q4606.5313,2088.7949 4606.7969,2089.0293 Q4607.0625,2089.2637 4607.0625,2089.6543 Q4607.0625,2090.0293 4606.7969,2090.2637 Q4606.5313,2090.498 4605.9219,2090.498 L4600.7813,2090.498 Q4600.1719,2090.498 4599.9063,2090.2637 Q4599.6406,2090.0293 4599.6406,2089.6387 Q4599.6406,2089.2637 4599.9063,2089.0293 Q4600.1719,2088.7949 4600.7813,2088.7949 L4602.5,2088.7949 L4602.5,2082.1387 L4600.7813,2082.1387 Q4600.1719,2082.1387 4599.9063,2081.9043 Q4599.6406,2081.6699 4599.6406,2081.2793 Q4599.6406,2080.9043 4599.9063,2080.6699 Q4600.1719,2080.4355 4600.7813,2080.4355 L4605.9219,2080.4355 Q4606.5313,2080.4355 4606.7969,2080.6699 Q4607.0625,2080.9043 4607.0625,2081.2793 Q4607.0625,2081.6699 4606.7969,2081.9043 Q4606.5313,2082.1387 4605.9219,2082.1387 L4604.2031,2082.1387 Z " fill="#000000"/><ellipse cx="4628.75" cy="2084.998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="164" x="4634.75" y="2091.2949">SamRevocationServiceSpi</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="4485" x2="4905" y1="2101.498" y2="2101.498"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="4485" x2="4905" y1="2109.498" y2="2109.498"/><ellipse cx="4495" cy="2124.3086" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="285" x="4504" y="2128.6055">boolean isSamRevoked (byte[] serialNumber)</text><ellipse cx="4495" cy="2142.9297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="396" x="4504" y="2147.2266">boolean isSamRevoked (byte[] serialNumber, int counterValue)</text></g><!--MD5=[dedf7a414a26192be9658079488df692]
class CalypsoCardSelection--><g id="elem_CalypsoCardSelection"><rect codeLine="87" fill="#FEFECE" height="547.3906" id="CalypsoCardSelection" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="780" x="46" y="1838.498"/><ellipse cx="356.25" cy="1862.1191" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M357.2031,1858.7598 L357.2031,1865.416 L358.9219,1865.416 Q359.5313,1865.416 359.7969,1865.6504 Q360.0625,1865.8848 360.0625,1866.2754 Q360.0625,1866.6504 359.7969,1866.8848 Q359.5313,1867.1191 358.9219,1867.1191 L353.7813,1867.1191 Q353.1719,1867.1191 352.9063,1866.8848 Q352.6406,1866.6504 352.6406,1866.2598 Q352.6406,1865.8848 352.9063,1865.6504 Q353.1719,1865.416 353.7813,1865.416 L355.5,1865.416 L355.5,1858.7598 L353.7813,1858.7598 Q353.1719,1858.7598 352.9063,1858.5254 Q352.6406,1858.291 352.6406,1857.9004 Q352.6406,1857.5254 352.9063,1857.291 Q353.1719,1857.0566 353.7813,1857.0566 L358.9219,1857.0566 Q359.5313,1857.0566 359.7969,1857.291 Q360.0625,1857.5254 360.0625,1857.9004 Q360.0625,1858.291 359.7969,1858.5254 Q359.5313,1858.7598 358.9219,1858.7598 L357.2031,1858.7598 Z " fill="#000000"/><ellipse cx="381.75" cy="1861.6191" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="16" x="397.25" y="1858.6055">&lt;&lt;</text><text fill="#000000" filter="url(#bc1sglkqjo3800)" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="89" x="413.25" y="1858.6055">CardSelection</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="16" x="502.25" y="1858.6055">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="140" x="387.75" y="1877.2266">CalypsoCardSelection</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="47" x2="825" y1="1885.7402" y2="1885.7402"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="47" x2="825" y1="1893.7402" y2="1893.7402"/><ellipse cx="57" cy="1908.5508" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="405" x="66" y="1912.8477">CalypsoCardSelection filterByCardProtocol (String cardProtocol)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="66" y="1931.4688"> </text><ellipse cx="57" cy="1945.793" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="457" x="66" y="1950.0898">CalypsoCardSelection filterByPowerOnData (String powerOnDataRegex)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="66" y="1968.7109"> </text><ellipse cx="57" cy="1983.0352" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="309" x="66" y="1987.332">CalypsoCardSelection filterByDfName (byte[] aid)</text><ellipse cx="57" cy="2001.6563" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="311" x="66" y="2005.9531">CalypsoCardSelection filterByDfName (String aid)</text><ellipse cx="57" cy="2020.2773" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="467" x="66" y="2024.5742">CalypsoCardSelection setFileOccurrence (FileOccurrence fileOccurrence)</text><ellipse cx="57" cy="2038.8984" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="593" x="66" y="2043.1953">CalypsoCardSelection setFileControlInformation (FileControlInformation fileControlInformation)</text><ellipse cx="57" cy="2057.5195" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="415" x="66" y="2061.8164">CalypsoCardSelection addSuccessfulStatusWord (int statusWord)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="66" y="2080.4375"> </text><ellipse cx="57" cy="2094.7617" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="299" x="66" y="2099.0586">CalypsoCardSelection acceptInvalidatedCard ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="66" y="2117.6797"> </text><ellipse cx="57" cy="2132.0039" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="323" x="66" y="2136.3008">CalypsoCardSelection prepareSelectFile (byte[] lid)</text><ellipse cx="57" cy="2150.625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="320" x="66" y="2154.9219">CalypsoCardSelection prepareSelectFile (short lid)</text><ellipse cx="57" cy="2169.2461" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="465" x="66" y="2173.543">CalypsoCardSelection prepareSelectFile (SelectFileControl selectControl)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="66" y="2192.1641"> </text><ellipse cx="57" cy="2206.4883" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="363" x="66" y="2210.7852">CalypsoCardSelection prepareGetData (GetDataTag tag)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="66" y="2229.4063"> </text><ellipse cx="57" cy="2243.7305" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="473" x="66" y="2248.0273">CalypsoCardSelection prepareReadRecordFile (byte sfi, int recordNumber)</text><ellipse cx="57" cy="2262.3516" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="450" x="66" y="2266.6484">CalypsoCardSelection prepareReadRecord (byte sfi, int recordNumber)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="66" y="2285.2695"> </text><ellipse cx="57" cy="2299.5938" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="584" x="66" y="2303.8906">CalypsoCardSelection preparePreOpenSecureSession (WriteAccessLevel writeAccessLevel)</text><ellipse cx="57" cy="2318.2148" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="754" x="66" y="2322.5117">CalypsoCardSelection preparePreOpenSecureSession (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="66" y="2341.1328"> </text><ellipse cx="57" cy="2355.457" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#FF0000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="508" x="66" y="2359.7539">CalypsoCardSelection preparePreOpening (WriteAccessLevel writeAccessLevel)</text><ellipse cx="57" cy="2374.0781" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#FF0000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="678" x="66" y="2378.375">CalypsoCardSelection preparePreOpening (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)</text></g><!--MD5=[986279e3cfc2043660398b1cf71c65a2]
class FileOccurrence--><g id="elem_FileOccurrence"><rect codeLine="115" fill="#FEFECE" height="122.4844" id="FileOccurrence" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="140" x="263" y="3554.998"/><ellipse cx="278" cy="3570.998" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M276.8594,3571.7949 L276.8594,3574.2949 L281.1875,3574.2949 L281.1875,3573.373 Q281.1875,3572.7637 281.4219,3572.498 Q281.6719,3572.2324 282.0469,3572.2324 Q282.4219,3572.2324 282.6563,3572.498 Q282.8906,3572.7637 282.8906,3573.373 L282.8906,3575.998 L274.8906,3575.998 Q274.2656,3575.998 274,3575.7637 Q273.75,3575.5293 273.75,3575.1387 Q273.75,3574.7637 274.0156,3574.5293 Q274.2813,3574.2949 274.8906,3574.2949 L275.1563,3574.2949 L275.1563,3567.6387 L274.8906,3567.6387 Q274.2656,3567.6387 274,3567.4043 Q273.75,3567.1699 273.75,3566.7793 Q273.75,3566.4043 274,3566.1699 Q274.2656,3565.9355 274.8906,3565.9355 L282.5156,3565.9355 L282.5156,3568.5293 Q282.5156,3569.1387 282.2813,3569.4043 Q282.0625,3569.6543 281.6719,3569.6543 Q281.2969,3569.6543 281.0625,3569.4043 Q280.8281,3569.1387 280.8281,3568.5293 L280.8281,3567.6387 L276.8594,3567.6387 L276.8594,3570.0918 L278.3438,3570.0918 Q278.3438,3569.4355 278.4688,3569.248 Q278.7344,3568.8418 279.2031,3568.8418 Q279.5781,3568.8418 279.8125,3569.1074 Q280.0469,3569.3574 280.0469,3569.9668 L280.0469,3571.9355 Q280.0469,3572.4824 279.9219,3572.6699 Q279.6563,3573.0605 279.2031,3573.0605 Q278.7344,3573.0605 278.4688,3572.6543 Q278.3438,3572.4668 278.3438,3571.7949 L276.8594,3571.7949 Z " fill="#000000"/><ellipse cx="297" cy="3570.498" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="303" y="3576.7949">FileOccurrence</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="264" x2="402" y1="3586.998" y2="3586.998"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="269" y="3606.1055">FIRST</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="269" y="3624.7266">LAST</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="269" y="3643.3477">NEXT</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="269" y="3661.9688">PREVIOUS</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="264" x2="402" y1="3669.4824" y2="3669.4824"/></g><!--MD5=[7db03ef0d09735de9c956eac87f10fc3]
class FileControlInformation--><g id="elem_FileControlInformation"><rect codeLine="121" fill="#FEFECE" height="85.2422" id="FileControlInformation" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="182" x="46" y="3573.498"/><ellipse cx="61" cy="3589.498" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M59.8594,3590.2949 L59.8594,3592.7949 L64.1875,3592.7949 L64.1875,3591.873 Q64.1875,3591.2637 64.4219,3590.998 Q64.6719,3590.7324 65.0469,3590.7324 Q65.4219,3590.7324 65.6563,3590.998 Q65.8906,3591.2637 65.8906,3591.873 L65.8906,3594.498 L57.8906,3594.498 Q57.2656,3594.498 57,3594.2637 Q56.75,3594.0293 56.75,3593.6387 Q56.75,3593.2637 57.0156,3593.0293 Q57.2813,3592.7949 57.8906,3592.7949 L58.1563,3592.7949 L58.1563,3586.1387 L57.8906,3586.1387 Q57.2656,3586.1387 57,3585.9043 Q56.75,3585.6699 56.75,3585.2793 Q56.75,3584.9043 57,3584.6699 Q57.2656,3584.4355 57.8906,3584.4355 L65.5156,3584.4355 L65.5156,3587.0293 Q65.5156,3587.6387 65.2813,3587.9043 Q65.0625,3588.1543 64.6719,3588.1543 Q64.2969,3588.1543 64.0625,3587.9043 Q63.8281,3587.6387 63.8281,3587.0293 L63.8281,3586.1387 L59.8594,3586.1387 L59.8594,3588.5918 L61.3438,3588.5918 Q61.3438,3587.9355 61.4688,3587.748 Q61.7344,3587.3418 62.2031,3587.3418 Q62.5781,3587.3418 62.8125,3587.6074 Q63.0469,3587.8574 63.0469,3588.4668 L63.0469,3590.4355 Q63.0469,3590.9824 62.9219,3591.1699 Q62.6563,3591.5605 62.2031,3591.5605 Q61.7344,3591.5605 61.4688,3591.1543 Q61.3438,3590.9668 61.3438,3590.2949 L59.8594,3590.2949 Z " fill="#000000"/><ellipse cx="80" cy="3588.998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="86" y="3595.2949">FileControlInformation</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="47" x2="227" y1="3605.498" y2="3605.498"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="22" x="52" y="3624.6055">FCI</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="52" y="3643.2266">NO_RESPONSE</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="47" x2="227" y1="3650.7402" y2="3650.7402"/></g><!--MD5=[57d9060bfed72118962c04165c3e8b58]
class CalypsoCard--><g id="elem_CalypsoCard"><rect codeLine="125" fill="#FEFECE" height="845.3281" id="CalypsoCard" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="362" x="861" y="1689.498"/><ellipse cx="982.25" cy="1713.1191" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M983.2031,1709.7598 L983.2031,1716.416 L984.9219,1716.416 Q985.5313,1716.416 985.7969,1716.6504 Q986.0625,1716.8848 986.0625,1717.2754 Q986.0625,1717.6504 985.7969,1717.8848 Q985.5313,1718.1191 984.9219,1718.1191 L979.7813,1718.1191 Q979.1719,1718.1191 978.9063,1717.8848 Q978.6406,1717.6504 978.6406,1717.2598 Q978.6406,1716.8848 978.9063,1716.6504 Q979.1719,1716.416 979.7813,1716.416 L981.5,1716.416 L981.5,1709.7598 L979.7813,1709.7598 Q979.1719,1709.7598 978.9063,1709.5254 Q978.6406,1709.291 978.6406,1708.9004 Q978.6406,1708.5254 978.9063,1708.291 Q979.1719,1708.0566 979.7813,1708.0566 L984.9219,1708.0566 Q985.5313,1708.0566 985.7969,1708.291 Q986.0625,1708.5254 986.0625,1708.9004 Q986.0625,1709.291 985.7969,1709.5254 Q985.5313,1709.7598 984.9219,1709.7598 L983.2031,1709.7598 Z " fill="#000000"/><ellipse cx="1007.75" cy="1712.6191" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="16" x="1013.75" y="1709.6055">&lt;&lt;</text><text fill="#000000" filter="url(#bc1sglkqjo3800)" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="68" x="1029.75" y="1709.6055">SmartCard</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="16" x="1097.75" y="1709.6055">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="82" x="1022.75" y="1728.2266">CalypsoCard</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="862" x2="1222" y1="1736.7402" y2="1736.7402"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="862" x2="1222" y1="1744.7402" y2="1744.7402"/><ellipse cx="872" cy="1759.5508" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="200" x="881" y="1763.8477">ProductType getProductType ()</text><ellipse cx="872" cy="1778.1719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="881" y="1782.4688">boolean isHce ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="881" y="1801.0898"> </text><ellipse cx="872" cy="1815.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="881" y="1819.7109">boolean isDfInvalidated ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="881" y="1838.332"> </text><ellipse cx="872" cy="1852.6563" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="881" y="1856.9531">byte[] getDfName ()</text><ellipse cx="872" cy="1871.2773" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="227" x="881" y="1875.5742">byte[] getApplicationSerialNumber ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="881" y="1894.1953"> </text><ellipse cx="872" cy="1908.5195" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="881" y="1912.8164">byte[] getStartupInfoRawData ()</text><ellipse cx="872" cy="1927.1406" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="881" y="1931.4375">byte getPlatform ()</text><ellipse cx="872" cy="1945.7617" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166" x="881" y="1950.0586">byte getApplicationType ()</text><ellipse cx="872" cy="1964.3828" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="186" x="881" y="1968.6797">byte getApplicationSubtype ()</text><ellipse cx="872" cy="1983.0039" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158" x="881" y="1987.3008">byte getSoftwareIssuer ()</text><ellipse cx="872" cy="2001.625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="881" y="2005.9219">byte getSoftwareVersion ()</text><ellipse cx="872" cy="2020.2461" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174" x="881" y="2024.543">byte getSoftwareRevision ()</text><ellipse cx="872" cy="2038.8672" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190" x="881" y="2043.1641">byte getSessionModification ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="881" y="2061.7852"> </text><ellipse cx="872" cy="2076.1094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="216" x="881" y="2080.4063">byte[] getTraceabilityInformation ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="881" y="2099.0273"> </text><ellipse cx="872" cy="2113.3516" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="244" x="881" y="2117.6484">DirectoryHeader getDirectoryHeader ()</text><ellipse cx="872" cy="2131.9727" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="232" x="881" y="2136.2695">ElementaryFile getFileBySfi (byte sfi)</text><ellipse cx="872" cy="2150.5938" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="240" x="881" y="2154.8906">ElementaryFile getFileByLid (short lid)</text><ellipse cx="872" cy="2169.2148" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="256" x="881" y="2173.5117">Map&lt;Byte, ElementaryFile&gt; getAllFiles ()</text><ellipse cx="872" cy="2187.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="881" y="2192.1328">Set&lt;ElementaryFile&gt; getFiles ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="881" y="2210.7539"> </text><ellipse cx="872" cy="2225.0781" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="881" y="2229.375">boolean isDfRatified ()</text><ellipse cx="872" cy="2243.6992" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179" x="881" y="2247.9961">int getTransactionCounter ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="881" y="2266.6172"> </text><ellipse cx="872" cy="2280.9414" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="881" y="2285.2383">boolean isPkiModeSupported ()</text><ellipse cx="872" cy="2299.5625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="239" x="881" y="2303.8594">boolean isExtendedModeSupported ()</text><ellipse cx="872" cy="2318.1836" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="289" x="881" y="2322.4805">boolean isRatificationOnDeselectSupported ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="881" y="2341.1016"> </text><ellipse cx="872" cy="2355.4258" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="206" x="881" y="2359.7227">boolean isPinFeatureAvailable ()</text><ellipse cx="872" cy="2374.0469" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="881" y="2378.3438">boolean isPinBlocked ()</text><ellipse cx="872" cy="2392.668" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="188" x="881" y="2396.9648">int getPinAttemptRemaining ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="881" y="2415.5859"> </text><ellipse cx="872" cy="2429.9102" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="202" x="881" y="2434.207">boolean isSvFeatureAvailable ()</text><ellipse cx="872" cy="2448.5313" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="881" y="2452.8281">int getSvBalance ()</text><ellipse cx="872" cy="2467.1523" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="881" y="2471.4492">int getSvLastTNum ()</text><ellipse cx="872" cy="2485.7734" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="274" x="881" y="2490.0703">SvLoadLogRecord getSvLoadLogRecord ()</text><ellipse cx="872" cy="2504.3945" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="303" x="881" y="2508.6914">SvDebitLogRecord getSvDebitLogLastRecord ()</text><ellipse cx="872" cy="2523.0156" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="336" x="881" y="2527.3125">List&lt;SvDebitLogRecord&gt; getSvDebitLogAllRecords ()</text></g><!--MD5=[0b9f931ff20ef873cbf798587ab2189f]
class DirectoryHeader--><g id="elem_DirectoryHeader"><rect codeLine="169" fill="#FEFECE" height="196.9688" id="DirectoryHeader" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="338" x="1027" y="3517.498"/><ellipse cx="1134.25" cy="3533.498" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1135.2031,3530.1387 L1135.2031,3536.7949 L1136.9219,3536.7949 Q1137.5313,3536.7949 1137.7969,3537.0293 Q1138.0625,3537.2637 1138.0625,3537.6543 Q1138.0625,3538.0293 1137.7969,3538.2637 Q1137.5313,3538.498 1136.9219,3538.498 L1131.7813,3538.498 Q1131.1719,3538.498 1130.9063,3538.2637 Q1130.6406,3538.0293 1130.6406,3537.6387 Q1130.6406,3537.2637 1130.9063,3537.0293 Q1131.1719,3536.7949 1131.7813,3536.7949 L1133.5,3536.7949 L1133.5,3530.1387 L1131.7813,3530.1387 Q1131.1719,3530.1387 1130.9063,3529.9043 Q1130.6406,3529.6699 1130.6406,3529.2793 Q1130.6406,3528.9043 1130.9063,3528.6699 Q1131.1719,3528.4355 1131.7813,3528.4355 L1136.9219,3528.4355 Q1137.5313,3528.4355 1137.7969,3528.6699 Q1138.0625,3528.9043 1138.0625,3529.2793 Q1138.0625,3529.6699 1137.7969,3529.9043 Q1137.5313,3530.1387 1136.9219,3530.1387 L1135.2031,3530.1387 Z " fill="#000000"/><ellipse cx="1159.75" cy="3532.998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="104" x="1165.75" y="3539.2949">DirectoryHeader</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1028" x2="1364" y1="3549.498" y2="3549.498"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1028" x2="1364" y1="3557.498" y2="3557.498"/><ellipse cx="1038" cy="3572.3086" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="1047" y="3576.6055">short getLid ()</text><ellipse cx="1038" cy="3590.9297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="1047" y="3595.2266">Byte getDfStatus ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1047" y="3613.8477"> </text><ellipse cx="1038" cy="3628.1719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185" x="1047" y="3632.4688">byte[] getAccessConditions ()</text><ellipse cx="1038" cy="3646.793" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="1047" y="3651.0898">byte[] getKeyIndexes ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1047" y="3669.7109"> </text><ellipse cx="1038" cy="3684.0352" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="305" x="1047" y="3688.332">byte getKif (WriteAccessLevel writeAccessLevel)</text><ellipse cx="1038" cy="3702.6563" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="312" x="1047" y="3706.9531">byte getKvc (WriteAccessLevel writeAccessLevel)</text></g><!--MD5=[96ed275c747ab8e5816af3c7b7a6d739]
class ElementaryFile--><g id="elem_ElementaryFile"><rect codeLine="179" fill="#FEFECE" height="103.8633" id="ElementaryFile" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="179" x="812.5" y="3563.998"/><ellipse cx="846.4" cy="3579.998" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M847.3531,3576.6387 L847.3531,3583.2949 L849.0719,3583.2949 Q849.6813,3583.2949 849.9469,3583.5293 Q850.2125,3583.7637 850.2125,3584.1543 Q850.2125,3584.5293 849.9469,3584.7637 Q849.6813,3584.998 849.0719,3584.998 L843.9313,3584.998 Q843.3219,3584.998 843.0563,3584.7637 Q842.7906,3584.5293 842.7906,3584.1387 Q842.7906,3583.7637 843.0563,3583.5293 Q843.3219,3583.2949 843.9313,3583.2949 L845.65,3583.2949 L845.65,3576.6387 L843.9313,3576.6387 Q843.3219,3576.6387 843.0563,3576.4043 Q842.7906,3576.1699 842.7906,3575.7793 Q842.7906,3575.4043 843.0563,3575.1699 Q843.3219,3574.9355 843.9313,3574.9355 L849.0719,3574.9355 Q849.6813,3574.9355 849.9469,3575.1699 Q850.2125,3575.4043 850.2125,3575.7793 Q850.2125,3576.1699 849.9469,3576.4043 Q849.6813,3576.6387 849.0719,3576.6387 L847.3531,3576.6387 Z " fill="#000000"/><ellipse cx="869.6" cy="3579.498" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="94" x="875.6" y="3585.7949">ElementaryFile</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="813.5" x2="990.5" y1="3595.998" y2="3595.998"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="813.5" x2="990.5" y1="3603.998" y2="3603.998"/><ellipse cx="823.5" cy="3618.8086" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="832.5" y="3623.1055">byte getSfi ()</text><ellipse cx="823.5" cy="3637.4297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="832.5" y="3641.7266">FileHeader getHeader ()</text><ellipse cx="823.5" cy="3656.0508" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="832.5" y="3660.3477">FileData getData ()</text></g><!--MD5=[486f9787c412818ec30cf5d906211656]
class FileHeader--><g id="elem_FileHeader"><rect codeLine="184" fill="#FEFECE" height="252.832" id="FileHeader" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="239" x="486.5" y="3879.498"/><ellipse cx="561.25" cy="3895.498" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M562.2031,3892.1387 L562.2031,3898.7949 L563.9219,3898.7949 Q564.5313,3898.7949 564.7969,3899.0293 Q565.0625,3899.2637 565.0625,3899.6543 Q565.0625,3900.0293 564.7969,3900.2637 Q564.5313,3900.498 563.9219,3900.498 L558.7813,3900.498 Q558.1719,3900.498 557.9063,3900.2637 Q557.6406,3900.0293 557.6406,3899.6387 Q557.6406,3899.2637 557.9063,3899.0293 Q558.1719,3898.7949 558.7813,3898.7949 L560.5,3898.7949 L560.5,3892.1387 L558.7813,3892.1387 Q558.1719,3892.1387 557.9063,3891.9043 Q557.6406,3891.6699 557.6406,3891.2793 Q557.6406,3890.9043 557.9063,3890.6699 Q558.1719,3890.4355 558.7813,3890.4355 L563.9219,3890.4355 Q564.5313,3890.4355 564.7969,3890.6699 Q565.0625,3890.9043 565.0625,3891.2793 Q565.0625,3891.6699 564.7969,3891.9043 Q564.5313,3892.1387 563.9219,3892.1387 L562.2031,3892.1387 Z " fill="#000000"/><ellipse cx="586.75" cy="3894.998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="70" x="592.75" y="3901.2949">FileHeader</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="487.5" x2="724.5" y1="3911.498" y2="3911.498"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="487.5" x2="724.5" y1="3919.498" y2="3919.498"/><ellipse cx="497.5" cy="3934.3086" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="506.5" y="3938.6055">short getLid ()</text><ellipse cx="497.5" cy="3952.9297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="506.5" y="3957.2266">byte getDfStatus ()</text><ellipse cx="497.5" cy="3971.5508" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213" x="506.5" y="3975.8477">ElementaryFile.Type getEfType ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="506.5" y="3994.4688"> </text><ellipse cx="497.5" cy="4008.793" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="506.5" y="4013.0898">int getRecordsNumber ()</text><ellipse cx="497.5" cy="4027.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="506.5" y="4031.7109">int getRecordSize ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="506.5" y="4050.332"> </text><ellipse cx="497.5" cy="4064.6563" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185" x="506.5" y="4068.9531">byte[] getAccessConditions ()</text><ellipse cx="497.5" cy="4083.2773" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="506.5" y="4087.5742">byte[] getKeyIndexes ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="506.5" y="4106.1953"> </text><ellipse cx="497.5" cy="4120.5195" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="184" x="506.5" y="4124.8164">Short getSharedReference ()</text></g><!--MD5=[b2892fca6bf934519171596a14a2d163]
class FileType--><g id="elem_FileType"><rect codeLine="197" fill="#FEFECE" height="141.1055" id="FileType" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="173" x="815.5" y="3935.498"/><ellipse cx="876.25" cy="3951.498" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M875.1094,3952.2949 L875.1094,3954.7949 L879.4375,3954.7949 L879.4375,3953.873 Q879.4375,3953.2637 879.6719,3952.998 Q879.9219,3952.7324 880.2969,3952.7324 Q880.6719,3952.7324 880.9063,3952.998 Q881.1406,3953.2637 881.1406,3953.873 L881.1406,3956.498 L873.1406,3956.498 Q872.5156,3956.498 872.25,3956.2637 Q872,3956.0293 872,3955.6387 Q872,3955.2637 872.2656,3955.0293 Q872.5313,3954.7949 873.1406,3954.7949 L873.4063,3954.7949 L873.4063,3948.1387 L873.1406,3948.1387 Q872.5156,3948.1387 872.25,3947.9043 Q872,3947.6699 872,3947.2793 Q872,3946.9043 872.25,3946.6699 Q872.5156,3946.4355 873.1406,3946.4355 L880.7656,3946.4355 L880.7656,3949.0293 Q880.7656,3949.6387 880.5313,3949.9043 Q880.3125,3950.1543 879.9219,3950.1543 Q879.5469,3950.1543 879.3125,3949.9043 Q879.0781,3949.6387 879.0781,3949.0293 L879.0781,3948.1387 L875.1094,3948.1387 L875.1094,3950.5918 L876.5938,3950.5918 Q876.5938,3949.9355 876.7188,3949.748 Q876.9844,3949.3418 877.4531,3949.3418 Q877.8281,3949.3418 878.0625,3949.6074 Q878.2969,3949.8574 878.2969,3950.4668 L878.2969,3952.4355 Q878.2969,3952.9824 878.1719,3953.1699 Q877.9063,3953.5605 877.4531,3953.5605 Q876.9844,3953.5605 876.7188,3953.1543 Q876.5938,3952.9668 876.5938,3952.2949 L875.1094,3952.2949 Z " fill="#000000"/><ellipse cx="901.75" cy="3950.998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="907.75" y="3957.2949">Type</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="816.5" x2="987.5" y1="3967.498" y2="3967.498"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="821.5" y="3986.6055">LINEAR</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="821.5" y="4005.2266">BINARY</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="821.5" y="4023.8477">CYCLIC</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="821.5" y="4042.4688">COUNTERS</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="821.5" y="4061.0898">SIMULATED_COUNTERS</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="816.5" x2="987.5" y1="4068.6035" y2="4068.6035"/></g><!--MD5=[9e0c9777a80d688403528ae1660d9a4a]
class FileData--><g id="elem_FileData"><rect codeLine="204" fill="#FEFECE" height="178.3477" id="FileData" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="433" x="1023.5" y="3916.998"/><ellipse cx="1203.75" cy="3932.998" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1204.7031,3929.6387 L1204.7031,3936.2949 L1206.4219,3936.2949 Q1207.0313,3936.2949 1207.2969,3936.5293 Q1207.5625,3936.7637 1207.5625,3937.1543 Q1207.5625,3937.5293 1207.2969,3937.7637 Q1207.0313,3937.998 1206.4219,3937.998 L1201.2813,3937.998 Q1200.6719,3937.998 1200.4063,3937.7637 Q1200.1406,3937.5293 1200.1406,3937.1387 Q1200.1406,3936.7637 1200.4063,3936.5293 Q1200.6719,3936.2949 1201.2813,3936.2949 L1203,3936.2949 L1203,3929.6387 L1201.2813,3929.6387 Q1200.6719,3929.6387 1200.4063,3929.4043 Q1200.1406,3929.1699 1200.1406,3928.7793 Q1200.1406,3928.4043 1200.4063,3928.1699 Q1200.6719,3927.9355 1201.2813,3927.9355 L1206.4219,3927.9355 Q1207.0313,3927.9355 1207.2969,3928.1699 Q1207.5625,3928.4043 1207.5625,3928.7793 Q1207.5625,3929.1699 1207.2969,3929.4043 Q1207.0313,3929.6387 1206.4219,3929.6387 L1204.7031,3929.6387 Z " fill="#000000"/><ellipse cx="1229.25" cy="3932.498" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="53" x="1235.25" y="3938.7949">FileData</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1024.5" x2="1455.5" y1="3948.998" y2="3948.998"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1024.5" x2="1455.5" y1="3956.998" y2="3956.998"/><ellipse cx="1034.5" cy="3971.8086" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="1043.5" y="3976.1055">byte[] getContent ()</text><ellipse cx="1034.5" cy="3990.4297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="215" x="1043.5" y="3994.7266">byte[] getContent (int numRecord)</text><ellipse cx="1034.5" cy="4009.0508" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="407" x="1043.5" y="4013.3477">byte[] getContent (int numRecord, int dataOffset, int dataLength)</text><ellipse cx="1034.5" cy="4027.6719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="328" x="1043.5" y="4031.9688">SortedMap&lt;Integer, byte[]&gt; getAllRecordsContent ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1043.5" y="4050.5898"> </text><ellipse cx="1034.5" cy="4064.9141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="332" x="1043.5" y="4069.2109">Integer getContentAsCounterValue (int numCounter)</text><ellipse cx="1034.5" cy="4083.5352" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="328" x="1043.5" y="4087.832">SortedMap&lt;Integer, Integer&gt; getAllCountersValue ()</text></g><!--MD5=[e000c089c172563ba3d8f11f76ec265c]
class CardProductType--><g id="elem_CardProductType"><rect codeLine="213" fill="#FEFECE" height="159.7266" id="CardProductType" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="141" x="636.5" y="3535.998"/><ellipse cx="659.15" cy="3551.998" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M658.0094,3552.7949 L658.0094,3555.2949 L662.3375,3555.2949 L662.3375,3554.373 Q662.3375,3553.7637 662.5719,3553.498 Q662.8219,3553.2324 663.1969,3553.2324 Q663.5719,3553.2324 663.8063,3553.498 Q664.0406,3553.7637 664.0406,3554.373 L664.0406,3556.998 L656.0406,3556.998 Q655.4156,3556.998 655.15,3556.7637 Q654.9,3556.5293 654.9,3556.1387 Q654.9,3555.7637 655.1656,3555.5293 Q655.4313,3555.2949 656.0406,3555.2949 L656.3063,3555.2949 L656.3063,3548.6387 L656.0406,3548.6387 Q655.4156,3548.6387 655.15,3548.4043 Q654.9,3548.1699 654.9,3547.7793 Q654.9,3547.4043 655.15,3547.1699 Q655.4156,3546.9355 656.0406,3546.9355 L663.6656,3546.9355 L663.6656,3549.5293 Q663.6656,3550.1387 663.4313,3550.4043 Q663.2125,3550.6543 662.8219,3550.6543 Q662.4469,3550.6543 662.2125,3550.4043 Q661.9781,3550.1387 661.9781,3549.5293 L661.9781,3548.6387 L658.0094,3548.6387 L658.0094,3551.0918 L659.4938,3551.0918 Q659.4938,3550.4355 659.6188,3550.248 Q659.8844,3549.8418 660.3531,3549.8418 Q660.7281,3549.8418 660.9625,3550.1074 Q661.1969,3550.3574 661.1969,3550.9668 L661.1969,3552.9355 Q661.1969,3553.4824 661.0719,3553.6699 Q660.8063,3554.0605 660.3531,3554.0605 Q659.8844,3554.0605 659.6188,3553.6543 Q659.4938,3553.4668 659.4938,3552.7949 L658.0094,3552.7949 Z " fill="#000000"/><ellipse cx="679.85" cy="3551.498" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="685.85" y="3557.7949">ProductType</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="637.5" x2="776.5" y1="3567.998" y2="3567.998"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="642.5" y="3587.1055">PRIME_REVISION_1</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="642.5" y="3605.7266">PRIME_REVISION_2</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="642.5" y="3624.3477">PRIME_REVISION_3</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="642.5" y="3642.9688">LIGHT</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="642.5" y="3661.5898">BASIC</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="642.5" y="3680.2109">UNKNOWN</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="637.5" x2="776.5" y1="3687.7246" y2="3687.7246"/></g><!--MD5=[c749d7bba5587d09bce06f9a9a7e89ad]
class SvLoadLogRecord--><g id="elem_SvLoadLogRecord"><rect codeLine="221" fill="#FEFECE" height="290.0742" id="SvLoadLogRecord" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="162" x="1400" y="3470.998"/><ellipse cx="1415.9" cy="3486.998" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1416.8531,3483.6387 L1416.8531,3490.2949 L1418.5719,3490.2949 Q1419.1813,3490.2949 1419.4469,3490.5293 Q1419.7125,3490.7637 1419.7125,3491.1543 Q1419.7125,3491.5293 1419.4469,3491.7637 Q1419.1813,3491.998 1418.5719,3491.998 L1413.4313,3491.998 Q1412.8219,3491.998 1412.5563,3491.7637 Q1412.2906,3491.5293 1412.2906,3491.1387 Q1412.2906,3490.7637 1412.5563,3490.5293 Q1412.8219,3490.2949 1413.4313,3490.2949 L1415.15,3490.2949 L1415.15,3483.6387 L1413.4313,3483.6387 Q1412.8219,3483.6387 1412.5563,3483.4043 Q1412.2906,3483.1699 1412.2906,3482.7793 Q1412.2906,3482.4043 1412.5563,3482.1699 Q1412.8219,3481.9355 1413.4313,3481.9355 L1418.5719,3481.9355 Q1419.1813,3481.9355 1419.4469,3482.1699 Q1419.7125,3482.4043 1419.7125,3482.7793 Q1419.7125,3483.1699 1419.4469,3483.4043 Q1419.1813,3483.6387 1418.5719,3483.6387 L1416.8531,3483.6387 Z " fill="#000000"/><ellipse cx="1435.1" cy="3486.498" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="117" x="1441.1" y="3492.7949">SvLoadLogRecord</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1401" x2="1561" y1="3502.998" y2="3502.998"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1401" x2="1561" y1="3510.998" y2="3510.998"/><ellipse cx="1411" cy="3525.8086" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="1420" y="3530.1055">byte[] getRawData ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1420" y="3548.7266"> </text><ellipse cx="1411" cy="3563.0508" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135" x="1420" y="3567.3477">byte[] getLoadDate ()</text><ellipse cx="1411" cy="3581.6719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="1420" y="3585.9688">byte[] getLoadTime ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1420" y="3604.5898"> </text><ellipse cx="1411" cy="3618.9141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="1420" y="3623.2109">int getAmount ()</text><ellipse cx="1411" cy="3637.5352" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="1420" y="3641.832">int getBalance ()</text><ellipse cx="1411" cy="3656.1563" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="1420" y="3660.4531">byte[] getFreeData ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1420" y="3679.0742"> </text><ellipse cx="1411" cy="3693.3984" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="1420" y="3697.6953">byte getKvc ()</text><ellipse cx="1411" cy="3712.0195" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="1420" y="3716.3164">byte[] getSamId ()</text><ellipse cx="1411" cy="3730.6406" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="1420" y="3734.9375">int getSamTNum ()</text><ellipse cx="1411" cy="3749.2617" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="1420" y="3753.5586">int getSvTNum ()</text></g><!--MD5=[f7bb9a4e07bc41a393fc40394d0e062c]
class SvDebitLogRecord--><g id="elem_SvDebitLogRecord"><rect codeLine="236" fill="#FEFECE" height="271.4531" id="SvDebitLogRecord" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="163" x="438.5" y="3480.498"/><ellipse cx="454.4" cy="3496.498" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M455.3531,3493.1387 L455.3531,3499.7949 L457.0719,3499.7949 Q457.6813,3499.7949 457.9469,3500.0293 Q458.2125,3500.2637 458.2125,3500.6543 Q458.2125,3501.0293 457.9469,3501.2637 Q457.6813,3501.498 457.0719,3501.498 L451.9313,3501.498 Q451.3219,3501.498 451.0563,3501.2637 Q450.7906,3501.0293 450.7906,3500.6387 Q450.7906,3500.2637 451.0563,3500.0293 Q451.3219,3499.7949 451.9313,3499.7949 L453.65,3499.7949 L453.65,3493.1387 L451.9313,3493.1387 Q451.3219,3493.1387 451.0563,3492.9043 Q450.7906,3492.6699 450.7906,3492.2793 Q450.7906,3491.9043 451.0563,3491.6699 Q451.3219,3491.4355 451.9313,3491.4355 L457.0719,3491.4355 Q457.6813,3491.4355 457.9469,3491.6699 Q458.2125,3491.9043 458.2125,3492.2793 Q458.2125,3492.6699 457.9469,3492.9043 Q457.6813,3493.1387 457.0719,3493.1387 L455.3531,3493.1387 Z " fill="#000000"/><ellipse cx="473.6" cy="3495.998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="118" x="479.6" y="3502.2949">SvDebitLogRecord</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="439.5" x2="600.5" y1="3512.498" y2="3512.498"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="439.5" x2="600.5" y1="3520.498" y2="3520.498"/><ellipse cx="449.5" cy="3535.3086" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="458.5" y="3539.6055">byte[] getRawData ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="458.5" y="3558.2266"> </text><ellipse cx="449.5" cy="3572.5508" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="458.5" y="3576.8477">byte[] getDebitDate ()</text><ellipse cx="449.5" cy="3591.1719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="458.5" y="3595.4688">byte[] getDebitTime ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="458.5" y="3614.0898"> </text><ellipse cx="449.5" cy="3628.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="458.5" y="3632.7109">int getAmount ()</text><ellipse cx="449.5" cy="3647.0352" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="458.5" y="3651.332">int getBalance ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="458.5" y="3669.9531"> </text><ellipse cx="449.5" cy="3684.2773" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="458.5" y="3688.5742">byte getKvc ()</text><ellipse cx="449.5" cy="3702.8984" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="458.5" y="3707.1953">byte[] getSamId ()</text><ellipse cx="449.5" cy="3721.5195" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="458.5" y="3725.8164">int getSamTNum ()</text><ellipse cx="449.5" cy="3740.1406" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="458.5" y="3744.4375">int getSvTNum ()</text></g><!--MD5=[c337779d2dbd9414fdf26e542ab5c644]
class CalypsoSamSelection--><g id="elem_CalypsoSamSelection"><rect codeLine="252" fill="#FEFECE" height="137.7266" id="CalypsoSamSelection" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="553" x="4484.5" y="3546.998"/><ellipse cx="4682.75" cy="3570.6191" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M4683.7031,3567.2598 L4683.7031,3573.916 L4685.4219,3573.916 Q4686.0313,3573.916 4686.2969,3574.1504 Q4686.5625,3574.3848 4686.5625,3574.7754 Q4686.5625,3575.1504 4686.2969,3575.3848 Q4686.0313,3575.6191 4685.4219,3575.6191 L4680.2813,3575.6191 Q4679.6719,3575.6191 4679.4063,3575.3848 Q4679.1406,3575.1504 4679.1406,3574.7598 Q4679.1406,3574.3848 4679.4063,3574.1504 Q4679.6719,3573.916 4680.2813,3573.916 L4682,3573.916 L4682,3567.2598 L4680.2813,3567.2598 Q4679.6719,3567.2598 4679.4063,3567.0254 Q4679.1406,3566.791 4679.1406,3566.4004 Q4679.1406,3566.0254 4679.4063,3565.791 Q4679.6719,3565.5566 4680.2813,3565.5566 L4685.4219,3565.5566 Q4686.0313,3565.5566 4686.2969,3565.791 Q4686.5625,3566.0254 4686.5625,3566.4004 Q4686.5625,3566.791 4686.2969,3567.0254 Q4686.0313,3567.2598 4685.4219,3567.2598 L4683.7031,3567.2598 Z " fill="#000000"/><ellipse cx="4708.25" cy="3570.1191" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="16" x="4722.25" y="3567.1055">&lt;&lt;</text><text fill="#000000" filter="url(#bc1sglkqjo3800)" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="89" x="4738.25" y="3567.1055">CardSelection</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="16" x="4827.25" y="3567.1055">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="137" x="4714.25" y="3585.7266">CalypsoSamSelection</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="4485.5" x2="5036.5" y1="3594.2402" y2="3594.2402"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="4485.5" x2="5036.5" y1="3602.2402" y2="3602.2402"/><ellipse cx="4495.5" cy="3617.0508" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="527" x="4504.5" y="3621.3477">CalypsoSamSelection filterByProductType (CalypsoSam.ProductType productType)</text><ellipse cx="4495.5" cy="3635.6719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="447" x="4504.5" y="3639.9688">CalypsoSamSelection filterBySerialNumber (String serialNumberRegex)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="4504.5" y="3658.5898"> </text><ellipse cx="4495.5" cy="3672.9141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="358" x="4504.5" y="3677.2109">CalypsoSamSelection setUnlockData (String unlockData)</text></g><!--MD5=[f25ff1fa8fa59bbc0543eaadeb7d653a]
class CalypsoSam--><g id="elem_CalypsoSam"><rect codeLine="258" fill="#FEFECE" height="249.4531" id="CalypsoSam" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="226" x="5073" y="3491.498"/><ellipse cx="5126.25" cy="3515.1191" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M5127.2031,3511.7598 L5127.2031,3518.416 L5128.9219,3518.416 Q5129.5313,3518.416 5129.7969,3518.6504 Q5130.0625,3518.8848 5130.0625,3519.2754 Q5130.0625,3519.6504 5129.7969,3519.8848 Q5129.5313,3520.1191 5128.9219,3520.1191 L5123.7813,3520.1191 Q5123.1719,3520.1191 5122.9063,3519.8848 Q5122.6406,3519.6504 5122.6406,3519.2598 Q5122.6406,3518.8848 5122.9063,3518.6504 Q5123.1719,3518.416 5123.7813,3518.416 L5125.5,3518.416 L5125.5,3511.7598 L5123.7813,3511.7598 Q5123.1719,3511.7598 5122.9063,3511.5254 Q5122.6406,3511.291 5122.6406,3510.9004 Q5122.6406,3510.5254 5122.9063,3510.291 Q5123.1719,3510.0566 5123.7813,3510.0566 L5128.9219,3510.0566 Q5129.5313,3510.0566 5129.7969,3510.291 Q5130.0625,3510.5254 5130.0625,3510.9004 Q5130.0625,3511.291 5129.7969,3511.5254 Q5129.5313,3511.7598 5128.9219,3511.7598 L5127.2031,3511.7598 Z " fill="#000000"/><ellipse cx="5151.75" cy="3514.6191" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="16" x="5157.75" y="3511.6055">&lt;&lt;</text><text fill="#000000" filter="url(#bc1sglkqjo3800)" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="68" x="5173.75" y="3511.6055">SmartCard</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="16" x="5241.75" y="3511.6055">&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="5168.25" y="3530.2266">CalypsoSam</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="5074" x2="5298" y1="3538.7402" y2="3538.7402"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="5074" x2="5298" y1="3546.7402" y2="3546.7402"/><ellipse cx="5084" cy="3561.5508" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="200" x="5093" y="3565.8477">ProductType getProductType ()</text><ellipse cx="5084" cy="3580.1719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="5093" y="3584.4688">String getProductInfo ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="5093" y="3603.0898"> </text><ellipse cx="5084" cy="3617.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158" x="5093" y="3621.7109">byte[] getSerialNumber ()</text><ellipse cx="5084" cy="3636.0352" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="5093" y="3640.332">byte getPlatform ()</text><ellipse cx="5084" cy="3654.6563" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166" x="5093" y="3658.9531">byte getApplicationType ()</text><ellipse cx="5084" cy="3673.2773" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191" x="5093" y="3677.5742">byte getApplicationSubType ()</text><ellipse cx="5084" cy="3691.8984" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158" x="5093" y="3696.1953">byte getSoftwareIssuer ()</text><ellipse cx="5084" cy="3710.5195" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="5093" y="3714.8164">byte getSoftwareVersion ()</text><ellipse cx="5084" cy="3729.1406" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174" x="5093" y="3733.4375">byte getSoftwareRevision ()</text></g><!--MD5=[64db2d10778acf6b7b903aeb76cb16f8]
class SamProductType--><g id="elem_SamProductType"><rect codeLine="270" fill="#FEFECE" height="159.7266" id="SamProductType" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="124" x="5083" y="3925.998"/><ellipse cx="5098" cy="3941.998" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M5096.8594,3942.7949 L5096.8594,3945.2949 L5101.1875,3945.2949 L5101.1875,3944.373 Q5101.1875,3943.7637 5101.4219,3943.498 Q5101.6719,3943.2324 5102.0469,3943.2324 Q5102.4219,3943.2324 5102.6563,3943.498 Q5102.8906,3943.7637 5102.8906,3944.373 L5102.8906,3946.998 L5094.8906,3946.998 Q5094.2656,3946.998 5094,3946.7637 Q5093.75,3946.5293 5093.75,3946.1387 Q5093.75,3945.7637 5094.0156,3945.5293 Q5094.2813,3945.2949 5094.8906,3945.2949 L5095.1563,3945.2949 L5095.1563,3938.6387 L5094.8906,3938.6387 Q5094.2656,3938.6387 5094,3938.4043 Q5093.75,3938.1699 5093.75,3937.7793 Q5093.75,3937.4043 5094,3937.1699 Q5094.2656,3936.9355 5094.8906,3936.9355 L5102.5156,3936.9355 L5102.5156,3939.5293 Q5102.5156,3940.1387 5102.2813,3940.4043 Q5102.0625,3940.6543 5101.6719,3940.6543 Q5101.2969,3940.6543 5101.0625,3940.4043 Q5100.8281,3940.1387 5100.8281,3939.5293 L5100.8281,3938.6387 L5096.8594,3938.6387 L5096.8594,3941.0918 L5098.3438,3941.0918 Q5098.3438,3940.4355 5098.4688,3940.248 Q5098.7344,3939.8418 5099.2031,3939.8418 Q5099.5781,3939.8418 5099.8125,3940.1074 Q5100.0469,3940.3574 5100.0469,3940.9668 L5100.0469,3942.9355 Q5100.0469,3943.4824 5099.9219,3943.6699 Q5099.6563,3944.0605 5099.2031,3944.0605 Q5098.7344,3944.0605 5098.4688,3943.6543 Q5098.3438,3943.4668 5098.3438,3942.7949 L5096.8594,3942.7949 Z " fill="#000000"/><ellipse cx="5117" cy="3941.498" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="5123" y="3947.7949">ProductType</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="5084" x2="5206" y1="3957.998" y2="3957.998"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="5089" y="3977.1055">SAM_C1</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="5089" y="3995.7266">HSM_C1</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="5089" y="4014.3477">SAM_S1E1</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="5089" y="4032.9688">SAM_S1Dx</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="56" x="5089" y="4051.5898">CSAM_F</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="5089" y="4070.2109">UNKNOWN</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="5084" x2="5206" y1="4077.7246" y2="4077.7246"/></g><!--MD5=[da61a391893b692be16caea6f1f8a515]
class CommonTransactionManager--><g id="elem_CommonTransactionManager"><rect codeLine="281" fill="#FEFECE" height="182.2695" id="CommonTransactionManager" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="504" x="2668" y="608.498"/><ellipse cx="2687.95" cy="626.459" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M2688.9031,623.0996 L2688.9031,629.7559 L2690.6219,629.7559 Q2691.2313,629.7559 2691.4969,629.9902 Q2691.7625,630.2246 2691.7625,630.6152 Q2691.7625,630.9902 2691.4969,631.2246 Q2691.2313,631.459 2690.6219,631.459 L2685.4813,631.459 Q2684.8719,631.459 2684.6063,631.2246 Q2684.3406,630.9902 2684.3406,630.5996 Q2684.3406,630.2246 2684.6063,629.9902 Q2684.8719,629.7559 2685.4813,629.7559 L2687.2,629.7559 L2687.2,623.0996 L2685.4813,623.0996 Q2684.8719,623.0996 2684.6063,622.8652 Q2684.3406,622.6309 2684.3406,622.2402 Q2684.3406,621.8652 2684.6063,621.6309 Q2684.8719,621.3965 2685.4813,621.3965 L2690.6219,621.3965 Q2691.2313,621.3965 2691.4969,621.6309 Q2691.7625,621.8652 2691.7625,622.2402 Q2691.7625,622.6309 2691.4969,622.8652 Q2691.2313,623.0996 2690.6219,623.0996 L2688.9031,623.0996 Z " fill="#000000"/><ellipse cx="2708.05" cy="625.959" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="188" x="2714.05" y="632.2559">CommonTransactionManager</text><rect fill="#FFFFFF" height="33.9219" style="stroke:#D4AC0D;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="260" x="2915" y="605.498"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="258" x="2916" y="619.4473">T extends CommonTransactionManager&lt;T, S&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="213" x="2938.5" y="635.4082">S extends CommonSecuritySetting&lt;S&gt;</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="2669" x2="3171" y1="644.4199" y2="644.4199"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="2669" x2="3171" y1="652.4199" y2="652.4199"/><ellipse cx="2679" cy="667.2305" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="142" x="2688" y="671.5273">S getSecuritySetting ()</text><ellipse cx="2679" cy="685.8516" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="248" x="2688" y="690.1484">List&lt;byte[]&gt; getTransactionAuditData ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="2688" y="708.7695"> </text><ellipse cx="2679" cy="723.0938" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="478" x="2688" y="727.3906">T prepareComputeSignature (CommonSignatureComputationData&lt;?&gt; data)</text><ellipse cx="2679" cy="741.7148" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="447" x="2688" y="746.0117">T prepareVerifySignature (CommonSignatureVerificationData&lt;?&gt; data)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="2688" y="764.6328"> </text><ellipse cx="2679" cy="778.957" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="2688" y="783.2539">T processCommands ()</text></g><!--MD5=[c17ae2c2af60537b87d9abee834860c0]
class CommonSignatureComputationData--><g id="elem_CommonSignatureComputationData"><rect codeLine="290" fill="#FEFECE" height="141.1055" id="CommonSignatureComputationData" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="553" x="2490.5" y="313.998"/><ellipse cx="2505.5" cy="329.998" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M2506.4531,326.6387 L2506.4531,333.2949 L2508.1719,333.2949 Q2508.7813,333.2949 2509.0469,333.5293 Q2509.3125,333.7637 2509.3125,334.1543 Q2509.3125,334.5293 2509.0469,334.7637 Q2508.7813,334.998 2508.1719,334.998 L2503.0313,334.998 Q2502.4219,334.998 2502.1563,334.7637 Q2501.8906,334.5293 2501.8906,334.1387 Q2501.8906,333.7637 2502.1563,333.5293 Q2502.4219,333.2949 2503.0313,333.2949 L2504.75,333.2949 L2504.75,326.6387 L2503.0313,326.6387 Q2502.4219,326.6387 2502.1563,326.4043 Q2501.8906,326.1699 2501.8906,325.7793 Q2501.8906,325.4043 2502.1563,325.1699 Q2502.4219,324.9355 2503.0313,324.9355 L2508.1719,324.9355 Q2508.7813,324.9355 2509.0469,325.1699 Q2509.3125,325.4043 2509.3125,325.7793 Q2509.3125,326.1699 2509.0469,326.4043 Q2508.7813,326.6387 2508.1719,326.6387 L2506.4531,326.6387 Z " fill="#000000"/><ellipse cx="2524.5" cy="329.498" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="227" x="2530.5" y="335.7949">CommonSignatureComputationData</text><rect fill="#FFFFFF" height="17.9609" style="stroke:#D4AC0D;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="281" x="2765.5" y="310.998"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="279" x="2766.5" y="324.9473">T extends CommonSignatureComputationData&lt;T&gt;</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="2491.5" x2="3042.5" y1="345.998" y2="345.998"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="2491.5" x2="3042.5" y1="353.998" y2="353.998"/><ellipse cx="2501.5" cy="368.8086" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="256" x="2510.5" y="373.1055">T setData (byte[] data, byte kif, byte kvc)</text><ellipse cx="2501.5" cy="387.4297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176" x="2510.5" y="391.7266">T setSignatureSize (int size)</text><ellipse cx="2501.5" cy="406.0508" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="233" x="2510.5" y="410.3477">T setKeyDiversifier (byte[] diversifier)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="2510.5" y="428.9688"> </text><ellipse cx="2501.5" cy="443.293" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="2510.5" y="447.5898">byte[] getSignature ()</text></g><!--MD5=[c644258d6e85feb715526e24ebfc93b6]
class BasicSignatureComputationData--><g id="elem_BasicSignatureComputationData"><rect codeLine="297" fill="#FEFECE" height="48" id="BasicSignatureComputationData" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="248" x="1618" y="675.498"/><ellipse cx="1633" cy="691.498" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1633.9531,688.1387 L1633.9531,694.7949 L1635.6719,694.7949 Q1636.2813,694.7949 1636.5469,695.0293 Q1636.8125,695.2637 1636.8125,695.6543 Q1636.8125,696.0293 1636.5469,696.2637 Q1636.2813,696.498 1635.6719,696.498 L1630.5313,696.498 Q1629.9219,696.498 1629.6563,696.2637 Q1629.3906,696.0293 1629.3906,695.6387 Q1629.3906,695.2637 1629.6563,695.0293 Q1629.9219,694.7949 1630.5313,694.7949 L1632.25,694.7949 L1632.25,688.1387 L1630.5313,688.1387 Q1629.9219,688.1387 1629.6563,687.9043 Q1629.3906,687.6699 1629.3906,687.2793 Q1629.3906,686.9043 1629.6563,686.6699 Q1629.9219,686.4355 1630.5313,686.4355 L1635.6719,686.4355 Q1636.2813,686.4355 1636.5469,686.6699 Q1636.8125,686.9043 1636.8125,687.2793 Q1636.8125,687.6699 1636.5469,687.9043 Q1636.2813,688.1387 1635.6719,688.1387 L1633.9531,688.1387 Z " fill="#000000"/><ellipse cx="1652" cy="690.998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="205" x="1658" y="697.2949">BasicSignatureComputationData</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1619" x2="1865" y1="707.498" y2="707.498"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1619" x2="1865" y1="715.498" y2="715.498"/></g><!--MD5=[cdc2fcd8768bdabfe9b56e9f578bd14d]
class TraceableSignatureComputationData--><g id="elem_TraceableSignatureComputationData"><rect codeLine="299" fill="#FEFECE" height="122.4844" id="TraceableSignatureComputationData" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="732" x="1901" y="638.498"/><ellipse cx="2139.75" cy="654.498" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M2140.7031,651.1387 L2140.7031,657.7949 L2142.4219,657.7949 Q2143.0313,657.7949 2143.2969,658.0293 Q2143.5625,658.2637 2143.5625,658.6543 Q2143.5625,659.0293 2143.2969,659.2637 Q2143.0313,659.498 2142.4219,659.498 L2137.2813,659.498 Q2136.6719,659.498 2136.4063,659.2637 Q2136.1406,659.0293 2136.1406,658.6387 Q2136.1406,658.2637 2136.4063,658.0293 Q2136.6719,657.7949 2137.2813,657.7949 L2139,657.7949 L2139,651.1387 L2137.2813,651.1387 Q2136.6719,651.1387 2136.4063,650.9043 Q2136.1406,650.6699 2136.1406,650.2793 Q2136.1406,649.9043 2136.4063,649.6699 Q2136.6719,649.4355 2137.2813,649.4355 L2142.4219,649.4355 Q2143.0313,649.4355 2143.2969,649.6699 Q2143.5625,649.9043 2143.5625,650.2793 Q2143.5625,650.6699 2143.2969,650.9043 Q2143.0313,651.1387 2142.4219,651.1387 L2140.7031,651.1387 Z " fill="#000000"/><ellipse cx="2165.25" cy="653.998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="235" x="2171.25" y="660.2949">TraceableSignatureComputationData</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1902" x2="2632" y1="670.498" y2="670.498"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1902" x2="2632" y1="678.498" y2="678.498"/><ellipse cx="1912" cy="693.3086" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="706" x="1921" y="697.6055">TraceableSignatureComputationData withSamTraceabilityMode (int offset, boolean usePartialSamSerialNumber)</text><ellipse cx="1912" cy="711.9297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="363" x="1921" y="716.2266">TraceableSignatureComputationData withoutBusyMode ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1921" y="734.8477"> </text><ellipse cx="1912" cy="749.1719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="1921" y="753.4688">byte[] getSignedData ()</text></g><!--MD5=[49815161954875a46b9e77877b8c8585]
class CommonSignatureVerificationData--><g id="elem_CommonSignatureVerificationData"><rect codeLine="305" fill="#FEFECE" height="122.4844" id="CommonSignatureVerificationData" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="533" x="3078.5" y="323.498"/><ellipse cx="3093.5" cy="339.498" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M3094.4531,336.1387 L3094.4531,342.7949 L3096.1719,342.7949 Q3096.7813,342.7949 3097.0469,343.0293 Q3097.3125,343.2637 3097.3125,343.6543 Q3097.3125,344.0293 3097.0469,344.2637 Q3096.7813,344.498 3096.1719,344.498 L3091.0313,344.498 Q3090.4219,344.498 3090.1563,344.2637 Q3089.8906,344.0293 3089.8906,343.6387 Q3089.8906,343.2637 3090.1563,343.0293 Q3090.4219,342.7949 3091.0313,342.7949 L3092.75,342.7949 L3092.75,336.1387 L3091.0313,336.1387 Q3090.4219,336.1387 3090.1563,335.9043 Q3089.8906,335.6699 3089.8906,335.2793 Q3089.8906,334.9043 3090.1563,334.6699 Q3090.4219,334.4355 3091.0313,334.4355 L3096.1719,334.4355 Q3096.7813,334.4355 3097.0469,334.6699 Q3097.3125,334.9043 3097.3125,335.2793 Q3097.3125,335.6699 3097.0469,335.9043 Q3096.7813,336.1387 3096.1719,336.1387 L3094.4531,336.1387 Z " fill="#000000"/><ellipse cx="3112.5" cy="338.998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="217" x="3118.5" y="345.2949">CommonSignatureVerificationData</text><rect fill="#FFFFFF" height="17.9609" style="stroke:#D4AC0D;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="271" x="3343.5" y="320.498"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="269" x="3344.5" y="334.4473">T extends CommonSignatureVerificationData&lt;T&gt;</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="3079.5" x2="3610.5" y1="355.498" y2="355.498"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="3079.5" x2="3610.5" y1="363.498" y2="363.498"/><ellipse cx="3089.5" cy="378.3086" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="362" x="3098.5" y="382.6055">T setData (byte[] data, byte[] signature, byte kif, byte kvc)</text><ellipse cx="3089.5" cy="396.9297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="233" x="3098.5" y="401.2266">T setKeyDiversifier (byte[] diversifier)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="3098.5" y="419.8477"> </text><ellipse cx="3089.5" cy="434.1719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171" x="3098.5" y="438.4688">boolean isSignatureValid ()</text></g><!--MD5=[792b97716737da270761df73939131ae]
class BasicSignatureVerificationData--><g id="elem_BasicSignatureVerificationData"><rect codeLine="311" fill="#FEFECE" height="48" id="BasicSignatureVerificationData" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="238" x="3207" y="675.498"/><ellipse cx="3222" cy="691.498" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M3222.9531,688.1387 L3222.9531,694.7949 L3224.6719,694.7949 Q3225.2813,694.7949 3225.5469,695.0293 Q3225.8125,695.2637 3225.8125,695.6543 Q3225.8125,696.0293 3225.5469,696.2637 Q3225.2813,696.498 3224.6719,696.498 L3219.5313,696.498 Q3218.9219,696.498 3218.6563,696.2637 Q3218.3906,696.0293 3218.3906,695.6387 Q3218.3906,695.2637 3218.6563,695.0293 Q3218.9219,694.7949 3219.5313,694.7949 L3221.25,694.7949 L3221.25,688.1387 L3219.5313,688.1387 Q3218.9219,688.1387 3218.6563,687.9043 Q3218.3906,687.6699 3218.3906,687.2793 Q3218.3906,686.9043 3218.6563,686.6699 Q3218.9219,686.4355 3219.5313,686.4355 L3224.6719,686.4355 Q3225.2813,686.4355 3225.5469,686.6699 Q3225.8125,686.9043 3225.8125,687.2793 Q3225.8125,687.6699 3225.5469,687.9043 Q3225.2813,688.1387 3224.6719,688.1387 L3222.9531,688.1387 Z " fill="#000000"/><ellipse cx="3241" cy="690.998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="195" x="3247" y="697.2949">BasicSignatureVerificationData</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="3208" x2="3444" y1="707.498" y2="707.498"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="3208" x2="3444" y1="715.498" y2="715.498"/></g><!--MD5=[2fc7953a0035a8aa989ea0d75f9f7d1b]
class TraceableSignatureVerificationData--><g id="elem_TraceableSignatureVerificationData"><rect codeLine="313" fill="#FEFECE" height="85.2422" id="TraceableSignatureVerificationData" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="948" x="3480" y="656.998"/><ellipse cx="3831.75" cy="672.998" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M3832.7031,669.6387 L3832.7031,676.2949 L3834.4219,676.2949 Q3835.0313,676.2949 3835.2969,676.5293 Q3835.5625,676.7637 3835.5625,677.1543 Q3835.5625,677.5293 3835.2969,677.7637 Q3835.0313,677.998 3834.4219,677.998 L3829.2813,677.998 Q3828.6719,677.998 3828.4063,677.7637 Q3828.1406,677.5293 3828.1406,677.1387 Q3828.1406,676.7637 3828.4063,676.5293 Q3828.6719,676.2949 3829.2813,676.2949 L3831,676.2949 L3831,669.6387 L3829.2813,669.6387 Q3828.6719,669.6387 3828.4063,669.4043 Q3828.1406,669.1699 3828.1406,668.7793 Q3828.1406,668.4043 3828.4063,668.1699 Q3828.6719,667.9355 3829.2813,667.9355 L3834.4219,667.9355 Q3835.0313,667.9355 3835.2969,668.1699 Q3835.5625,668.4043 3835.5625,668.7793 Q3835.5625,669.1699 3835.2969,669.4043 Q3835.0313,669.6387 3834.4219,669.6387 L3832.7031,669.6387 Z " fill="#000000"/><ellipse cx="3857.25" cy="672.498" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="225" x="3863.25" y="678.7949">TraceableSignatureVerificationData</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="3481" x2="4427" y1="688.998" y2="688.998"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="3481" x2="4427" y1="696.998" y2="696.998"/><ellipse cx="3491" cy="711.8086" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="922" x="3500" y="716.1055">TraceableSignatureVerificationData withSamTraceabilityMode (int offset, boolean isPartialSamSerialNumber, boolean checkSamRevocationStatus)</text><ellipse cx="3491" cy="730.4297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="353" x="3500" y="734.7266">TraceableSignatureVerificationData withoutBusyMode ()</text></g><!--MD5=[27e9236557a0ea65dd842b05562c1db2]
class CommonSecuritySetting--><g id="elem_CommonSecuritySetting"><rect codeLine="317" fill="#FEFECE" height="85.2422" id="CommonSecuritySetting" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="529" x="3016.5" y="2069.498"/><ellipse cx="3087.25" cy="2085.498" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M3088.2031,2082.1387 L3088.2031,2088.7949 L3089.9219,2088.7949 Q3090.5313,2088.7949 3090.7969,2089.0293 Q3091.0625,2089.2637 3091.0625,2089.6543 Q3091.0625,2090.0293 3090.7969,2090.2637 Q3090.5313,2090.498 3089.9219,2090.498 L3084.7813,2090.498 Q3084.1719,2090.498 3083.9063,2090.2637 Q3083.6406,2090.0293 3083.6406,2089.6387 Q3083.6406,2089.2637 3083.9063,2089.0293 Q3084.1719,2088.7949 3084.7813,2088.7949 L3086.5,2088.7949 L3086.5,2082.1387 L3084.7813,2082.1387 Q3084.1719,2082.1387 3083.9063,2081.9043 Q3083.6406,2081.6699 3083.6406,2081.2793 Q3083.6406,2080.9043 3083.9063,2080.6699 Q3084.1719,2080.4355 3084.7813,2080.4355 L3089.9219,2080.4355 Q3090.5313,2080.4355 3090.7969,2080.6699 Q3091.0625,2080.9043 3091.0625,2081.2793 Q3091.0625,2081.6699 3090.7969,2081.9043 Q3090.5313,2082.1387 3089.9219,2082.1387 L3088.2031,2082.1387 Z " fill="#000000"/><ellipse cx="3112.75" cy="2084.998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="151" x="3118.75" y="2091.2949">CommonSecuritySetting</text><rect fill="#FFFFFF" height="17.9609" style="stroke:#D4AC0D;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="215" x="3333.5" y="2066.498"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="213" x="3334.5" y="2080.4473">S extends CommonSecuritySetting&lt;S&gt;</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="3017.5" x2="3544.5" y1="2101.498" y2="2101.498"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="3017.5" x2="3544.5" y1="2109.498" y2="2109.498"/><ellipse cx="3027.5" cy="2124.3086" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176" x="3036.5" y="2128.6055">S setControlSamResource (</text><text fill="#000000" filter="url(#bc1sglkqjo3800)" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="3212.5" y="2128.6055">CardReader</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="245" x="3294.5" y="2128.6055">samReader, CalypsoSam calypsoSam)</text><ellipse cx="3027.5" cy="2142.9297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="427" x="3036.5" y="2147.2266">S setSamRevocationServiceSpi (SamRevocationServiceSpi service)</text></g><!--MD5=[92be3b4089a2693ac3db71f8eb03f488]
class CardTransactionManager--><g id="elem_CardTransactionManager"><rect codeLine="322" fill="#FEFECE" height="2484.7422" id="CardTransactionManager" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="913" x="1618.5" y="869.498"/><ellipse cx="1983.75" cy="885.498" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1984.7031,882.1387 L1984.7031,888.7949 L1986.4219,888.7949 Q1987.0313,888.7949 1987.2969,889.0293 Q1987.5625,889.2637 1987.5625,889.6543 Q1987.5625,890.0293 1987.2969,890.2637 Q1987.0313,890.498 1986.4219,890.498 L1981.2813,890.498 Q1980.6719,890.498 1980.4063,890.2637 Q1980.1406,890.0293 1980.1406,889.6387 Q1980.1406,889.2637 1980.4063,889.0293 Q1980.6719,888.7949 1981.2813,888.7949 L1983,888.7949 L1983,882.1387 L1981.2813,882.1387 Q1980.6719,882.1387 1980.4063,881.9043 Q1980.1406,881.6699 1980.1406,881.2793 Q1980.1406,880.9043 1980.4063,880.6699 Q1980.6719,880.4355 1981.2813,880.4355 L1986.4219,880.4355 Q1987.0313,880.4355 1987.2969,880.6699 Q1987.5625,880.9043 1987.5625,881.2793 Q1987.5625,881.6699 1987.2969,881.9043 Q1987.0313,882.1387 1986.4219,882.1387 L1984.7031,882.1387 Z " fill="#000000"/><ellipse cx="2009.25" cy="884.998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="163" x="2015.25" y="891.2949">CardTransactionManager</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1619.5" x2="2530.5" y1="901.498" y2="901.498"/><ellipse cx="1629.5" cy="916.3086" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" filter="url(#bc1sglkqjo3800)" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="78" x="1638.5" y="920.6055">CardReader</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="112" x="1720.5" y="920.6055">getCardReader ()</text><ellipse cx="1629.5" cy="934.9297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="202" x="1638.5" y="939.2266">CalypsoCard getCalypsoCard ()</text><ellipse cx="1629.5" cy="953.5508" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="290" x="1638.5" y="957.8477">CardSecuritySetting getCardSecuritySetting ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="976.4688"> </text><ellipse cx="1629.5" cy="990.793" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="345" x="1638.5" y="995.0898">CardTransactionManager prepareSelectFile (byte[] lid)</text><ellipse cx="1629.5" cy="1009.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="342" x="1638.5" y="1013.7109">CardTransactionManager prepareSelectFile (short lid)</text><ellipse cx="1629.5" cy="1028.0352" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="510" x="1638.5" y="1032.332">CardTransactionManager prepareSelectFile (SelectFileControl selectFileControl)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="1050.9531"> </text><ellipse cx="1629.5" cy="1065.2773" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="385" x="1638.5" y="1069.5742">CardTransactionManager prepareGetData (GetDataTag tag)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="1088.1953"> </text><ellipse cx="1629.5" cy="1102.5195" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="495" x="1638.5" y="1106.8164">CardTransactionManager prepareReadRecordFile (byte sfi, int recordNumber)</text><ellipse cx="1629.5" cy="1121.1406" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="760" x="1638.5" y="1125.4375">CardTransactionManager prepareReadRecordFile (byte sfi, int firstRecordNumber, int numberOfRecords, int recordSize)</text><ellipse cx="1629.5" cy="1139.7617" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="514" x="1638.5" y="1144.0586">CardTransactionManager prepareReadCounterFile (byte sfi, int countersNumber)</text><ellipse cx="1629.5" cy="1158.3828" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="472" x="1638.5" y="1162.6797">CardTransactionManager prepareReadRecord (byte sfi, int recordNumber)</text><ellipse cx="1629.5" cy="1177.0039" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="740" x="1638.5" y="1181.3008">CardTransactionManager prepareReadRecords (byte sfi, int fromRecordNumber, int toRecordNumber, int recordSize)</text><ellipse cx="1629.5" cy="1195.625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="887" x="1638.5" y="1199.9219">CardTransactionManager prepareReadRecordsPartially (byte sfi, int fromRecordNumber, int toRecordNumber, int offset, int nbBytesToRead)</text><ellipse cx="1629.5" cy="1214.2461" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="540" x="1638.5" y="1218.543">CardTransactionManager prepareReadBinary (byte sfi, int offset, int nbBytesToRead)</text><ellipse cx="1629.5" cy="1232.8672" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="512" x="1638.5" y="1237.1641">CardTransactionManager prepareReadCounter (byte sfi, int nbCountersToRead)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="1255.7852"> </text><ellipse cx="1629.5" cy="1270.1094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="499" x="1638.5" y="1274.4063">CardTransactionManager prepareSearchRecords (SearchCommandData data)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="1293.0273"> </text><ellipse cx="1629.5" cy="1307.3516" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="330" x="1638.5" y="1311.6484">CardTransactionManager prepareCheckPinStatus ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="1330.2695"> </text><ellipse cx="1629.5" cy="1344.5938" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="488" x="1638.5" y="1348.8906">CardTransactionManager prepareAppendRecord (byte sfi, byte[] recordData)</text><ellipse cx="1629.5" cy="1363.2148" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="601" x="1638.5" y="1367.5117">CardTransactionManager prepareUpdateRecord (byte sfi, int recordNumber, byte[] recordData)</text><ellipse cx="1629.5" cy="1381.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="589" x="1638.5" y="1386.1328">CardTransactionManager prepareWriteRecord (byte sfi, int recordNumber, byte[] recordData)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="1404.7539"> </text><ellipse cx="1629.5" cy="1419.0781" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="497" x="1638.5" y="1423.375">CardTransactionManager prepareUpdateBinary (byte sfi, int offset, byte[] data)</text><ellipse cx="1629.5" cy="1437.6992" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="485" x="1638.5" y="1441.9961">CardTransactionManager prepareWriteBinary (byte sfi, int offset, byte[] data)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="1460.6172"> </text><ellipse cx="1629.5" cy="1474.9414" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="585" x="1638.5" y="1479.2383">CardTransactionManager prepareIncreaseCounter (byte sfi, int counterNumber, int incValue)</text><ellipse cx="1629.5" cy="1493.5625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="729" x="1638.5" y="1497.8594">CardTransactionManager prepareIncreaseCounters(byte sfi, Map&lt;Integer, Integer&gt; counterNumberToIncValueMap)</text><ellipse cx="1629.5" cy="1512.1836" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="597" x="1638.5" y="1516.4805">CardTransactionManager prepareDecreaseCounter (byte sfi, int counterNumber, int decValue)</text><ellipse cx="1629.5" cy="1530.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="743" x="1638.5" y="1535.1016">CardTransactionManager prepareDecreaseCounters(byte sfi, Map&lt;Integer, Integer&gt; counterNumberToDecValueMap)</text><ellipse cx="1629.5" cy="1549.4258" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="559" x="1638.5" y="1553.7227">CardTransactionManager prepareSetCounter (byte sfi, int counterNumber, int newValue)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="1572.3438"> </text><ellipse cx="1629.5" cy="1586.668" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="549" x="1638.5" y="1590.9648">CardTransactionManager prepareSvGet (SvOperation svOperation, SvAction svAction)</text><ellipse cx="1629.5" cy="1605.2891" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="577" x="1638.5" y="1609.5859">CardTransactionManager prepareSvReload (int amount, byte[] date, byte[] time, byte[] free)</text><ellipse cx="1629.5" cy="1623.9102" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="357" x="1638.5" y="1628.207">CardTransactionManager prepareSvReload (int amount)</text><ellipse cx="1629.5" cy="1642.5313" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="493" x="1638.5" y="1646.8281">CardTransactionManager prepareSvDebit (int amount, byte[] date, byte[] time)</text><ellipse cx="1629.5" cy="1661.1523" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="345" x="1638.5" y="1665.4492">CardTransactionManager prepareSvDebit (int amount)</text><ellipse cx="1629.5" cy="1679.7734" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="326" x="1638.5" y="1684.0703">CardTransactionManager prepareSvReadAllLogs ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="1702.6914"> </text><ellipse cx="1629.5" cy="1717.0156" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="290" x="1638.5" y="1721.3125">CardTransactionManager prepareInvalidate ()</text><ellipse cx="1629.5" cy="1735.6367" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="305" x="1638.5" y="1739.9336">CardTransactionManager prepareRehabilitate ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="1758.5547"> </text><ellipse cx="1629.5" cy="1772.8789" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="394" x="1638.5" y="1777.1758">CardTransactionManager prepareEarlyMutualAuthentication ()</text><ellipse cx="1629.5" cy="1791.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="347" x="1638.5" y="1795.7969">CardTransactionManager prepareActivateEncryption ()</text><ellipse cx="1629.5" cy="1810.1211" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="364" x="1638.5" y="1814.418">CardTransactionManager prepareDeactivateEncryption ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="1833.0391"> </text><ellipse cx="1629.5" cy="1847.3633" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="366" x="1638.5" y="1851.6602">CardTransactionManager prepareReleaseCardChannel ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="1870.2813"> </text><ellipse cx="1629.5" cy="1884.6055" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="332" x="1638.5" y="1888.9023">CardTransactionManager processCardCommands ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="1907.5234"> </text><ellipse cx="1629.5" cy="1921.8477" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="344" x="1638.5" y="1926.1445">CardTransactionManager processVerifyPin (byte[] pin)</text><ellipse cx="1629.5" cy="1940.4688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="384" x="1638.5" y="1944.7656">CardTransactionManager processChangePin (byte[] newPin)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="1963.3867"> </text><ellipse cx="1629.5" cy="1977.7109" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="738" x="1638.5" y="1982.0078">CardTransactionManager processChangeKey (int keyIndex, byte newKif, byte newKvc, byte issuerKif, byte issuerKvc)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="2000.6289"> </text><ellipse cx="1629.5" cy="2014.9531" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="508" x="1638.5" y="2019.25">CardTransactionManager processOpening (WriteAccessLevel writeAccessLevel)</text><ellipse cx="1629.5" cy="2033.5742" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="277" x="1638.5" y="2037.8711">CardTransactionManager processClosing ()</text><ellipse cx="1629.5" cy="2052.1953" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="274" x="1638.5" y="2056.4922">CardTransactionManager processCancel ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="2075.1133"> </text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="2116.3555"> </text><ellipse cx="1629.5" cy="2130.6797" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="606" x="1638.5" y="2134.9766">CardTransactionManager processPreOpenSecureSession (WriteAccessLevel writeAccessLevel)</text><ellipse cx="1629.5" cy="2149.3008" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="776" x="1638.5" y="2153.5977">CardTransactionManager processPreOpenSecureSession (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="2172.2188"> </text><ellipse cx="1629.5" cy="2186.543" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="398" x="1638.5" y="2190.8398">CardTransactionManager processPreOpenedSecureSession ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="2209.4609"> </text><ellipse cx="1629.5" cy="2223.7852" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="508" x="1638.5" y="2228.082">CardTransactionManager processOpening (WriteAccessLevel writeAccessLevel)</text><ellipse cx="1629.5" cy="2242.4063" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="678" x="1638.5" y="2246.7031">CardTransactionManager processOpening (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="2265.3242"> </text><line style="stroke:#D4AC0D;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="1619.5" x2="2071" y1="2091.9375" y2="2091.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="8" x="2071" y="2097.2344">1</text><line style="stroke:#D4AC0D;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="2079" x2="2530.5" y1="2091.9375" y2="2091.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="2306.5664"> </text><ellipse cx="1629.5" cy="2320.8906" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="598" x="1638.5" y="2325.1875">CardTransactionManager prepareRemoteSecureSession (WriteAccessLevel writeAccessLevel)</text><ellipse cx="1629.5" cy="2339.5117" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="768" x="1638.5" y="2343.8086">CardTransactionManager prepareRemoteSecureSession (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="2362.4297"> </text><ellipse cx="1629.5" cy="2376.7539" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="374" x="1638.5" y="2381.0508">CardTransactionManager processRemoteSecureSession ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="2399.6719"> </text><ellipse cx="1629.5" cy="2413.9961" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="508" x="1638.5" y="2418.293">CardTransactionManager processOpening (WriteAccessLevel writeAccessLevel)</text><ellipse cx="1629.5" cy="2432.6172" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="678" x="1638.5" y="2436.9141">CardTransactionManager processOpening (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="2455.5352"> </text><line style="stroke:#D4AC0D;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="1619.5" x2="2060" y1="2282.1484" y2="2282.1484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="2060" y="2287.4453">1 bis</text><line style="stroke:#D4AC0D;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="2090" x2="2530.5" y1="2282.1484" y2="2282.1484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="2496.7773"> </text><ellipse cx="1629.5" cy="2511.1016" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="670" x="1638.5" y="2515.3984">CardTransactionManager prepareStandaloneRemoteSecureSession (WriteAccessLevel writeAccessLevel)</text><ellipse cx="1629.5" cy="2529.7227" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="840" x="1638.5" y="2534.0195">CardTransactionManager prepareStandaloneRemoteSecureSession (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="2552.6406"> </text><ellipse cx="1629.5" cy="2566.9648" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="397" x="1638.5" y="2571.2617">CardTransactionManager processStandaloneSecureSession ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="2589.8828"> </text><ellipse cx="1629.5" cy="2604.207" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="508" x="1638.5" y="2608.5039">CardTransactionManager processOpening (WriteAccessLevel writeAccessLevel)</text><ellipse cx="1629.5" cy="2622.8281" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="678" x="1638.5" y="2627.125">CardTransactionManager processOpening (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="2645.7461"> </text><line style="stroke:#D4AC0D;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="1619.5" x2="2060.5" y1="2472.3594" y2="2472.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="2060.5" y="2477.6563">1 ter</text><line style="stroke:#D4AC0D;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="2089.5" x2="2530.5" y1="2472.3594" y2="2472.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="2686.9883"> </text><ellipse cx="1629.5" cy="2701.3125" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="530" x="1638.5" y="2705.6094">CardTransactionManager processPreOpening (WriteAccessLevel writeAccessLevel)</text><ellipse cx="1629.5" cy="2719.9336" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="700" x="1638.5" y="2724.2305">CardTransactionManager processPreOpening (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="2742.8516"> </text><ellipse cx="1629.5" cy="2757.1758" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="508" x="1638.5" y="2761.4727">CardTransactionManager processOpening (WriteAccessLevel writeAccessLevel)</text><ellipse cx="1629.5" cy="2775.7969" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="678" x="1638.5" y="2780.0938">CardTransactionManager processOpening (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="2798.7148"> </text><ellipse cx="1629.5" cy="2813.0391" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="277" x="1638.5" y="2817.3359">CardTransactionManager processClosing ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="2835.957"> </text><line style="stroke:#D4AC0D;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="1619.5" x2="2071" y1="2662.5703" y2="2662.5703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="8" x="2071" y="2667.8672">2</text><line style="stroke:#D4AC0D;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="2079" x2="2530.5" y1="2662.5703" y2="2662.5703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="2877.1992"> </text><ellipse cx="1629.5" cy="2891.5234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="606" x="1638.5" y="2895.8203">CardTransactionManager processPreOpenSecureSession (WriteAccessLevel writeAccessLevel)</text><ellipse cx="1629.5" cy="2910.1445" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="776" x="1638.5" y="2914.4414">CardTransactionManager processPreOpenSecureSession (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="2933.0625"> </text><ellipse cx="1629.5" cy="2947.3867" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="584" x="1638.5" y="2951.6836">CardTransactionManager prepareOpenSecureSession (WriteAccessLevel writeAccessLevel)</text><ellipse cx="1629.5" cy="2966.0078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="754" x="1638.5" y="2970.3047">CardTransactionManager prepareOpenSecureSession (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="2988.9258"> </text><ellipse cx="1629.5" cy="3003.25" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="361" x="1638.5" y="3007.5469">CardTransactionManager prepareCloseSecureSession ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="3026.168"> </text><ellipse cx="1629.5" cy="3040.4922" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="369" x="1638.5" y="3044.7891">CardTransactionManager processCancelSecureSession ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="3063.4102"> </text><ellipse cx="1629.5" cy="3077.7344" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="301" x="1638.5" y="3082.0313">CardTransactionManager processCommands ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="3100.6523"> </text><line style="stroke:#D4AC0D;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="1619.5" x2="2071" y1="2852.7813" y2="2852.7813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="8" x="2071" y="2858.0781">3</text><line style="stroke:#D4AC0D;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="2079" x2="2530.5" y1="2852.7813" y2="2852.7813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="3141.8945"> </text><ellipse cx="1629.5" cy="3156.2188" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="606" x="1638.5" y="3160.5156">CardTransactionManager processPreOpenSecureSession (WriteAccessLevel writeAccessLevel)</text><ellipse cx="1629.5" cy="3174.8398" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="776" x="1638.5" y="3179.1367">CardTransactionManager processPreOpenSecureSession (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="3197.7578"> </text><ellipse cx="1629.5" cy="3212.082" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="584" x="1638.5" y="3216.3789">CardTransactionManager prepareOpenSecureSession (WriteAccessLevel writeAccessLevel)</text><ellipse cx="1629.5" cy="3230.7031" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="754" x="1638.5" y="3235">CardTransactionManager prepareOpenSecureSession (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="3253.6211"> </text><ellipse cx="1629.5" cy="3267.9453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="361" x="1638.5" y="3272.2422">CardTransactionManager processCloseSecureSession ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="3290.8633"> </text><ellipse cx="1629.5" cy="3305.1875" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="369" x="1638.5" y="3309.4844">CardTransactionManager processCancelSecureSession ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1638.5" y="3328.1055"> </text><ellipse cx="1629.5" cy="3342.4297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="301" x="1638.5" y="3346.7266">CardTransactionManager processCommands ()</text><line style="stroke:#D4AC0D;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="1619.5" x2="2060" y1="3117.4766" y2="3117.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="2060" y="3122.7734">3 bis</text><line style="stroke:#D4AC0D;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="2090" x2="2530.5" y1="3117.4766" y2="3117.4766"/></g><!--MD5=[80899d8261aafdb2d3733adc7bf0e757]
class SvOperation--><g id="elem_SvOperation"><rect codeLine="454" fill="#FEFECE" height="85.2422" id="SvOperation" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="122" x="2103" y="3573.498"/><ellipse cx="2118" cy="3589.498" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M2116.8594,3590.2949 L2116.8594,3592.7949 L2121.1875,3592.7949 L2121.1875,3591.873 Q2121.1875,3591.2637 2121.4219,3590.998 Q2121.6719,3590.7324 2122.0469,3590.7324 Q2122.4219,3590.7324 2122.6563,3590.998 Q2122.8906,3591.2637 2122.8906,3591.873 L2122.8906,3594.498 L2114.8906,3594.498 Q2114.2656,3594.498 2114,3594.2637 Q2113.75,3594.0293 2113.75,3593.6387 Q2113.75,3593.2637 2114.0156,3593.0293 Q2114.2813,3592.7949 2114.8906,3592.7949 L2115.1563,3592.7949 L2115.1563,3586.1387 L2114.8906,3586.1387 Q2114.2656,3586.1387 2114,3585.9043 Q2113.75,3585.6699 2113.75,3585.2793 Q2113.75,3584.9043 2114,3584.6699 Q2114.2656,3584.4355 2114.8906,3584.4355 L2122.5156,3584.4355 L2122.5156,3587.0293 Q2122.5156,3587.6387 2122.2813,3587.9043 Q2122.0625,3588.1543 2121.6719,3588.1543 Q2121.2969,3588.1543 2121.0625,3587.9043 Q2120.8281,3587.6387 2120.8281,3587.0293 L2120.8281,3586.1387 L2116.8594,3586.1387 L2116.8594,3588.5918 L2118.3438,3588.5918 Q2118.3438,3587.9355 2118.4688,3587.748 Q2118.7344,3587.3418 2119.2031,3587.3418 Q2119.5781,3587.3418 2119.8125,3587.6074 Q2120.0469,3587.8574 2120.0469,3588.4668 L2120.0469,3590.4355 Q2120.0469,3590.9824 2119.9219,3591.1699 Q2119.6563,3591.5605 2119.2031,3591.5605 Q2118.7344,3591.5605 2118.4688,3591.1543 Q2118.3438,3590.9668 2118.3438,3590.2949 L2116.8594,3590.2949 Z " fill="#000000"/><ellipse cx="2137" cy="3588.998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="2143" y="3595.2949">SvOperation</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="2104" x2="2224" y1="3605.498" y2="3605.498"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="2109" y="3624.6055">RELOAD</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="2109" y="3643.2266">DEBIT</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="2104" x2="2224" y1="3650.7402" y2="3650.7402"/></g><!--MD5=[3a20855ad37700d9231151c7156c605b]
class SvAction--><g id="elem_SvAction"><rect codeLine="458" fill="#FEFECE" height="85.2422" id="SvAction" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="98" x="1970" y="3573.498"/><ellipse cx="1985" cy="3589.498" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1983.8594,3590.2949 L1983.8594,3592.7949 L1988.1875,3592.7949 L1988.1875,3591.873 Q1988.1875,3591.2637 1988.4219,3590.998 Q1988.6719,3590.7324 1989.0469,3590.7324 Q1989.4219,3590.7324 1989.6563,3590.998 Q1989.8906,3591.2637 1989.8906,3591.873 L1989.8906,3594.498 L1981.8906,3594.498 Q1981.2656,3594.498 1981,3594.2637 Q1980.75,3594.0293 1980.75,3593.6387 Q1980.75,3593.2637 1981.0156,3593.0293 Q1981.2813,3592.7949 1981.8906,3592.7949 L1982.1563,3592.7949 L1982.1563,3586.1387 L1981.8906,3586.1387 Q1981.2656,3586.1387 1981,3585.9043 Q1980.75,3585.6699 1980.75,3585.2793 Q1980.75,3584.9043 1981,3584.6699 Q1981.2656,3584.4355 1981.8906,3584.4355 L1989.5156,3584.4355 L1989.5156,3587.0293 Q1989.5156,3587.6387 1989.2813,3587.9043 Q1989.0625,3588.1543 1988.6719,3588.1543 Q1988.2969,3588.1543 1988.0625,3587.9043 Q1987.8281,3587.6387 1987.8281,3587.0293 L1987.8281,3586.1387 L1983.8594,3586.1387 L1983.8594,3588.5918 L1985.3438,3588.5918 Q1985.3438,3587.9355 1985.4688,3587.748 Q1985.7344,3587.3418 1986.2031,3587.3418 Q1986.5781,3587.3418 1986.8125,3587.6074 Q1987.0469,3587.8574 1987.0469,3588.4668 L1987.0469,3590.4355 Q1987.0469,3590.9824 1986.9219,3591.1699 Q1986.6563,3591.5605 1986.2031,3591.5605 Q1985.7344,3591.5605 1985.4688,3591.1543 Q1985.3438,3590.9668 1985.3438,3590.2949 L1983.8594,3590.2949 Z " fill="#000000"/><ellipse cx="2004" cy="3588.998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="2010" y="3595.2949">SvAction</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1971" x2="2067" y1="3605.498" y2="3605.498"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="21" x="1976" y="3624.6055">DO</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="1976" y="3643.2266">UNDO</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1971" x2="2067" y1="3650.7402" y2="3650.7402"/></g><!--MD5=[902430ab886935d86a17fe3ee56b883e]
class CardSecuritySetting--><g id="elem_CardSecuritySetting"><rect codeLine="462" fill="#FEFECE" height="364.5586" id="CardSecuritySetting" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="600" x="2405" y="3433.498"/><ellipse cx="2632.25" cy="3449.498" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M2633.2031,3446.1387 L2633.2031,3452.7949 L2634.9219,3452.7949 Q2635.5313,3452.7949 2635.7969,3453.0293 Q2636.0625,3453.2637 2636.0625,3453.6543 Q2636.0625,3454.0293 2635.7969,3454.2637 Q2635.5313,3454.498 2634.9219,3454.498 L2629.7813,3454.498 Q2629.1719,3454.498 2628.9063,3454.2637 Q2628.6406,3454.0293 2628.6406,3453.6387 Q2628.6406,3453.2637 2628.9063,3453.0293 Q2629.1719,3452.7949 2629.7813,3452.7949 L2631.5,3452.7949 L2631.5,3446.1387 L2629.7813,3446.1387 Q2629.1719,3446.1387 2628.9063,3445.9043 Q2628.6406,3445.6699 2628.6406,3445.2793 Q2628.6406,3444.9043 2628.9063,3444.6699 Q2629.1719,3444.4355 2629.7813,3444.4355 L2634.9219,3444.4355 Q2635.5313,3444.4355 2635.7969,3444.6699 Q2636.0625,3444.9043 2636.0625,3445.2793 Q2636.0625,3445.6699 2635.7969,3445.9043 Q2635.5313,3446.1387 2634.9219,3446.1387 L2633.2031,3446.1387 Z " fill="#000000"/><ellipse cx="2657.75" cy="3448.998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="126" x="2663.75" y="3455.2949">CardSecuritySetting</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="2406" x2="3004" y1="3465.498" y2="3465.498"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="2406" x2="3004" y1="3473.498" y2="3473.498"/><ellipse cx="2416" cy="3488.3086" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="247" x="2425" y="3492.6055">CardSecuritySetting setSamResource (</text><text fill="#000000" filter="url(#bc1sglkqjo3800)" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="78" x="2672" y="3492.6055">CardReader</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="245" x="2754" y="3492.6055">samReader, CalypsoSam calypsoSam)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="2425" y="3511.2266"> </text><ellipse cx="2416" cy="3525.5508" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="285" x="2425" y="3529.8477">CardSecuritySetting enableMultipleSession ()</text><ellipse cx="2416" cy="3544.1719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="328" x="2425" y="3548.4688">CardSecuritySetting enableRatificationMechanism ()</text><ellipse cx="2416" cy="3562.793" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="322" x="2425" y="3567.0898">CardSecuritySetting enablePinPlainTransmission ()</text><ellipse cx="2416" cy="3581.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="317" x="2425" y="3585.7109">CardSecuritySetting enableSvLoadAndDebitLog ()</text><ellipse cx="2416" cy="3600.0352" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="324" x="2425" y="3604.332">CardSecuritySetting authorizeSvNegativeBalance ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="2425" y="3622.9531"> </text><ellipse cx="2416" cy="3637.2773" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="538" x="2425" y="3641.5742">CardSecuritySetting assignKif (WriteAccessLevel writeAccessLevel, byte kvc, byte kif)</text><ellipse cx="2416" cy="3655.8984" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="523" x="2425" y="3660.1953">CardSecuritySetting assignDefaultKif (WriteAccessLevel writeAccessLevel, byte kif)</text><ellipse cx="2416" cy="3674.5195" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="537" x="2425" y="3678.8164">CardSecuritySetting assignDefaultKvc (WriteAccessLevel writeAccessLevel, byte kvc)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="2425" y="3697.4375"> </text><ellipse cx="2416" cy="3711.7617" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="414" x="2425" y="3716.0586">CardSecuritySetting addAuthorizedSessionKey (byte kif, byte kvc)</text><ellipse cx="2416" cy="3730.3828" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="380" x="2425" y="3734.6797">CardSecuritySetting addAuthorizedSvKey (byte kif, byte kvc)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="2425" y="3753.3008"> </text><ellipse cx="2416" cy="3767.625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="443" x="2425" y="3771.9219">CardSecuritySetting setPinVerificationCipheringKey (byte kif, byte kvc)</text><ellipse cx="2416" cy="3786.2461" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="448" x="2425" y="3790.543">CardSecuritySetting setPinModificationCipheringKey (byte kif, byte kvc)</text></g><!--MD5=[70eb8dcb3e9c6b66ae7b5ebbb5f4f3e9]
class SearchCommandData--><g id="elem_SearchCommandData"><rect codeLine="481" fill="#FEFECE" height="215.5898" id="SearchCommandData" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="379" x="2602.5" y="2003.998"/><ellipse cx="2712.75" cy="2019.998" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M2713.7031,2016.6387 L2713.7031,2023.2949 L2715.4219,2023.2949 Q2716.0313,2023.2949 2716.2969,2023.5293 Q2716.5625,2023.7637 2716.5625,2024.1543 Q2716.5625,2024.5293 2716.2969,2024.7637 Q2716.0313,2024.998 2715.4219,2024.998 L2710.2813,2024.998 Q2709.6719,2024.998 2709.4063,2024.7637 Q2709.1406,2024.5293 2709.1406,2024.1387 Q2709.1406,2023.7637 2709.4063,2023.5293 Q2709.6719,2023.2949 2710.2813,2023.2949 L2712,2023.2949 L2712,2016.6387 L2710.2813,2016.6387 Q2709.6719,2016.6387 2709.4063,2016.4043 Q2709.1406,2016.1699 2709.1406,2015.7793 Q2709.1406,2015.4043 2709.4063,2015.1699 Q2709.6719,2014.9355 2710.2813,2014.9355 L2715.4219,2014.9355 Q2716.0313,2014.9355 2716.2969,2015.1699 Q2716.5625,2015.4043 2716.5625,2015.7793 Q2716.5625,2016.1699 2716.2969,2016.4043 Q2716.0313,2016.6387 2715.4219,2016.6387 L2713.7031,2016.6387 Z " fill="#000000"/><ellipse cx="2738.25" cy="2019.498" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="139" x="2744.25" y="2025.7949">SearchCommandData</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="2603.5" x2="2980.5" y1="2035.998" y2="2035.998"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="2603.5" x2="2980.5" y1="2043.998" y2="2043.998"/><ellipse cx="2613.5" cy="2058.8086" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="237" x="2622.5" y="2063.1055">SearchCommandData setSfi (byte sfi)</text><ellipse cx="2613.5" cy="2077.4297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="353" x="2622.5" y="2081.7266">SearchCommandData startAtRecord (int recordNumber)</text><ellipse cx="2613.5" cy="2096.0508" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="268" x="2622.5" y="2100.3477">SearchCommandData setOffset (int offset)</text><ellipse cx="2613.5" cy="2114.6719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="300" x="2622.5" y="2118.9688">SearchCommandData enableRepeatedOffset ()</text><ellipse cx="2613.5" cy="2133.293" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="318" x="2622.5" y="2137.5898">SearchCommandData setSearchData (byte[] data)</text><ellipse cx="2613.5" cy="2151.9141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="281" x="2622.5" y="2156.2109">SearchCommandData setMask (byte[] mask)</text><ellipse cx="2613.5" cy="2170.5352" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="313" x="2622.5" y="2174.832">SearchCommandData fetchFirstMatchingResult ()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="2622.5" y="2193.4531"> </text><ellipse cx="2613.5" cy="2207.7773" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="279" x="2622.5" y="2212.0742">List&lt;Integer&gt; getMatchingRecordNumbers ()</text></g><!--MD5=[693a13ab3a6cdba6037243dfcb574254]
class SamTransactionManager--><g id="elem_SamTransactionManager"><rect codeLine="493" fill="#FEFECE" height="85.2422" id="SamTransactionManager" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="222" x="3581" y="2069.498"/><ellipse cx="3604.55" cy="2085.498" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M3605.5031,2082.1387 L3605.5031,2088.7949 L3607.2219,2088.7949 Q3607.8313,2088.7949 3608.0969,2089.0293 Q3608.3625,2089.2637 3608.3625,2089.6543 Q3608.3625,2090.0293 3608.0969,2090.2637 Q3607.8313,2090.498 3607.2219,2090.498 L3602.0813,2090.498 Q3601.4719,2090.498 3601.2063,2090.2637 Q3600.9406,2090.0293 3600.9406,2089.6387 Q3600.9406,2089.2637 3601.2063,2089.0293 Q3601.4719,2088.7949 3602.0813,2088.7949 L3603.8,2088.7949 L3603.8,2082.1387 L3602.0813,2082.1387 Q3601.4719,2082.1387 3601.2063,2081.9043 Q3600.9406,2081.6699 3600.9406,2081.2793 Q3600.9406,2080.9043 3601.2063,2080.6699 Q3601.4719,2080.4355 3602.0813,2080.4355 L3607.2219,2080.4355 Q3607.8313,2080.4355 3608.0969,2080.6699 Q3608.3625,2080.9043 3608.3625,2081.2793 Q3608.3625,2081.6699 3608.0969,2081.9043 Q3607.8313,2082.1387 3607.2219,2082.1387 L3605.5031,2082.1387 Z " fill="#000000"/><ellipse cx="3625.45" cy="2084.998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" text-decoration="line-through" textLength="160" x="3631.45" y="2091.2949">SamTransactionManager</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="3582" x2="3802" y1="2101.498" y2="2101.498"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="3582" x2="3802" y1="2109.498" y2="2109.498"/><ellipse cx="3592" cy="2124.3086" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" filter="url(#bc1sglkqjo3800)" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="78" x="3601" y="2128.6055">CardReader</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="109" x="3683" y="2128.6055">getSamReader ()</text><ellipse cx="3592" cy="2142.9297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="line-through" textLength="196" x="3601" y="2147.2266">CalypsoSam getCalypsoSam ()</text></g><!--MD5=[7540f2bc197295eea372683d3e802e43]
class SamSecuritySetting--><g id="elem_SamSecuritySetting"><rect codeLine="497" fill="#FEFECE" height="48" id="SamSecuritySetting" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="166" x="3112" y="3591.998"/><ellipse cx="3127" cy="3607.998" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M3127.9531,3604.6387 L3127.9531,3611.2949 L3129.6719,3611.2949 Q3130.2813,3611.2949 3130.5469,3611.5293 Q3130.8125,3611.7637 3130.8125,3612.1543 Q3130.8125,3612.5293 3130.5469,3612.7637 Q3130.2813,3612.998 3129.6719,3612.998 L3124.5313,3612.998 Q3123.9219,3612.998 3123.6563,3612.7637 Q3123.3906,3612.5293 3123.3906,3612.1387 Q3123.3906,3611.7637 3123.6563,3611.5293 Q3123.9219,3611.2949 3124.5313,3611.2949 L3126.25,3611.2949 L3126.25,3604.6387 L3124.5313,3604.6387 Q3123.9219,3604.6387 3123.6563,3604.4043 Q3123.3906,3604.1699 3123.3906,3603.7793 Q3123.3906,3603.4043 3123.6563,3603.1699 Q3123.9219,3602.9355 3124.5313,3602.9355 L3129.6719,3602.9355 Q3130.2813,3602.9355 3130.5469,3603.1699 Q3130.8125,3603.4043 3130.8125,3603.7793 Q3130.8125,3604.1699 3130.5469,3604.4043 Q3130.2813,3604.6387 3129.6719,3604.6387 L3127.9531,3604.6387 Z " fill="#000000"/><ellipse cx="3146" cy="3607.498" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" text-decoration="line-through" textLength="123" x="3152" y="3613.7949">SamSecuritySetting</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="3113" x2="3277" y1="3623.998" y2="3623.998"/><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="3113" x2="3277" y1="3631.998" y2="3631.998"/></g><!--MD5=[5c6c7d52e42032554528404b62c1d271]
class RuntimeException--><g id="elem_RuntimeException"><rect codeLine="500" fill="#FEFECE" height="290.0742" id="RuntimeException" rx="2.5" ry="2.5" style="stroke:#D4AC0D;stroke-width:2.0;" width="837" x="1618.5" y="239.498"/><ellipse cx="1962.75" cy="255.498" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1965.5156,251.373 Q1965.6719,251.1543 1965.8594,251.0449 Q1966.0469,250.9355 1966.2656,250.9355 Q1966.6406,250.9355 1966.875,251.2012 Q1967.1094,251.4512 1967.1094,252.0605 L1967.1094,253.5137 Q1967.1094,254.123 1966.875,254.3887 Q1966.6406,254.6543 1966.2656,254.6543 Q1965.9219,254.6543 1965.7188,254.4512 Q1965.5156,254.2637 1965.4063,253.748 Q1965.3594,253.3887 1965.1719,253.2012 Q1964.8438,252.8262 1964.2344,252.6074 Q1963.625,252.3887 1963,252.3887 Q1962.2344,252.3887 1961.5938,252.7168 Q1960.9688,253.0449 1960.4688,253.7949 Q1959.9844,254.5449 1959.9844,255.5762 L1959.9844,256.6699 Q1959.9844,257.9043 1960.875,258.7324 Q1961.7656,259.5449 1963.3594,259.5449 Q1964.2969,259.5449 1964.9531,259.2949 Q1965.3438,259.1387 1965.7656,258.7012 Q1966.0313,258.4355 1966.1719,258.3574 Q1966.3281,258.2793 1966.5313,258.2793 Q1966.8594,258.2793 1967.1094,258.5449 Q1967.375,258.7949 1967.375,259.1387 Q1967.375,259.4824 1967.0313,259.8887 Q1966.5313,260.4668 1965.7344,260.7949 Q1964.6563,261.248 1963.3594,261.248 Q1961.8438,261.248 1960.6406,260.623 Q1959.6563,260.123 1958.9688,259.0605 Q1958.2813,257.9824 1958.2813,256.7012 L1958.2813,255.5449 Q1958.2813,254.2168 1958.8906,253.0762 Q1959.5156,251.9199 1960.6094,251.3105 Q1961.7031,250.6855 1962.9375,250.6855 Q1963.6719,250.6855 1964.3125,250.8574 Q1964.9688,251.0137 1965.5156,251.373 Z " fill="#000000"/><ellipse cx="1988.25" cy="254.998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="1994.25" y="261.2949">«RuntimeException»</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1619.5" x2="2454.5" y1="271.498" y2="271.498"/><ellipse cx="1629.5" cy="286.3086" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="234" x="1638.5" y="290.6055">SessionBufferOverflowException</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="317" x="1872.5" y="290.6055">: Session buffer would overflow for atomic session.</text><ellipse cx="1629.5" cy="304.9297" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="190" x="1638.5" y="309.2266">UnauthorizedKeyException</text><ellipse cx="1629.5" cy="323.5508" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="166" x="1638.5" y="327.8477">CardRevokedException</text><ellipse cx="1629.5" cy="342.1719" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="162" x="1638.5" y="346.4688">SamRevokedException</text><ellipse cx="1629.5" cy="360.793" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="188" x="1638.5" y="365.0898">InconsistentDataException</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="284" x="1826.5" y="365.0898">: Number of R-APDUs != number of C-APDUs</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="15" x="2114.5" y="365.0898">or</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="316" x="2133.5" y="365.0898">data read in session != data read outside session.</text><ellipse cx="1629.5" cy="379.4141" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="185" x="1638.5" y="383.7109">InvalidSignatureException</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="266" x="1823.5" y="383.7109">: R-APDU of PSO Verify Signature = 6988.</text><ellipse cx="1629.5" cy="398.0352" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="218" x="1638.5" y="402.332">InvalidCardSignatureException</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="247" x="1856.5" y="402.332">: R-APDU of DigestAuthenticate = 6988</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="15" x="2107.5" y="402.332">or</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180" x="2126.5" y="402.332">R-APDU of SvCheck = 6988.</text><ellipse cx="1629.5" cy="416.6563" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="262" x="1638.5" y="420.9531">CardSignatureNotVerifiableException</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="450" x="1900.5" y="420.9531">: R-APDU of CloseSecureSession = 9000 but SAM is no more available.</text><ellipse cx="1629.5" cy="435.2773" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="140" x="1638.5" y="439.5742">SelectFileException</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="195" x="1778.5" y="439.5742">: R-APDU of SelectFile = 6A82.</text><ellipse cx="1629.5" cy="453.8984" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="268" x="1638.5" y="458.1953">UnexpectedCommandStatusException</text><ellipse cx="1629.5" cy="472.5195" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="136" x="1638.5" y="476.8164">ReaderIOException</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="373" x="1774.5" y="476.8164">: Card reader and/or SAM reader communication is broken.</text><ellipse cx="1629.5" cy="491.1406" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="118" x="1638.5" y="495.4375">CardIOException</text><ellipse cx="1629.5" cy="509.7617" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="114" x="1638.5" y="514.0586">SamIOException</text><line style="stroke:#D4AC0D;stroke-width:2.0;" x1="1619.5" x2="2454.5" y1="521.5723" y2="521.5723"/></g><!--MD5=[007eb89bfb10701b962958f5b6fc0ebb]
reverse link CommonSignatureComputationData to BasicSignatureComputationData--><g id="link_CommonSignatureComputationData_BasicSignatureComputationData"><path d="M2629.17,464.398 C2581.11,488.798 2525.93,513.458 2473,529.498 C2219.81,606.238 2131.47,517.628 1883,608.498 C1840.32,624.108 1797.13,654.268 1770,675.358 " fill="none" id="CommonSignatureComputationData-backto-BasicSignatureComputationData" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="none" points="2626.24,458.038,2647.22,455.078,2632.66,470.478,2626.24,458.038" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[f429252bb447dd4a1aa4e00c09503393]
reverse link CommonSignatureComputationData to TraceableSignatureComputationData--><g id="link_CommonSignatureComputationData_TraceableSignatureComputationData"><path d="M2638.62,465.858 C2552.73,519.628 2441.51,589.258 2363.2,638.278 " fill="none" id="CommonSignatureComputationData-backto-TraceableSignatureComputationData" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="none" points="2635.06,459.838,2655.72,455.158,2642.49,471.698,2635.06,459.838" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[e2b6e3fe5a6a0a5bd0ef8dd67224f7af]
reverse link CommonSignatureVerificationData to BasicSignatureVerificationData--><g id="link_CommonSignatureVerificationData_BasicSignatureVerificationData"><path d="M3340.11,466.048 C3335.89,535.598 3330.06,631.568 3327.41,675.208 " fill="none" id="CommonSignatureVerificationData-backto-BasicSignatureVerificationData" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="none" points="3333.14,465.388,3341.34,445.848,3347.11,466.238,3333.14,465.388" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[e31b41de38b178ddac6d238f38182a2b]
reverse link CommonSignatureVerificationData to TraceableSignatureVerificationData--><g id="link_CommonSignatureVerificationData_TraceableSignatureVerificationData"><path d="M3480.17,454.968 C3600.5,516.818 3772.56,605.248 3872.83,656.778 " fill="none" id="CommonSignatureVerificationData-backto-TraceableSignatureVerificationData" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="none" points="3476.65,461.028,3462.06,445.658,3483.05,448.578,3476.65,461.028" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[d266e6b41118882c59f402da525b718d]
reverse link CommonTransactionManager to CardTransactionManager--><g id="link_CommonTransactionManager_CardTransactionManager"><path d="M2669.13,801.208 C2638.28,820.708 2609.17,843.378 2585,869.498 C2566.6,889.378 2548.82,910.018 2531.64,931.298 " fill="none" id="CommonTransactionManager-backto-CardTransactionManager" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="none" points="2665.69,795.108,2686.42,790.698,2672.96,807.068,2665.69,795.108" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[1db9f822c507b05cc334f36bb90751d1]
reverse link CommonSecuritySetting to CardSecuritySetting--><g id="link_CommonSecuritySetting_CardSecuritySetting"><path d="M3280.02,2174.798 C3274.44,2364.728 3237.67,2951.368 2999,3354.498 C2982.58,3382.225 2962.21,3408.592 2939.91,3433.155 " fill="none" id="CommonSecuritySetting-backto-CardSecuritySetting" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="none" points="3273.03,2174.458,3280.54,2154.638,3287.03,2174.818,3273.03,2174.458" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[d797ff1dc764dc8d6ac7a284e740df54]
reverse link CommonTransactionManager to SamTransactionManager--><g id="link_CommonTransactionManager_SamTransactionManager"><path d="M3191.64,790.668 C3360.02,828.648 3453.48,747.878 3563,869.498 C3884.55,1226.588 3745.83,1896.568 3702.96,2069.448 " fill="none" id="CommonTransactionManager-backto-SamTransactionManager" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="none" points="3189.82,797.428,3172.1,785.798,3193.2,783.838,3189.82,797.428" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[bebc41ed0d56af7f5f4768b2ae71c54c]
reverse link CommonSecuritySetting to SamSecuritySetting--><g id="link_CommonSecuritySetting_SamSecuritySetting"><path d="M3277.46,2174.828 C3262.62,2434.058 3205.73,3427.517 3196.32,3591.897 " fill="none" id="CommonSecuritySetting-backto-SamSecuritySetting" style="stroke:#181818;stroke-width:2.0;"/><polygon fill="none" points="3270.48,2174.308,3278.61,2154.738,3284.46,2175.108,3270.48,2174.308" style="stroke:#181818;stroke-width:2.0;"/></g><!--MD5=[5ded3e7aaf9ebe62379fb7295320d623]
reverse link CommonSignatureComputationData to CommonTransactionManager--><g id="link_CommonSignatureComputationData_CommonTransactionManager"><path codeLine="520" d="M2803.37,459.888 C2825.12,504.398 2852.92,561.278 2875.92,608.328 " fill="none" id="CommonSignatureComputationData-backto-CommonTransactionManager" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2801.15,455.348,2801.4964,465.1908,2803.3401,459.8429,2808.6881,461.6866,2801.15,455.348" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="2860.8045,564.6514,2862.1358,574.0683,2867.4167,571.4873,2860.8045,564.6514" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="2872" y="574.5264">use</text></g><!--MD5=[550a62ab3e7fd91fb28d5d25f62b233f]
reverse link CommonSignatureVerificationData to CommonTransactionManager--><g id="link_CommonSignatureVerificationData_CommonTransactionManager"><path codeLine="521" d="M3259.24,448.658 C3196.99,494.498 3111.88,557.188 3042.48,608.298 " fill="none" id="CommonSignatureVerificationData-backto-CommonTransactionManager" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="3263.31,445.658,3253.6927,447.7813,3259.2862,448.626,3258.4414,454.2194,3263.31,445.658" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="3117.026,566.1785,3108.0001,569.1759,3111.4857,573.9087,3117.026,566.1785" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="3122" y="574.5264">use</text></g><!--MD5=[9517a19e810f159680f934d60c3d203d]
link CommonTransactionManager to CommonSecuritySetting--><g id="link_CommonTransactionManager_CommonSecuritySetting"><path codeLine="522" d="M2966.5,790.678 C2978.22,815.758 2990.02,843.308 2999,869.498 C3154.31,1322.468 3248.71,1897.908 3274.07,2064.118 " fill="none" id="CommonTransactionManager-to-CommonSecuritySetting" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="3274.87,2069.388,3277.4612,2059.8862,3274.1129,2064.4457,3269.5534,2061.0975,3274.87,2069.388" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="2993.1739,835.0038,2993.9071,825.5215,2988.1935,826.9015,2993.1739,835.0038" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="3001" y="835.5264">provide</text></g><!--MD5=[9abb0600ea8d250195d8cfb730d979db]
reverse link SamRevocationServiceSpi to CommonSecuritySetting--><g id="link_SamRevocationServiceSpi_CommonSecuritySetting"><path codeLine="524" d="M4701.83,2064.338 C4723.57,1891.448 4771.8,1293.768 4444,1033.498 C4137.35,790.018 3872.92,794.198 3563,1033.498 C3226,1293.718 3259.95,1903.188 3276.17,2069.448 " fill="none" id="SamRevocationServiceSpi-backto-CommonSecuritySetting" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="4701.19,2069.328,4706.3142,2060.9172,4701.833,2064.3696,4698.3807,2059.8884,4701.19,2069.328" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="4006,830.1256,3996.9444,827.2191,3996.9655,833.097,4006,830.1256" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="4010" y="835.5264">use</text></g><!--MD5=[bf80d0b55d06d679fb8b5551976562e7]
reverse link CalypsoSam to CommonSecuritySetting--><g id="link_CalypsoSam_CommonSecuritySetting"><path codeLine="525" d="M5122.02,3487.03 C5103.79,3462.559 5081.51,3440.062 5055,3425.498 C4999.84,3395.193 4551.87,3406.383 4489,3403.498 C4437.54,3401.136 3602.4,3387.692 3563,3354.498 C3186.7,3037.448 3251.62,2332.938 3274.94,2154.638 " fill="none" id="CalypsoSam-backto-CommonSecuritySetting" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="5125.15,3491.296,5123.0533,3481.6729,5122.1932,3487.264,5116.6021,3486.4039,5125.15,3491.296" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="4498.0551,3397.0687,4492.4387,3389.3936,4489,3394.1606,4498.0551,3397.0687" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="4503" y="3399.5264">use</text></g><!--MD5=[791e09d4c810c8a1c6008939c8d78a95]
reverse link CalypsoCardSelection to FileOccurrence--><g id="link_CalypsoCardSelection_FileOccurrence"><path codeLine="527" d="M454.51,2400.958 C465.49,2664.178 467.164,3063.118 406,3403.498 C396.554,3456.067 376.195,3513.18 359.372,3554.791 " fill="none" id="CalypsoCardSelection-backto-FileOccurrence" style="stroke:#181818;stroke-width:2.0;"/><ellipse cx="454.2039" cy="2393.7707" fill="#FFFFFF" rx="8" ry="8" style="stroke:#181818;stroke-width:2.0;"/><line style="stroke:#181818;stroke-width:2.0;" x1="454.5467" x2="453.861" y1="2401.7633" y2="2385.778"/><line style="stroke:#181818;stroke-width:2.0;" x1="446.2112" x2="462.1965" y1="2394.1136" y2="2393.4278"/></g><!--MD5=[b2f8d5953c89cd71183705a81cb4cd83]
link CalypsoCardSelection to FileOccurrence--><g id="link_CalypsoCardSelection_FileOccurrence"><path codeLine="528" d="M413.706,2385.678 C393.221,2643.048 363.079,3039.798 343,3384.498 C339.759,3440.135 337.087,3503.384 335.323,3549.535 " fill="none" id="CalypsoCardSelection-to-FileOccurrence" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="335.123,3554.793,339.4621,3545.9515,335.313,3549.7967,331.4678,3545.6476,335.123,3554.793" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="347.664,3399.1323,351.2041,3390.3051,345.3395,3389.9101,347.664,3399.1323" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="357" y="3399.5264">provide</text></g><!--MD5=[124899d3a846069039d137320287bb3c]
reverse link CalypsoCardSelection to FileControlInformation--><g id="link_CalypsoCardSelection_FileControlInformation"><path codeLine="529" d="M410.12,2401.008 C381.545,2665.538 326.043,3066.428 228,3403.498 C210.249,3464.526 179.444,3531.334 158.648,3573.199 " fill="none" id="CalypsoCardSelection-backto-FileControlInformation" style="stroke:#181818;stroke-width:2.0;"/><ellipse cx="410.8997" cy="2393.7124" fill="#FFFFFF" rx="8" ry="8" style="stroke:#181818;stroke-width:2.0;"/><line style="stroke:#181818;stroke-width:2.0;" x1="410.0465" x2="411.753" y1="2401.6668" y2="2385.758"/><line style="stroke:#181818;stroke-width:2.0;" x1="402.9454" x2="418.8541" y1="2392.8592" y2="2394.5657"/></g><!--MD5=[d14a378fd0bab8d7334e27ffa02b6b16]
link CalypsoCardSelection to FileControlInformation--><g id="link_CalypsoCardSelection_FileControlInformation"><path codeLine="530" d="M370.507,2385.728 C310.652,2642.288 222.892,3037.758 165,3384.498 C154.431,3447.797 146.179,3521.509 141.449,3568.203 " fill="none" id="CalypsoCardSelection-to-FileControlInformation" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="140.946,3573.197,145.8282,3564.6435,141.4473,3568.2222,137.8686,3563.8413,140.946,3573.197" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="169.0491,3399.0523,173.6546,3390.7312,167.884,3389.6134,169.0491,3399.0523" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="179" y="3399.5264">provide</text></g><!--MD5=[957e52cfabfdeac703e0e4a67a1d654b]
link CardTransactionManager to WriteAccessLevel--><g id="link_CardTransactionManager_WriteAccessLevel"><path codeLine="532" d="M2531.82,3313.65 C2548.9,3328.003 2566.62,3341.645 2585,3354.498 C2654.07,3402.804 3284.59,3323.73 3343,3384.498 C3478.71,3525.684 3420.02,3671.767 3295,3822.498 C3229.72,3901.202 2934.19,3963.937 2787.75,3990.808 " fill="none" id="CardTransactionManager-to-WriteAccessLevel" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2782.61,3991.749,2792.183,3994.0638,2787.5283,3990.8491,2790.743,3986.1945,2782.61,3991.749" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="3427.7677,3620.8207,3427.319,3611.3207,3421.8208,3613.3987,3427.7677,3620.8207" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="3435" y="3621.5264">use</text></g><!--MD5=[6e3ea62bcea4255f9e0016e7a14d6e55]
link CardTransactionManager to SvOperation--><g id="link_CardTransactionManager_SvOperation"><path codeLine="533" d="M2148.57,3354.656 C2154.1,3447.906 2158.56,3523.207 2161.24,3568.391 " fill="none" id="CardTransactionManager-to-SvOperation" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2161.54,3573.48,2165.0001,3564.259,2161.244,3568.4888,2157.0141,3564.7327,2161.54,3573.48" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="2157.2959,3399.1348,2159.6944,3389.9316,2153.8269,3390.2795,2157.2959,3399.1348" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="2166" y="3399.5264">use</text></g><!--MD5=[43458ce7ca92b5bf9eba082436bc4f4b]
link CardTransactionManager to SvAction--><g id="link_CardTransactionManager_SvAction"><path codeLine="534" d="M2028.71,3354.656 C2025.23,3447.906 2022.42,3523.207 2020.74,3568.391 " fill="none" id="CardTransactionManager-to-SvAction" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2020.55,3573.48,2024.8848,3564.6364,2020.7375,3568.4836,2016.8904,3564.3363,2020.55,3573.48" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="2032.8137,3399.1401,2036.0876,3390.2108,2030.2138,3389.9918,2032.8137,3399.1401" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="2042" y="3399.5264">use</text></g><!--MD5=[c316da82647688efb33554c922e0ba44]
reverse link SelectFileControl to CardTransactionManager--><g id="link_SelectFileControl_CardTransactionManager"><path codeLine="535" d="M1379.4,732.258 C1441.07,760.228 1524.45,806.368 1578,869.498 C1591.8,885.768 1605.25,902.458 1618.35,919.538 " fill="none" id="SelectFileControl-backto-CardTransactionManager" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1374.63,730.108,1381.2064,737.4396,1379.1925,732.1533,1384.4788,730.1395,1374.63,730.108" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="1549.0647,827.0592,1554.3708,834.952,1557.9967,830.3257,1549.0647,827.0592" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="1562" y="835.5264">use</text></g><!--MD5=[17efe9176b1f62a456b602da9c1703b1]
reverse link GetDataTag to CardTransactionManager--><g id="link_GetDataTag_CardTransactionManager"><path codeLine="536" d="M1091.36,765.888 C1100.8,793.148 1116.19,822.388 1141,839.498 C1221.12,894.778 1499.31,812.208 1578,869.498 C1591.84,879.578 1605.3,890.098 1618.38,901.048 " fill="none" id="GetDataTag-backto-CardTransactionManager" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1089.66,760.818,1088.7202,770.622,1091.2454,765.56,1096.3074,768.0853,1089.66,760.818" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="1141.1567,828.9014,1149.1882,833.9952,1150.6484,828.3016,1141.1567,828.9014" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="1155" y="835.5264">use</text></g><!--MD5=[9bda690369adb1dbd55243a6b72e07b6]
link CardTransactionManager to SearchCommandData--><g id="link_CardTransactionManager_SearchCommandData"><path codeLine="537" d="M2531.63,2111.998 C2554.22,2111.998 2576.25,2111.998 2597.32,2111.998 " fill="none" id="CardTransactionManager-to-SearchCommandData" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2602.36,2111.998,2593.36,2107.998,2597.36,2111.998,2593.36,2115.998,2602.36,2111.998" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="2559,2099.6436,2549.9549,2096.7046,2549.9549,2102.5825,2559,2099.6436" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="2563" y="2105.0264">use</text></g><!--MD5=[290add383f9517a2de7babdd84045efc]
link CardTransactionManager to CalypsoCard--><g id="link_CardTransactionManager_CalypsoCard"><path codeLine="538" d="M1618.44,2111.998 C1480.9,2111.998 1337.61,2111.998 1228.3,2111.998 " fill="none" id="CardTransactionManager-to-CalypsoCard" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="1223.12,2111.998,1232.12,2115.998,1228.12,2111.998,1232.12,2107.998,1223.12,2111.998" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="1313.75,2099.6436,1322.7951,2102.5825,1322.7951,2096.7046,1313.75,2099.6436" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="1327.75" y="2105.0264">use and provide up to date content</text></g><!--MD5=[52b5f30b2d37598ca0e4149af55964c4]
link CardTransactionManager to CardSecuritySetting--><g id="link_CardTransactionManager_CardSecuritySetting"><path codeLine="539" d="M2531.54,3230.629 C2549.46,3272.503 2567.32,3313.907 2585,3354.498 C2595.48,3378.565 2606.73,3403.767 2618,3428.616 " fill="none" id="CardTransactionManager-to-CardSecuritySetting" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="2620.1,3433.252,2620.0275,3423.4035,2618.0357,3428.6981,2612.7411,3426.7063,2620.1,3433.252" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="2611.001,3398.7257,2610.0745,3389.2604,2604.6878,3391.6127,2611.001,3398.7257" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="2618" y="3399.5264">provide</text></g><!--MD5=[e7462c464ac49a3bd10175a329a45036]
link CardSecuritySetting to WriteAccessLevel--><g id="link_CardSecuritySetting_WriteAccessLevel"><path codeLine="541" d="M2705,3798.502 C2705,3852.863 2705,3908.538 2705,3948.359 " fill="none" id="CardSecuritySetting-to-WriteAccessLevel" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2705,3953.625,2709,3944.625,2705,3948.625,2701,3944.625,2705,3953.625" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="2710,3845.1436,2712.9389,3836.0985,2707.0611,3836.0985,2710,3845.1436" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="2719" y="3845.5264">use</text></g><!--MD5=[463830dd6010e96d60bfc26cb85b02c8]
link CalypsoSamSelection to SamProductType--><g id="link_CalypsoSamSelection_SamProductType"><path codeLine="543" d="M4863.16,3685.09 C4930.42,3733.561 5017.15,3803.387 5079,3879.498 C5089.27,3892.137 5098.64,3906.624 5106.89,3921.161 " fill="none" id="CalypsoSamSelection-to-SamProductType" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="5109.41,3925.672,5108.5001,3915.8653,5106.9659,3921.3101,5101.5211,3919.7759,5109.41,3925.672" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="5057.5915,3843.6222,5053.1391,3835.2182,5049.0497,3839.4403,5057.5915,3843.6222" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="5063" y="3845.5264">use</text></g><!--MD5=[bcbf95a248b76879897387f80e494102]
link SamTransactionManager to CalypsoSam--><g id="link_SamTransactionManager_CalypsoSam"><path codeLine="545" d="M3703.6,2154.708 C3756.11,2334.848 3989.92,3050.578 4468,3354.498 C4689.77,3495.481 4830.03,3289.678 5055,3425.498 C5080.41,3440.837 5102.09,3463.207 5120.08,3487.241 " fill="none" id="SamTransactionManager-to-CalypsoSam" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="5123.16,3491.428,5121.0456,3481.8088,5120.1958,3487.4015,5114.6031,3486.5516,5123.16,3491.428" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="5010.6418,3397.5695,5006.0675,3389.2313,5002.04,3393.5125,5010.6418,3397.5695" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="5016" y="3399.5264">provide</text></g><!--MD5=[486f18c8945b6f05a319b58b427cf92d]
link SamTransactionManager to SamSecuritySetting--><g id="link_SamTransactionManager_SamSecuritySetting"><path codeLine="546" d="M3702.65,2154.498 C3744.09,2326.498 3877.29,2991.358 3563,3354.498 C3478.7,3451.898 3381.02,3343.112 3282,3425.498 C3231.56,3467.463 3208.93,3544.995 3200.02,3586.696 " fill="none" id="SamTransactionManager-to-SamSecuritySetting" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="3198.95,3591.844,3204.6957,3583.8449,3199.9662,3586.9484,3196.8627,3582.2189,3198.95,3591.844" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="3525.3443,3398.8614,3531.1126,3391.2999,3525.5664,3389.3535,3525.3443,3398.8614" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="3536" y="3399.5264">provide</text></g><!--MD5=[1d7d1f3a59163c759a2873ea24945c0d]
reverse link CalypsoSam to SamProductType--><g id="link_CalypsoSam_SamProductType"><path codeLine="548" d="M5159.79,3755.466 C5155.89,3780.366 5152.39,3806.142 5150,3830.498 C5146.95,3861.565 5145.55,3895.882 5144.96,3925.803 " fill="none" id="CalypsoSam-backto-SamProductType" style="stroke:#181818;stroke-width:2.0;"/><ellipse cx="5160.9225" cy="3748.412" fill="#FFFFFF" rx="8" ry="8" style="stroke:#181818;stroke-width:2.0;"/><line style="stroke:#181818;stroke-width:2.0;" x1="5159.655" x2="5162.19" y1="3756.311" y2="3740.513"/><line style="stroke:#181818;stroke-width:2.0;" x1="5153.0236" x2="5168.8215" y1="3747.1445" y2="3749.6795"/></g><!--MD5=[cf1f36c13265bd4b5b312aa9a8ef60a4]
link CalypsoSam to SamProductType--><g id="link_CalypsoSam_SamProductType"><path codeLine="549" d="M5172.94,3740.564 C5166.73,3799.34 5159.47,3868.098 5153.9,3920.767 " fill="none" id="CalypsoSam-to-SamProductType" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="5153.37,3925.813,5158.2943,3917.2836,5153.8958,3920.8408,5150.3386,3916.4423,5153.37,3925.813" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="5167.4746,3845.1159,5171.3477,3836.4297,5165.5024,3835.8121,5167.4746,3845.1159" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="5177" y="3845.5264">provide</text></g><!--MD5=[3c766b8dbd2d4b637d84ed4972e0a262]
reverse link SelectFileControl to CalypsoCardSelection--><g id="link_SelectFileControl_CalypsoCardSelection"><path codeLine="551" d="M1268.37,756.208 C1248.7,786.248 1220.25,820.888 1185,839.498 C1117.53,875.108 902.764,822.078 843,869.498 C550.376,1101.688 465.812,1548.928 442.715,1838.438 " fill="none" id="SelectFileControl-backto-CalypsoCardSelection" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="1271.2,751.818,1262.9555,757.2058,1268.4861,756.0174,1269.6745,761.548,1271.2,751.818" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="1222.0328,826.1683,1214.2099,831.577,1218.883,835.1422,1222.0328,826.1683" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="1228" y="835.5264">use</text></g><!--MD5=[ed4b6019252305bc0cd5d3bef0d383d2]
reverse link GetDataTag to CalypsoCardSelection--><g id="link_GetDataTag_CalypsoCardSelection"><path codeLine="552" d="M967.161,759.308 C923.259,787.558 875.509,825.008 843,869.498 C629.8,1161.268 524.334,1570.688 475.08,1838.338 " fill="none" id="GetDataTag-backto-CalypsoCardSelection" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="971.397,756.608,961.6589,758.0811,967.1831,759.2993,965.9649,764.8234,971.397,756.608" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="892.0746,825.5943,885.6476,832.6045,890.9956,835.0434,892.0746,825.5943" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="899" y="835.5264">use</text></g><!--MD5=[b9c02494ee2edb3f49e24a11a76ae6d5]
link CalypsoCard to DirectoryHeader--><g id="link_CalypsoCard_DirectoryHeader"><path codeLine="554" d="M1085.23,2534.638 C1119.6,2869.868 1165.17,3314.292 1185.47,3512.27 " fill="none" id="CalypsoCard-to-DirectoryHeader" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="1186,3517.478,1189.0607,3508.1168,1185.4897,3512.5042,1181.1024,3508.9332,1186,3517.478" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="1179.51,3399.1175,1181.511,3389.8198,1175.6638,3390.4193,1179.51,3399.1175" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="1188" y="3399.5264">provide</text></g><!--MD5=[435a292fec6bd60cef8a6737227e6c35]
link CalypsoCard to ElementaryFile--><g id="link_CalypsoCard_ElementaryFile"><path codeLine="555" d="M1002.7,2534.638 C968.694,2899.468 922.634,3393.623 907.247,3558.702 " fill="none" id="CalypsoCard-to-ElementaryFile" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="906.757,3563.963,911.5754,3555.3733,907.2213,3558.9846,903.61,3554.6305,906.757,3563.963" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="927.536,3399.122,931.3017,3390.3887,925.4492,3389.8432,927.536,3399.122" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="937" y="3399.5264">provide</text></g><!--MD5=[57dcad9f3791efe87eb3de288cba384a]
reverse link CalypsoCard to CardProductType--><g id="link_CalypsoCard_CardProductType"><path codeLine="556" d="M1057.87,2549.818 C1047.2,2803.328 998.09,3118.198 843,3354.498 C829.402,3375.216 811.69,3365.316 796,3384.498 C760.218,3428.244 737.693,3488.014 724.258,3535.727 " fill="none" id="CalypsoCard-backto-CardProductType" style="stroke:#181818;stroke-width:2.0;"/><ellipse cx="1058.1479" cy="2542.742" fill="#FFFFFF" rx="8" ry="8" style="stroke:#181818;stroke-width:2.0;"/><line style="stroke:#181818;stroke-width:2.0;" x1="1057.8357" x2="1058.46" y1="2550.7359" y2="2534.748"/><line style="stroke:#181818;stroke-width:2.0;" x1="1050.1539" x2="1066.1418" y1="2542.4298" y2="2543.0541"/></g><!--MD5=[da295e0332042a57370ae8d038ae7841]
link CalypsoCard to CardProductType--><g id="link_CalypsoCard_CardProductType"><path codeLine="557" d="M1020.01,2534.578 C996.12,2780.668 946.386,3093.158 843,3354.498 C828.988,3389.917 813.748,3392.341 795,3425.498 C776.026,3459.054 757.64,3497.407 742.624,3530.792 " fill="none" id="CalypsoCard-to-CardProductType" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="740.433,3535.68,747.7632,3529.1022,742.4773,3531.1171,740.4624,3525.8312,740.433,3535.68" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="829.6588,3398.9603,834.9163,3391.035,829.2538,3389.4584,829.6588,3398.9603" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="840" y="3399.5264">provide</text></g><!--MD5=[aba73d32463631a1419cefff8db1a33e]
link CalypsoCard to SvLoadLogRecord--><g id="link_CalypsoCard_SvLoadLogRecord"><path codeLine="558" d="M1165.23,2534.638 C1256.14,2845.658 1374.52,3250.677 1437.35,3465.66 " fill="none" id="CalypsoCard-to-SvLoadLogRecord" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="1438.83,3470.703,1440.1446,3460.9423,1437.4274,3465.9038,1432.4659,3463.1865,1438.83,3470.703" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="1424.4027,3398.9428,1424.6861,3389.4364,1419.0443,3391.0854,1424.4027,3398.9428" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="1432" y="3399.5264">provide</text></g><!--MD5=[0ef7c8472eddb1facc6466acd43af4c7]
link CalypsoCard to SvDebitLogRecord--><g id="link_CalypsoCard_SvDebitLogRecord"><path codeLine="559" d="M1084.29,2534.518 C1087.2,2801.688 1043.17,3136.738 843,3354.498 C805.504,3395.288 774.749,3367.547 722,3384.498 C675.091,3399.572 655.581,3392.49 619,3425.498 C603.249,3439.711 589.596,3457.023 577.89,3475.343 " fill="none" id="CalypsoCard-to-SvDebitLogRecord" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="574.956,3480.021,583.1272,3474.5227,577.6131,3475.7855,576.3502,3470.2714,574.956,3480.021" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="724.6302,3398.5463,731.5051,3391.9746,726.3293,3389.1887,724.6302,3398.5463" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="736" y="3399.5264">provide</text></g><!--MD5=[dace07c6424a6284409add909451346a]
link DirectoryHeader to WriteAccessLevel--><g id="link_DirectoryHeader_WriteAccessLevel"><path codeLine="561" d="M1260.9,3714.745 C1292.6,3754.647 1334.24,3797.262 1382,3822.498 C1492.13,3880.69 2349.48,3969.771 2622.08,3996.888 " fill="none" id="DirectoryHeader-to-WriteAccessLevel" style="stroke:#27AE60;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#27AE60" points="2627.23,3997.4,2618.675,3992.5202,2622.2551,3996.9001,2617.8752,4000.4801,2627.23,3997.4" style="stroke:#27AE60;stroke-width:2.0;"/><polygon fill="#000000" points="1481.8959,3841.1584,1473.6356,3836.4448,1472.4426,3842.2003,1481.8959,3841.1584" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="1486" y="3845.5264">use</text></g><!--MD5=[cc1c643465d1c05aadfdd3e7e3ee33ff]
reverse link ElementaryFile to FileType--><g id="link_ElementaryFile_FileType"><path codeLine="563" d="M902,3683.333 C902,3753.564 902,3863.94 902,3935.389 " fill="none" id="ElementaryFile-backto-FileType" style="stroke:#181818;stroke-width:2.0;"/><ellipse cx="902" cy="3676.121" fill="#FFFFFF" rx="8" ry="8" style="stroke:#181818;stroke-width:2.0;"/><line style="stroke:#181818;stroke-width:2.0;" x1="902" x2="902" y1="3684.121" y2="3668.121"/><line style="stroke:#181818;stroke-width:2.0;" x1="894" x2="910" y1="3676.121" y2="3676.121"/></g><!--MD5=[78c7db04616214d64a65e1c3389039a2]
link ElementaryFile to FileHeader--><g id="link_ElementaryFile_FileHeader"><path codeLine="564" d="M880.917,3668.223 C861.837,3711.497 831.224,3773.995 795,3822.498 C775.699,3848.342 752.639,3873.834 729.37,3897.196 " fill="none" id="ElementaryFile-to-FileHeader" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="725.634,3900.927,734.8285,3897.3971,729.1717,3897.3937,729.1751,3891.7368,725.634,3900.927" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="789.2404,3844.313,796.6833,3838.3924,791.7818,3835.1483,789.2404,3844.313" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="801" y="3845.5264">provide</text></g><!--MD5=[86b3bd56e99d104172930610ea72020e]
link ElementaryFile to FileData--><g id="link_ElementaryFile_FileData"><path codeLine="565" d="M921.516,3668.297 C939.815,3712.192 970.158,3775.542 1009,3822.498 C1036.47,3855.706 1070.91,3886.838 1104.74,3913.658 " fill="none" id="ElementaryFile-to-FileData" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="1108.86,3916.907,1104.2741,3908.191,1104.9354,3913.8091,1099.3173,3914.4703,1108.86,3916.907" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="1038.9917,3844.1498,1035.9345,3835.144,1031.2249,3838.6609,1038.9917,3844.1498" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="1045" y="3845.5264">provide</text></g><!--MD5=[0277f54c0239137ab686445791bc46fe]
link FileHeader to FileType--><g id="link_FileHeader_FileType"><path codeLine="567" d="M725.541,4005.998 C753.67,4005.998 783.225,4005.998 809.93,4005.998 " fill="none" id="FileHeader-to-FileType" style="stroke:#3498DB;stroke-width:2.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#3498DB" points="815.232,4005.998,806.232,4001.998,810.232,4005.998,806.232,4009.998,815.232,4005.998" style="stroke:#3498DB;stroke-width:2.0;"/><polygon fill="#000000" points="753,3993.6436,743.9549,3990.7046,743.9549,3996.5825,753,3993.6436" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="757" y="3999.0264">provide</text></g><!--MD5=[bf7722f740cb91dc998df590632815d6]
@startuml
title
    Calypsonet - calypsonet-terminal-calypso-java-api - 1.6.+ (2023-01-20) WIP
end title

' == THEME ==

'Couleurs issues de : https://htmlcolorcodes.com/fr/tableau-de-couleur/tableau-de-couleur-design-plat/
!define C_GREY1 F8F9F9
!define C_GREY2 F2F3F4
!define C_GREY3 E5E7E9
!define C_GREY4 D7DBDD
!define C_GREY5 CACFD2
!define C_GREY6 BDC3C7
!define C_LINK 3498DB
!define C_USE 27AE60

' - - Styles that don't work with new version of plantuml - -
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
' - - END - -

skinparam ClassBorderThickness 2
skinparam ArrowThickness 2

' Yellow
skinparam ClassBackgroundColor #FEFECE
skinparam ClassBorderColor #D4AC0D
' Red
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
' Purple
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
' blue
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
' Green
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
' Grey
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

' == CONTENT ==

legend top
    __Colors legend__ :
    * __External public API references__ :
    ** <back:yellow>**calypsonet-terminal-reader-java-api**</back>
end legend

package "org.calypsonet.terminal.calypso" as api {

    +class "**final** CalypsoApiProperties" as ApiProperties {
        +{static} **final** String VERSION
    }
    +enum WriteAccessLevel {
        PERSONALIZATION
        LOAD
        DEBIT
    }
    +enum SelectFileControl {
        FIRST_EF
        NEXT_EF
        CURRENT_DF
    }
    +enum GetDataTag {
        FCP_FOR_CURRENT_FILE
        FCI_FOR_CURRENT_DF
        EF_LIST
        TRACEABILITY_INFORMATION
    }
    package spi {
        +interface SamRevocationServiceSpi {
            +boolean isSamRevoked (byte[] serialNumber)
            +boolean isSamRevoked (byte[] serialNumber, int counterValue)
        }
    }
    package card {
        +interface "<<<back:yellow>CardSelection</back>>>\nCalypsoCardSelection" as CalypsoCardSelection {
            +CalypsoCardSelection filterByCardProtocol (String cardProtocol)

            +CalypsoCardSelection filterByPowerOnData (String powerOnDataRegex)

            +CalypsoCardSelection filterByDfName (byte[] aid)
            +CalypsoCardSelection filterByDfName (String aid)
            +CalypsoCardSelection setFileOccurrence (FileOccurrence fileOccurrence)
            +CalypsoCardSelection setFileControlInformation (FileControlInformation fileControlInformation)
            +<s>CalypsoCardSelection addSuccessfulStatusWord (int statusWord)</s>

            +CalypsoCardSelection acceptInvalidatedCard ()

            +<s>CalypsoCardSelection prepareSelectFile (byte[] lid)</s>
            +CalypsoCardSelection prepareSelectFile (short lid)
            +CalypsoCardSelection prepareSelectFile (SelectFileControl selectControl)

            +CalypsoCardSelection prepareGetData (GetDataTag tag)

            +<s>CalypsoCardSelection prepareReadRecordFile (byte sfi, int recordNumber)</s>
            +CalypsoCardSelection prepareReadRecord (byte sfi, int recordNumber)

            +<color:blue>CalypsoCardSelection preparePreOpenSecureSession (WriteAccessLevel writeAccessLevel)
            +<color:blue>CalypsoCardSelection preparePreOpenSecureSession (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)

            +<color:red>CalypsoCardSelection preparePreOpening (WriteAccessLevel writeAccessLevel)
            +<color:red>CalypsoCardSelection preparePreOpening (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)
        }
        +enum FileOccurrence {
            FIRST
            LAST
            NEXT
            PREVIOUS
        }
        +enum FileControlInformation {
            FCI
            NO_RESPONSE
        }
        +interface "<<<back:yellow>SmartCard</back>>>\nCalypsoCard" as CalypsoCard {
            +ProductType getProductType ()
            +boolean isHce ()

            +boolean isDfInvalidated ()

            +byte[] getDfName ()
            +byte[] getApplicationSerialNumber ()

            +byte[] getStartupInfoRawData ()
            +byte getPlatform ()
            +byte getApplicationType ()
            +byte getApplicationSubtype ()
            +byte getSoftwareIssuer ()
            +byte getSoftwareVersion ()
            +byte getSoftwareRevision ()
            +byte getSessionModification ()

            +byte[] getTraceabilityInformation ()

            +DirectoryHeader getDirectoryHeader ()
            +ElementaryFile getFileBySfi (byte sfi)
            +ElementaryFile getFileByLid (short lid)
            +<s>Map<Byte, ElementaryFile> getAllFiles ()</s>
            +Set<ElementaryFile> getFiles ()

            +boolean isDfRatified ()
            +int getTransactionCounter ()

            +boolean isPkiModeSupported ()
            +boolean isExtendedModeSupported ()
            +boolean isRatificationOnDeselectSupported ()

            +boolean isPinFeatureAvailable ()
            +boolean isPinBlocked ()
            +int getPinAttemptRemaining ()

            +boolean isSvFeatureAvailable ()
            +int getSvBalance ()
            +int getSvLastTNum ()
            +SvLoadLogRecord getSvLoadLogRecord ()
            +SvDebitLogRecord getSvDebitLogLastRecord ()
            +List<SvDebitLogRecord> getSvDebitLogAllRecords ()
        }
        +interface DirectoryHeader {
            +short getLid ()
            +Byte getDfStatus ()

            +byte[] getAccessConditions ()
            +byte[] getKeyIndexes ()

            +byte getKif (WriteAccessLevel writeAccessLevel)
            +byte getKvc (WriteAccessLevel writeAccessLevel)
        }
        +interface ElementaryFile {
            +byte getSfi ()
            +FileHeader getHeader ()
            +FileData getData ()
        }
        +interface FileHeader {
            +short getLid ()
            +byte getDfStatus ()
            +ElementaryFile.Type getEfType ()

            +int getRecordsNumber ()
            +int getRecordSize ()

            +byte[] getAccessConditions ()
            +byte[] getKeyIndexes ()

            +Short getSharedReference ()
        }
        +enum "Type" as FileType {
            LINEAR
            BINARY
            CYCLIC
            COUNTERS
            SIMULATED_COUNTERS
        }
        +interface FileData {
            +byte[] getContent ()
            +byte[] getContent (int numRecord)
            +byte[] getContent (int numRecord, int dataOffset, int dataLength)
            +SortedMap<Integer, byte[]> getAllRecordsContent ()

            +Integer getContentAsCounterValue (int numCounter)
            +SortedMap<Integer, Integer> getAllCountersValue ()
        }
        +enum "ProductType" as CardProductType {
            PRIME_REVISION_1
            PRIME_REVISION_2
            PRIME_REVISION_3
            LIGHT
            BASIC
            UNKNOWN
        }
        +interface SvLoadLogRecord {
            +byte[] getRawData ()

            +byte[] getLoadDate ()
            +byte[] getLoadTime ()

            +int getAmount ()
            +int getBalance ()
            +byte[] getFreeData ()

            +byte getKvc ()
            +byte[] getSamId ()
            +int getSamTNum ()
            +int getSvTNum ()
        }
        +interface SvDebitLogRecord {
            +byte[] getRawData ()

            +byte[] getDebitDate ()
            +byte[] getDebitTime ()

            +int getAmount ()
            +int getBalance ()

            +byte getKvc ()
            +byte[] getSamId ()
            +int getSamTNum ()
            +int getSvTNum ()
        }
    }
    package sam {
        +interface "<<<back:yellow>CardSelection</back>>>\nCalypsoSamSelection" as CalypsoSamSelection {
            +CalypsoSamSelection filterByProductType (CalypsoSam.ProductType productType)
            +CalypsoSamSelection filterBySerialNumber (String serialNumberRegex)

            +CalypsoSamSelection setUnlockData (String unlockData)
        }
        +interface "<<<back:yellow>SmartCard</back>>>\nCalypsoSam" as CalypsoSam {
            +ProductType getProductType ()
            +String getProductInfo ()

            +byte[] getSerialNumber ()
            +byte getPlatform ()
            +byte getApplicationType ()
            +byte getApplicationSubType ()
            +byte getSoftwareIssuer ()
            +byte getSoftwareVersion ()
            +byte getSoftwareRevision ()
        }
        +enum "ProductType" as SamProductType {
            SAM_C1
            HSM_C1
            SAM_S1E1
            SAM_S1Dx
            <s>CSAM_F
            UNKNOWN
        }
    }
    package transaction {
        ' Common to Card and SAM
        +interface CommonTransactionManager<T extends CommonTransactionManager<T, S>,\nS extends CommonSecuritySetting<S>> {
            +<s>S getSecuritySetting ()
            +List<byte[]> getTransactionAuditData ()

            +T prepareComputeSignature (CommonSignatureComputationData<?> data)
            +T prepareVerifySignature (CommonSignatureVerificationData<?> data)

            +T processCommands ()
        }
        +interface CommonSignatureComputationData<T extends CommonSignatureComputationData<T>> {
            +T setData (byte[] data, byte kif, byte kvc)
            +T setSignatureSize (int size)
            +T setKeyDiversifier (byte[] diversifier)

            +byte[] getSignature ()
        }
        +interface BasicSignatureComputationData extends CommonSignatureComputationData {
        }
        +interface TraceableSignatureComputationData extends CommonSignatureComputationData {
            +TraceableSignatureComputationData withSamTraceabilityMode (int offset, boolean usePartialSamSerialNumber)
            +TraceableSignatureComputationData withoutBusyMode ()

            +byte[] getSignedData ()
        }
        +interface CommonSignatureVerificationData<T extends CommonSignatureVerificationData<T>> {
            +T setData (byte[] data, byte[] signature, byte kif, byte kvc)
            +T setKeyDiversifier (byte[] diversifier)

            +boolean isSignatureValid ()
        }
        +interface BasicSignatureVerificationData extends CommonSignatureVerificationData {
        }
        +interface TraceableSignatureVerificationData extends CommonSignatureVerificationData {
            +TraceableSignatureVerificationData withSamTraceabilityMode (int offset, boolean isPartialSamSerialNumber, boolean checkSamRevocationStatus)
            +TraceableSignatureVerificationData withoutBusyMode ()
        }
        +interface CommonSecuritySetting<S extends CommonSecuritySetting<S>> {
            +S setControlSamResource (<back:yellow>CardReader</back> samReader, CalypsoSam calypsoSam)
            +S setSamRevocationServiceSpi (SamRevocationServiceSpi service)
        }
        ' Card
        +interface CardTransactionManager extends CommonTransactionManager {
            +<s><back:yellow>CardReader</back> getCardReader ()
            +<s>CalypsoCard getCalypsoCard ()
            +<s>CardSecuritySetting getCardSecuritySetting ()

            +<s>CardTransactionManager prepareSelectFile (byte[] lid)
            +CardTransactionManager prepareSelectFile (short lid)
            +CardTransactionManager prepareSelectFile (SelectFileControl selectFileControl)

            +CardTransactionManager prepareGetData (GetDataTag tag)

            +<s>CardTransactionManager prepareReadRecordFile (byte sfi, int recordNumber)
            +<s>CardTransactionManager prepareReadRecordFile (byte sfi, int firstRecordNumber, int numberOfRecords, int recordSize)
            +<s>CardTransactionManager prepareReadCounterFile (byte sfi, int countersNumber)
            +CardTransactionManager prepareReadRecord (byte sfi, int recordNumber)
            +CardTransactionManager prepareReadRecords (byte sfi, int fromRecordNumber, int toRecordNumber, int recordSize)
            +CardTransactionManager prepareReadRecordsPartially (byte sfi, int fromRecordNumber, int toRecordNumber, int offset, int nbBytesToRead)
            +CardTransactionManager prepareReadBinary (byte sfi, int offset, int nbBytesToRead)
            +CardTransactionManager prepareReadCounter (byte sfi, int nbCountersToRead)

            +CardTransactionManager prepareSearchRecords (SearchCommandData data)

            +CardTransactionManager prepareCheckPinStatus ()

            +CardTransactionManager prepareAppendRecord (byte sfi, byte[] recordData)
            +CardTransactionManager prepareUpdateRecord (byte sfi, int recordNumber, byte[] recordData)
            +CardTransactionManager prepareWriteRecord (byte sfi, int recordNumber, byte[] recordData)

            +CardTransactionManager prepareUpdateBinary (byte sfi, int offset, byte[] data)
            +CardTransactionManager prepareWriteBinary (byte sfi, int offset, byte[] data)

            +CardTransactionManager prepareIncreaseCounter (byte sfi, int counterNumber, int incValue)
            +CardTransactionManager prepareIncreaseCounters(byte sfi, Map<Integer, Integer> counterNumberToIncValueMap)
            +CardTransactionManager prepareDecreaseCounter (byte sfi, int counterNumber, int decValue)
            +CardTransactionManager prepareDecreaseCounters(byte sfi, Map<Integer, Integer> counterNumberToDecValueMap)
            +CardTransactionManager prepareSetCounter (byte sfi, int counterNumber, int newValue)

            +CardTransactionManager prepareSvGet (SvOperation svOperation, SvAction svAction)
            +CardTransactionManager prepareSvReload (int amount, byte[] date, byte[] time, byte[] free)
            +CardTransactionManager prepareSvReload (int amount)
            +CardTransactionManager prepareSvDebit (int amount, byte[] date, byte[] time)
            +CardTransactionManager prepareSvDebit (int amount)
            +CardTransactionManager prepareSvReadAllLogs ()

            +CardTransactionManager prepareInvalidate ()
            +CardTransactionManager prepareRehabilitate ()

            +CardTransactionManager prepareEarlyMutualAuthentication ()
            +CardTransactionManager prepareActivateEncryption ()
            +CardTransactionManager prepareDeactivateEncryption ()

            +CardTransactionManager prepareReleaseCardChannel ()

            +<s>CardTransactionManager processCardCommands ()

            +CardTransactionManager processVerifyPin (byte[] pin)
            +CardTransactionManager processChangePin (byte[] newPin)

            +CardTransactionManager processChangeKey (int keyIndex, byte newKif, byte newKvc, byte issuerKif, byte issuerKvc)

            +CardTransactionManager processOpening (WriteAccessLevel writeAccessLevel)
            +CardTransactionManager processClosing ()
            +CardTransactionManager processCancel ()

            .. 1 ..

            +CardTransactionManager processPreOpenSecureSession (WriteAccessLevel writeAccessLevel)
            +CardTransactionManager processPreOpenSecureSession (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)

            +CardTransactionManager processPreOpenedSecureSession ()

            +CardTransactionManager processOpening (WriteAccessLevel writeAccessLevel)
            +CardTransactionManager processOpening (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)

            .. 1 bis ..

            +CardTransactionManager prepareRemoteSecureSession (WriteAccessLevel writeAccessLevel)
            +CardTransactionManager prepareRemoteSecureSession (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)

            +CardTransactionManager processRemoteSecureSession ()

            +CardTransactionManager processOpening (WriteAccessLevel writeAccessLevel)
            +CardTransactionManager processOpening (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)

            .. 1 ter ..

            +CardTransactionManager prepareStandaloneRemoteSecureSession (WriteAccessLevel writeAccessLevel)
            +CardTransactionManager prepareStandaloneRemoteSecureSession (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)

            +CardTransactionManager processStandaloneSecureSession ()

            +CardTransactionManager processOpening (WriteAccessLevel writeAccessLevel)
            +CardTransactionManager processOpening (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)

            .. 2 ..

            +CardTransactionManager processPreOpening (WriteAccessLevel writeAccessLevel)
            +CardTransactionManager processPreOpening (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)

            +CardTransactionManager processOpening (WriteAccessLevel writeAccessLevel)
            +CardTransactionManager processOpening (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)

            +CardTransactionManager processClosing ()

            .. 3 ..

            +CardTransactionManager processPreOpenSecureSession (WriteAccessLevel writeAccessLevel)
            +CardTransactionManager processPreOpenSecureSession (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)

            +CardTransactionManager prepareOpenSecureSession (WriteAccessLevel writeAccessLevel)
            +CardTransactionManager prepareOpenSecureSession (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)

            +CardTransactionManager prepareCloseSecureSession ()

            +CardTransactionManager processCancelSecureSession ()

            +CardTransactionManager processCommands ()

            .. 3 bis ..

            +CardTransactionManager processPreOpenSecureSession (WriteAccessLevel writeAccessLevel)
            +CardTransactionManager processPreOpenSecureSession (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)

            +CardTransactionManager prepareOpenSecureSession (WriteAccessLevel writeAccessLevel)
            +CardTransactionManager prepareOpenSecureSession (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)

            +CardTransactionManager processCloseSecureSession ()

            +CardTransactionManager processCancelSecureSession ()

            +CardTransactionManager processCommands ()
        }
        +enum SvOperation {
            RELOAD
            DEBIT
        }
        +enum SvAction {
            DO
            UNDO
        }
        +interface CardSecuritySetting extends CommonSecuritySetting {
            +<s>CardSecuritySetting setSamResource (<back:yellow>CardReader</back> samReader, CalypsoSam calypsoSam)

            +CardSecuritySetting enableMultipleSession ()
            +CardSecuritySetting enableRatificationMechanism ()
            +CardSecuritySetting enablePinPlainTransmission ()
            +CardSecuritySetting enableSvLoadAndDebitLog ()
            +CardSecuritySetting authorizeSvNegativeBalance ()

            +CardSecuritySetting assignKif (WriteAccessLevel writeAccessLevel, byte kvc, byte kif)
            +CardSecuritySetting assignDefaultKif (WriteAccessLevel writeAccessLevel, byte kif)
            +CardSecuritySetting assignDefaultKvc (WriteAccessLevel writeAccessLevel, byte kvc)

            +CardSecuritySetting addAuthorizedSessionKey (byte kif, byte kvc)
            +CardSecuritySetting addAuthorizedSvKey (byte kif, byte kvc)

            +CardSecuritySetting setPinVerificationCipheringKey (byte kif, byte kvc)
            +CardSecuritySetting setPinModificationCipheringKey (byte kif, byte kvc)
        }
        +interface SearchCommandData {
            +SearchCommandData setSfi (byte sfi)
            +SearchCommandData startAtRecord (int recordNumber)
            +SearchCommandData setOffset (int offset)
            +SearchCommandData enableRepeatedOffset ()
            +SearchCommandData setSearchData (byte[] data)
            +SearchCommandData setMask (byte[] mask)
            +SearchCommandData fetchFirstMatchingResult ()

            +List<Integer> getMatchingRecordNumbers ()
        }
        ' SAM
        +interface "<s>SamTransactionManager" as SamTransactionManager extends CommonTransactionManager {
            +<s><back:yellow>CardReader</back> getSamReader ()
            +<s>CalypsoSam getCalypsoSam ()
        }
        +interface "<s>SamSecuritySetting" as SamSecuritySetting extends CommonSecuritySetting {
        }
        ' Exceptions
        +class "<<RuntimeException>>" as RuntimeException {
            +**SessionBufferOverflowException**: Session buffer would overflow for atomic session.
            +**UnauthorizedKeyException**
            +**CardRevokedException**
            +**SamRevokedException**
            +**InconsistentDataException**: Number of R-APDUs != number of C-APDUs **or** data read in session != data read outside session.
            +**InvalidSignatureException**: R-APDU of PSO Verify Signature = 6988.
            +**InvalidCardSignatureException**: R-APDU of DigestAuthenticate = 6988 **or** R-APDU of SvCheck = 6988.
            +**CardSignatureNotVerifiableException**: R-APDU of CloseSecureSession = 9000 but SAM is no more available.
            +**SelectFileException**: R-APDU of SelectFile = 6A82.
            +**UnexpectedCommandStatusException**
            +**ReaderIOException**: Card reader and/or SAM reader communication is broken.
            +**CardIOException**
            +**SamIOException**
        }
    }
}

' Associations

CommonTransactionManager .up.> CommonSignatureComputationData #C_USE : use >
CommonTransactionManager .up.> CommonSignatureVerificationData #C_USE : use >
CommonTransactionManager ..> CommonSecuritySetting #C_LINK : provide >

CommonSecuritySetting .left.> SamRevocationServiceSpi #C_USE : use >
CommonSecuritySetting .left.> CalypsoSam #C_USE : use >

CalypsoCardSelection +- - FileOccurrence
CalypsoCardSelection ..> FileOccurrence #C_LINK : provide >
CalypsoCardSelection +- - FileControlInformation
CalypsoCardSelection ..> FileControlInformation #C_LINK : provide >

CardTransactionManager ..> WriteAccessLevel #C_USE : use >
CardTransactionManager ..> SvOperation #C_USE : use >
CardTransactionManager ..> SvAction #C_USE : use >
CardTransactionManager .up.> SelectFileControl #C_USE : use >
CardTransactionManager .up.> GetDataTag #C_USE : use >
CardTransactionManager .right.> SearchCommandData #C_USE : use >
CardTransactionManager .right.> CalypsoCard #C_LINK : use and provide up to date content >
CardTransactionManager ..> CardSecuritySetting #C_LINK : provide >

CardSecuritySetting ..> WriteAccessLevel #C_USE : use >

CalypsoSamSelection ..> SamProductType #C_USE : use >

SamTransactionManager ..> CalypsoSam #C_LINK : provide >
SamTransactionManager ..> SamSecuritySetting #C_LINK : provide >

CalypsoSam +- - SamProductType
CalypsoSam ..> SamProductType #C_LINK : provide >

CalypsoCardSelection .up.> SelectFileControl #C_USE : use >
CalypsoCardSelection .up.> GetDataTag #C_USE : use >

CalypsoCard ..> DirectoryHeader #C_LINK : provide >
CalypsoCard ..> ElementaryFile #C_LINK : provide >
CalypsoCard +- - CardProductType
CalypsoCard ..> CardProductType #C_LINK : provide >
CalypsoCard ..> SvLoadLogRecord #C_LINK : provide >
CalypsoCard ..> SvDebitLogRecord #C_LINK : provide >

DirectoryHeader ..> WriteAccessLevel #C_USE : use >

ElementaryFile +- - FileType
ElementaryFile ..> FileHeader #C_LINK : provide >
ElementaryFile ..> FileData #C_LINK : provide >

FileHeader .right.> FileType #C_LINK : provide >

' == LAYOUT ==

'CommonSignatureComputationData -[hidden]- CommonSignatureVerificationData
'CardSecuritySetting -[hidden]- CalypsoSam
'SamSecuritySetting -[hidden]- CalypsoSam

' == STYLE ==

package api #C_GREY1 {}
package spi #C_GREY2 {}
package card #C_GREY2 {}
package sam #C_GREY2 {}
package transaction #C_GREY2 {}


@enduml

@startuml
title
    Calypsonet - calypsonet-terminal-calypso-java-api - 1.6.+ (2023-01-20) WIP
end title



skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF

skinparam ClassBorderThickness 2
skinparam ArrowThickness 2

skinparam ClassBackgroundColor #FEFECE
skinparam ClassBorderColor #D4AC0D
skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #E9F7EF
skinparam ClassBorderColor<<green>> #27AE60
hide <<green>> stereotype
skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype


legend top
    __Colors legend__ :
    * __External public API references__ :
    ** <back:yellow>**calypsonet-terminal-reader-java-api**</back>
end legend

package "org.calypsonet.terminal.calypso" as api {

    +class "**final** CalypsoApiProperties" as ApiProperties {
        +{static} **final** String VERSION
    }
    +enum WriteAccessLevel {
        PERSONALIZATION
        LOAD
        DEBIT
    }
    +enum SelectFileControl {
        FIRST_EF
        NEXT_EF
        CURRENT_DF
    }
    +enum GetDataTag {
        FCP_FOR_CURRENT_FILE
        FCI_FOR_CURRENT_DF
        EF_LIST
        TRACEABILITY_INFORMATION
    }
    package spi {
        +interface SamRevocationServiceSpi {
            +boolean isSamRevoked (byte[] serialNumber)
            +boolean isSamRevoked (byte[] serialNumber, int counterValue)
        }
    }
    package card {
        +interface "<<<back:yellow>CardSelection</back>>>\nCalypsoCardSelection" as CalypsoCardSelection {
            +CalypsoCardSelection filterByCardProtocol (String cardProtocol)

            +CalypsoCardSelection filterByPowerOnData (String powerOnDataRegex)

            +CalypsoCardSelection filterByDfName (byte[] aid)
            +CalypsoCardSelection filterByDfName (String aid)
            +CalypsoCardSelection setFileOccurrence (FileOccurrence fileOccurrence)
            +CalypsoCardSelection setFileControlInformation (FileControlInformation fileControlInformation)
            +<s>CalypsoCardSelection addSuccessfulStatusWord (int statusWord)</s>

            +CalypsoCardSelection acceptInvalidatedCard ()

            +<s>CalypsoCardSelection prepareSelectFile (byte[] lid)</s>
            +CalypsoCardSelection prepareSelectFile (short lid)
            +CalypsoCardSelection prepareSelectFile (SelectFileControl selectControl)

            +CalypsoCardSelection prepareGetData (GetDataTag tag)

            +<s>CalypsoCardSelection prepareReadRecordFile (byte sfi, int recordNumber)</s>
            +CalypsoCardSelection prepareReadRecord (byte sfi, int recordNumber)

            +<color:blue>CalypsoCardSelection preparePreOpenSecureSession (WriteAccessLevel writeAccessLevel)
            +<color:blue>CalypsoCardSelection preparePreOpenSecureSession (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)

            +<color:red>CalypsoCardSelection preparePreOpening (WriteAccessLevel writeAccessLevel)
            +<color:red>CalypsoCardSelection preparePreOpening (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)
        }
        +enum FileOccurrence {
            FIRST
            LAST
            NEXT
            PREVIOUS
        }
        +enum FileControlInformation {
            FCI
            NO_RESPONSE
        }
        +interface "<<<back:yellow>SmartCard</back>>>\nCalypsoCard" as CalypsoCard {
            +ProductType getProductType ()
            +boolean isHce ()

            +boolean isDfInvalidated ()

            +byte[] getDfName ()
            +byte[] getApplicationSerialNumber ()

            +byte[] getStartupInfoRawData ()
            +byte getPlatform ()
            +byte getApplicationType ()
            +byte getApplicationSubtype ()
            +byte getSoftwareIssuer ()
            +byte getSoftwareVersion ()
            +byte getSoftwareRevision ()
            +byte getSessionModification ()

            +byte[] getTraceabilityInformation ()

            +DirectoryHeader getDirectoryHeader ()
            +ElementaryFile getFileBySfi (byte sfi)
            +ElementaryFile getFileByLid (short lid)
            +<s>Map<Byte, ElementaryFile> getAllFiles ()</s>
            +Set<ElementaryFile> getFiles ()

            +boolean isDfRatified ()
            +int getTransactionCounter ()

            +boolean isPkiModeSupported ()
            +boolean isExtendedModeSupported ()
            +boolean isRatificationOnDeselectSupported ()

            +boolean isPinFeatureAvailable ()
            +boolean isPinBlocked ()
            +int getPinAttemptRemaining ()

            +boolean isSvFeatureAvailable ()
            +int getSvBalance ()
            +int getSvLastTNum ()
            +SvLoadLogRecord getSvLoadLogRecord ()
            +SvDebitLogRecord getSvDebitLogLastRecord ()
            +List<SvDebitLogRecord> getSvDebitLogAllRecords ()
        }
        +interface DirectoryHeader {
            +short getLid ()
            +Byte getDfStatus ()

            +byte[] getAccessConditions ()
            +byte[] getKeyIndexes ()

            +byte getKif (WriteAccessLevel writeAccessLevel)
            +byte getKvc (WriteAccessLevel writeAccessLevel)
        }
        +interface ElementaryFile {
            +byte getSfi ()
            +FileHeader getHeader ()
            +FileData getData ()
        }
        +interface FileHeader {
            +short getLid ()
            +byte getDfStatus ()
            +ElementaryFile.Type getEfType ()

            +int getRecordsNumber ()
            +int getRecordSize ()

            +byte[] getAccessConditions ()
            +byte[] getKeyIndexes ()

            +Short getSharedReference ()
        }
        +enum "Type" as FileType {
            LINEAR
            BINARY
            CYCLIC
            COUNTERS
            SIMULATED_COUNTERS
        }
        +interface FileData {
            +byte[] getContent ()
            +byte[] getContent (int numRecord)
            +byte[] getContent (int numRecord, int dataOffset, int dataLength)
            +SortedMap<Integer, byte[]> getAllRecordsContent ()

            +Integer getContentAsCounterValue (int numCounter)
            +SortedMap<Integer, Integer> getAllCountersValue ()
        }
        +enum "ProductType" as CardProductType {
            PRIME_REVISION_1
            PRIME_REVISION_2
            PRIME_REVISION_3
            LIGHT
            BASIC
            UNKNOWN
        }
        +interface SvLoadLogRecord {
            +byte[] getRawData ()

            +byte[] getLoadDate ()
            +byte[] getLoadTime ()

            +int getAmount ()
            +int getBalance ()
            +byte[] getFreeData ()

            +byte getKvc ()
            +byte[] getSamId ()
            +int getSamTNum ()
            +int getSvTNum ()
        }
        +interface SvDebitLogRecord {
            +byte[] getRawData ()

            +byte[] getDebitDate ()
            +byte[] getDebitTime ()

            +int getAmount ()
            +int getBalance ()

            +byte getKvc ()
            +byte[] getSamId ()
            +int getSamTNum ()
            +int getSvTNum ()
        }
    }
    package sam {
        +interface "<<<back:yellow>CardSelection</back>>>\nCalypsoSamSelection" as CalypsoSamSelection {
            +CalypsoSamSelection filterByProductType (CalypsoSam.ProductType productType)
            +CalypsoSamSelection filterBySerialNumber (String serialNumberRegex)

            +CalypsoSamSelection setUnlockData (String unlockData)
        }
        +interface "<<<back:yellow>SmartCard</back>>>\nCalypsoSam" as CalypsoSam {
            +ProductType getProductType ()
            +String getProductInfo ()

            +byte[] getSerialNumber ()
            +byte getPlatform ()
            +byte getApplicationType ()
            +byte getApplicationSubType ()
            +byte getSoftwareIssuer ()
            +byte getSoftwareVersion ()
            +byte getSoftwareRevision ()
        }
        +enum "ProductType" as SamProductType {
            SAM_C1
            HSM_C1
            SAM_S1E1
            SAM_S1Dx
            <s>CSAM_F
            UNKNOWN
        }
    }
    package transaction {
        +interface CommonTransactionManager<T extends CommonTransactionManager<T, S>,\nS extends CommonSecuritySetting<S>> {
            +<s>S getSecuritySetting ()
            +List<byte[]> getTransactionAuditData ()

            +T prepareComputeSignature (CommonSignatureComputationData<?> data)
            +T prepareVerifySignature (CommonSignatureVerificationData<?> data)

            +T processCommands ()
        }
        +interface CommonSignatureComputationData<T extends CommonSignatureComputationData<T>> {
            +T setData (byte[] data, byte kif, byte kvc)
            +T setSignatureSize (int size)
            +T setKeyDiversifier (byte[] diversifier)

            +byte[] getSignature ()
        }
        +interface BasicSignatureComputationData extends CommonSignatureComputationData {
        }
        +interface TraceableSignatureComputationData extends CommonSignatureComputationData {
            +TraceableSignatureComputationData withSamTraceabilityMode (int offset, boolean usePartialSamSerialNumber)
            +TraceableSignatureComputationData withoutBusyMode ()

            +byte[] getSignedData ()
        }
        +interface CommonSignatureVerificationData<T extends CommonSignatureVerificationData<T>> {
            +T setData (byte[] data, byte[] signature, byte kif, byte kvc)
            +T setKeyDiversifier (byte[] diversifier)

            +boolean isSignatureValid ()
        }
        +interface BasicSignatureVerificationData extends CommonSignatureVerificationData {
        }
        +interface TraceableSignatureVerificationData extends CommonSignatureVerificationData {
            +TraceableSignatureVerificationData withSamTraceabilityMode (int offset, boolean isPartialSamSerialNumber, boolean checkSamRevocationStatus)
            +TraceableSignatureVerificationData withoutBusyMode ()
        }
        +interface CommonSecuritySetting<S extends CommonSecuritySetting<S>> {
            +S setControlSamResource (<back:yellow>CardReader</back> samReader, CalypsoSam calypsoSam)
            +S setSamRevocationServiceSpi (SamRevocationServiceSpi service)
        }
        +interface CardTransactionManager extends CommonTransactionManager {
            +<s><back:yellow>CardReader</back> getCardReader ()
            +<s>CalypsoCard getCalypsoCard ()
            +<s>CardSecuritySetting getCardSecuritySetting ()

            +<s>CardTransactionManager prepareSelectFile (byte[] lid)
            +CardTransactionManager prepareSelectFile (short lid)
            +CardTransactionManager prepareSelectFile (SelectFileControl selectFileControl)

            +CardTransactionManager prepareGetData (GetDataTag tag)

            +<s>CardTransactionManager prepareReadRecordFile (byte sfi, int recordNumber)
            +<s>CardTransactionManager prepareReadRecordFile (byte sfi, int firstRecordNumber, int numberOfRecords, int recordSize)
            +<s>CardTransactionManager prepareReadCounterFile (byte sfi, int countersNumber)
            +CardTransactionManager prepareReadRecord (byte sfi, int recordNumber)
            +CardTransactionManager prepareReadRecords (byte sfi, int fromRecordNumber, int toRecordNumber, int recordSize)
            +CardTransactionManager prepareReadRecordsPartially (byte sfi, int fromRecordNumber, int toRecordNumber, int offset, int nbBytesToRead)
            +CardTransactionManager prepareReadBinary (byte sfi, int offset, int nbBytesToRead)
            +CardTransactionManager prepareReadCounter (byte sfi, int nbCountersToRead)

            +CardTransactionManager prepareSearchRecords (SearchCommandData data)

            +CardTransactionManager prepareCheckPinStatus ()

            +CardTransactionManager prepareAppendRecord (byte sfi, byte[] recordData)
            +CardTransactionManager prepareUpdateRecord (byte sfi, int recordNumber, byte[] recordData)
            +CardTransactionManager prepareWriteRecord (byte sfi, int recordNumber, byte[] recordData)

            +CardTransactionManager prepareUpdateBinary (byte sfi, int offset, byte[] data)
            +CardTransactionManager prepareWriteBinary (byte sfi, int offset, byte[] data)

            +CardTransactionManager prepareIncreaseCounter (byte sfi, int counterNumber, int incValue)
            +CardTransactionManager prepareIncreaseCounters(byte sfi, Map<Integer, Integer> counterNumberToIncValueMap)
            +CardTransactionManager prepareDecreaseCounter (byte sfi, int counterNumber, int decValue)
            +CardTransactionManager prepareDecreaseCounters(byte sfi, Map<Integer, Integer> counterNumberToDecValueMap)
            +CardTransactionManager prepareSetCounter (byte sfi, int counterNumber, int newValue)

            +CardTransactionManager prepareSvGet (SvOperation svOperation, SvAction svAction)
            +CardTransactionManager prepareSvReload (int amount, byte[] date, byte[] time, byte[] free)
            +CardTransactionManager prepareSvReload (int amount)
            +CardTransactionManager prepareSvDebit (int amount, byte[] date, byte[] time)
            +CardTransactionManager prepareSvDebit (int amount)
            +CardTransactionManager prepareSvReadAllLogs ()

            +CardTransactionManager prepareInvalidate ()
            +CardTransactionManager prepareRehabilitate ()

            +CardTransactionManager prepareEarlyMutualAuthentication ()
            +CardTransactionManager prepareActivateEncryption ()
            +CardTransactionManager prepareDeactivateEncryption ()

            +CardTransactionManager prepareReleaseCardChannel ()

            +<s>CardTransactionManager processCardCommands ()

            +CardTransactionManager processVerifyPin (byte[] pin)
            +CardTransactionManager processChangePin (byte[] newPin)

            +CardTransactionManager processChangeKey (int keyIndex, byte newKif, byte newKvc, byte issuerKif, byte issuerKvc)

            +CardTransactionManager processOpening (WriteAccessLevel writeAccessLevel)
            +CardTransactionManager processClosing ()
            +CardTransactionManager processCancel ()

            .. 1 ..

            +CardTransactionManager processPreOpenSecureSession (WriteAccessLevel writeAccessLevel)
            +CardTransactionManager processPreOpenSecureSession (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)

            +CardTransactionManager processPreOpenedSecureSession ()

            +CardTransactionManager processOpening (WriteAccessLevel writeAccessLevel)
            +CardTransactionManager processOpening (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)

            .. 1 bis ..

            +CardTransactionManager prepareRemoteSecureSession (WriteAccessLevel writeAccessLevel)
            +CardTransactionManager prepareRemoteSecureSession (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)

            +CardTransactionManager processRemoteSecureSession ()

            +CardTransactionManager processOpening (WriteAccessLevel writeAccessLevel)
            +CardTransactionManager processOpening (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)

            .. 1 ter ..

            +CardTransactionManager prepareStandaloneRemoteSecureSession (WriteAccessLevel writeAccessLevel)
            +CardTransactionManager prepareStandaloneRemoteSecureSession (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)

            +CardTransactionManager processStandaloneSecureSession ()

            +CardTransactionManager processOpening (WriteAccessLevel writeAccessLevel)
            +CardTransactionManager processOpening (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)

            .. 2 ..

            +CardTransactionManager processPreOpening (WriteAccessLevel writeAccessLevel)
            +CardTransactionManager processPreOpening (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)

            +CardTransactionManager processOpening (WriteAccessLevel writeAccessLevel)
            +CardTransactionManager processOpening (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)

            +CardTransactionManager processClosing ()

            .. 3 ..

            +CardTransactionManager processPreOpenSecureSession (WriteAccessLevel writeAccessLevel)
            +CardTransactionManager processPreOpenSecureSession (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)

            +CardTransactionManager prepareOpenSecureSession (WriteAccessLevel writeAccessLevel)
            +CardTransactionManager prepareOpenSecureSession (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)

            +CardTransactionManager prepareCloseSecureSession ()

            +CardTransactionManager processCancelSecureSession ()

            +CardTransactionManager processCommands ()

            .. 3 bis ..

            +CardTransactionManager processPreOpenSecureSession (WriteAccessLevel writeAccessLevel)
            +CardTransactionManager processPreOpenSecureSession (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)

            +CardTransactionManager prepareOpenSecureSession (WriteAccessLevel writeAccessLevel)
            +CardTransactionManager prepareOpenSecureSession (WriteAccessLevel writeAccessLevel, byte sfi, int recordNumber)

            +CardTransactionManager processCloseSecureSession ()

            +CardTransactionManager processCancelSecureSession ()

            +CardTransactionManager processCommands ()
        }
        +enum SvOperation {
            RELOAD
            DEBIT
        }
        +enum SvAction {
            DO
            UNDO
        }
        +interface CardSecuritySetting extends CommonSecuritySetting {
            +<s>CardSecuritySetting setSamResource (<back:yellow>CardReader</back> samReader, CalypsoSam calypsoSam)

            +CardSecuritySetting enableMultipleSession ()
            +CardSecuritySetting enableRatificationMechanism ()
            +CardSecuritySetting enablePinPlainTransmission ()
            +CardSecuritySetting enableSvLoadAndDebitLog ()
            +CardSecuritySetting authorizeSvNegativeBalance ()

            +CardSecuritySetting assignKif (WriteAccessLevel writeAccessLevel, byte kvc, byte kif)
            +CardSecuritySetting assignDefaultKif (WriteAccessLevel writeAccessLevel, byte kif)
            +CardSecuritySetting assignDefaultKvc (WriteAccessLevel writeAccessLevel, byte kvc)

            +CardSecuritySetting addAuthorizedSessionKey (byte kif, byte kvc)
            +CardSecuritySetting addAuthorizedSvKey (byte kif, byte kvc)

            +CardSecuritySetting setPinVerificationCipheringKey (byte kif, byte kvc)
            +CardSecuritySetting setPinModificationCipheringKey (byte kif, byte kvc)
        }
        +interface SearchCommandData {
            +SearchCommandData setSfi (byte sfi)
            +SearchCommandData startAtRecord (int recordNumber)
            +SearchCommandData setOffset (int offset)
            +SearchCommandData enableRepeatedOffset ()
            +SearchCommandData setSearchData (byte[] data)
            +SearchCommandData setMask (byte[] mask)
            +SearchCommandData fetchFirstMatchingResult ()

            +List<Integer> getMatchingRecordNumbers ()
        }
        +interface "<s>SamTransactionManager" as SamTransactionManager extends CommonTransactionManager {
            +<s><back:yellow>CardReader</back> getSamReader ()
            +<s>CalypsoSam getCalypsoSam ()
        }
        +interface "<s>SamSecuritySetting" as SamSecuritySetting extends CommonSecuritySetting {
        }
        +class "<<RuntimeException>>" as RuntimeException {
            +**SessionBufferOverflowException**: Session buffer would overflow for atomic session.
            +**UnauthorizedKeyException**
            +**CardRevokedException**
            +**SamRevokedException**
            +**InconsistentDataException**: Number of R-APDUs != number of C-APDUs **or** data read in session != data read outside session.
            +**InvalidSignatureException**: R-APDU of PSO Verify Signature = 6988.
            +**InvalidCardSignatureException**: R-APDU of DigestAuthenticate = 6988 **or** R-APDU of SvCheck = 6988.
            +**CardSignatureNotVerifiableException**: R-APDU of CloseSecureSession = 9000 but SAM is no more available.
            +**SelectFileException**: R-APDU of SelectFile = 6A82.
            +**UnexpectedCommandStatusException**
            +**ReaderIOException**: Card reader and/or SAM reader communication is broken.
            +**CardIOException**
            +**SamIOException**
        }
    }
}


CommonTransactionManager .up.> CommonSignatureComputationData #27AE60 : use >
CommonTransactionManager .up.> CommonSignatureVerificationData #27AE60 : use >
CommonTransactionManager ..> CommonSecuritySetting #3498DB : provide >

CommonSecuritySetting .left.> SamRevocationServiceSpi #27AE60 : use >
CommonSecuritySetting .left.> CalypsoSam #27AE60 : use >

CalypsoCardSelection +- - FileOccurrence
CalypsoCardSelection ..> FileOccurrence #3498DB : provide >
CalypsoCardSelection +- - FileControlInformation
CalypsoCardSelection ..> FileControlInformation #3498DB : provide >

CardTransactionManager ..> WriteAccessLevel #27AE60 : use >
CardTransactionManager ..> SvOperation #27AE60 : use >
CardTransactionManager ..> SvAction #27AE60 : use >
CardTransactionManager .up.> SelectFileControl #27AE60 : use >
CardTransactionManager .up.> GetDataTag #27AE60 : use >
CardTransactionManager .right.> SearchCommandData #27AE60 : use >
CardTransactionManager .right.> CalypsoCard #3498DB : use and provide up to date content >
CardTransactionManager ..> CardSecuritySetting #3498DB : provide >

CardSecuritySetting ..> WriteAccessLevel #27AE60 : use >

CalypsoSamSelection ..> SamProductType #27AE60 : use >

SamTransactionManager ..> CalypsoSam #3498DB : provide >
SamTransactionManager ..> SamSecuritySetting #3498DB : provide >

CalypsoSam +- - SamProductType
CalypsoSam ..> SamProductType #3498DB : provide >

CalypsoCardSelection .up.> SelectFileControl #27AE60 : use >
CalypsoCardSelection .up.> GetDataTag #27AE60 : use >

CalypsoCard ..> DirectoryHeader #3498DB : provide >
CalypsoCard ..> ElementaryFile #3498DB : provide >
CalypsoCard +- - CardProductType
CalypsoCard ..> CardProductType #3498DB : provide >
CalypsoCard ..> SvLoadLogRecord #3498DB : provide >
CalypsoCard ..> SvDebitLogRecord #3498DB : provide >

DirectoryHeader ..> WriteAccessLevel #27AE60 : use >

ElementaryFile +- - FileType
ElementaryFile ..> FileHeader #3498DB : provide >
ElementaryFile ..> FileData #3498DB : provide >

FileHeader .right.> FileType #3498DB : provide >




package api #F8F9F9 {}
package spi #F2F3F4 {}
package card #F2F3F4 {}
package sam #F2F3F4 {}
package transaction #F2F3F4 {}


@enduml

PlantUML version 1.2022.13(Sat Nov 19 14:22:17 CET 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>